!function(e){function t(t){for(var i,o,s=t[0],l=t[1],c=t[2],d=0,f=[];d<s.length;d++)o=s[d],a[o]&&f.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(u&&u(t);f.length;)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},o={13:0},a={13:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[];o[e]?t.push(o[e]):0!==o[e]&&{38:1}[e]&&t.push(o[e]=new Promise(function(t,n){for(var i=({0:"vendors-viz-escher-viz-graph-viz-javascript-viz-logic-circuit-viz-operator-search-viz-quantum-circui-59021f98",1:"vendors-d3-nux-d3-stats-viz-escher-viz-graph",2:"vendors-viz-canvas-viz-escher-viz-graph-viz-huygens-clock",3:"vendors-viz-escher-viz-graph-viz-operator-search-viz-quantum-circuit",4:"vendors-d3-stats-viz-escher-viz-graph",5:"vendors-viz-coinflip-viz-escher-viz-graph",6:"viz-escher-viz-graph",10:"admin",38:"logic-circuit-css",62:"vendors-codemirror",63:"vendors-d3-nux",64:"vendors-viz-canvas",65:"vendors-viz-escher",66:"vendors-viz-quantum-circuit",69:"viz-canvas",70:"viz-coinflip",71:"viz-escher",72:"viz-graph",73:"viz-huygens-clock",74:"viz-javascript",75:"viz-logic-circuit",76:"viz-operator-search",77:"viz-quantum-circuit"}[e]||e)+".css",o=s.p+i,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var l=(d=a[r]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===i||l===o))return t()}var c=document.getElementsByTagName("style");for(r=0;r<c.length;r++){var d;if((l=(d=c[r]).getAttribute("data-href"))===i||l===o)return t()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=t,u.onerror=function(t){var i=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");a.request=i,n(a)},u.href=o,document.getElementsByTagName("head")[0].appendChild(u)}).then(function(){o[e]=0}));var n,i=a[e];if(0!==i)if(i)t.push(i[2]);else{var r=new Promise(function(t,n){i=a[e]=[t,n]});t.push(i[2]=r);var l,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=s.p+""+({0:"vendors-viz-escher-viz-graph-viz-javascript-viz-logic-circuit-viz-operator-search-viz-quantum-circui-59021f98",1:"vendors-d3-nux-d3-stats-viz-escher-viz-graph",2:"vendors-viz-canvas-viz-escher-viz-graph-viz-huygens-clock",3:"vendors-viz-escher-viz-graph-viz-operator-search-viz-quantum-circuit",4:"vendors-d3-stats-viz-escher-viz-graph",5:"vendors-viz-coinflip-viz-escher-viz-graph",6:"viz-escher-viz-graph",10:"admin",38:"logic-circuit-css",62:"vendors-codemirror",63:"vendors-d3-nux",64:"vendors-viz-canvas",65:"vendors-viz-escher",66:"vendors-viz-quantum-circuit",69:"viz-canvas",70:"viz-coinflip",71:"viz-escher",72:"viz-graph",73:"viz-huygens-clock",74:"viz-javascript",75:"viz-logic-circuit",76:"viz-operator-search",77:"viz-quantum-circuit"}[n=e]||n)+".js?"+{0:"4e8bce089bdcd8a70129",1:"e1313ead3e9e0dfcab02",2:"2f73b72a8de756008359",3:"6b81eb35484a37a9864e",4:"77bd26c00a7981dc60db",5:"56e3b89f9f396a30980f",6:"af453d4a64935abe9dc8",10:"7561546b61175420875c",38:"2502d4c666677ef4307c",62:"b808f74596d3098be7c4",63:"56c0d44e1ffc3cd43e69",64:"04a47b8a57e2ade9b9d2",65:"62381ff804477f9f9524",66:"80112381cba9698c6074",69:"ea1ab54e932b0a6fdab1",70:"1ee85ee9d44dde6bf351",71:"c5370213e5a7fcba550f",72:"18f8aeef7d8e8317f60a",73:"dd4f9655cb1e53c46a1f",74:"7ae8ed8ab439244cedf2",75:"69de0ab8a36883a02541",76:"44ab3594fbbf21d43a65",77:"b94c70fc03171668efc8"}[n],l=function(t){c.onerror=c.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+i+": "+o+")");r.type=i,r.request=o,n[1](r)}a[e]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:c})},12e4);c.onerror=c.onload=l,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="https://brilliant.org/site_media/build/dist/",s.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;r.push([408,17]),n()}({1:function(e,t,n){"use strict";var i=l(n(0)),o=l(n(2)),a=n(7),r=l(n(37)),s=n(12);function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d={};d.$document=(0,i.default)(document),d.$html=(0,i.default)(document.documentElement),d.$body=(0,i.default)(document.body),d.$window=(0,i.default)(window),d.jqCreateElem=function(e){return(0,i.default)(document.createElement(e))},d.jqGetElemById=function(){for(var e=[],t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach(function(t){var n=document.getElementById(t);n&&e.push(n)}),(0,i.default)(e)},d.jqGetElemByCmpName=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.map(function(e){return"cmp_".concat(e,"_id")});return d.jqGetElemById.apply(d,function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(i))};var u,f=d.$body.data();if(d.isIos=!0===f.isIos||0<=navigator.userAgent.indexOf("brilliant-ios-"),d.isIosWeb=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,d.iosVersion={},d.isAndroid=!0===f.isAndroid||0<=navigator.userAgent.indexOf("brilliant-android-"),d.isAndroidWeb=-1!==navigator.userAgent.toLowerCase().indexOf("android"),d.isNative=d.isIos||d.isAndroid,d.isMobile=!0===f.isMobile||d.isNative,d.appVersion=function(){if(f.appVersion)return new r.default(f.appVersion);var e=window.navigator.userAgent.match(/brilliant-(android|ios)-(.*?)$/),t=null!==e&&e.length?e[2]:null;return new r.default(t)}(),d.isTouchDevice="ontouchstart"in document.documentElement,d.userIsAuthenticated=d.$body.hasClass("active"),d.isBrilliantPremium=d.$body.hasClass("b2"),d.isBrilliantPro=!0===f.isBrilliantPro,d.media_host=f.mediaHost,d.instantTryItYourself=d.$body.hasClass("instant-try-it-yourself"),d.smallPadding=8,d.mediumPadding=2*d.smallPadding,d.largePadding=3*d.smallPadding,d.supports_local_storage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),d.isIosWeb){var p=/OS (\d+_\d+(_\d+)?)/.exec(navigator.appVersion);if(p){var h=p[1];p[2]||(h+="_0"),h=h.replace(/_/g,"."),d.iosVersion=new r.default(h)}}d.supportsAnimation=(u=null,function(){if(null!==u)return u;u=!1;var e=["Webkit","Moz","O","ms","Khtml"],t=document.createElement("div");if(void 0!==t.style.animationName&&(u=!0),!1===u)for(var n=0;n<e.length;n++)if(void 0!==t.style[e[n]+"AnimationName"]){e[n].toLowerCase(),u=!0;break}return u}),window.get_valid_file_extensions=function(){return["gif","jpg","jpeg","png"]},window.history.pushState=window.history.pushState||i.default.noop,d.commaFormat=function(e){return-1<(e=""+e).indexOf(".")&&(e=e.split(".")[0]),3<e.length?d.commaFormat(e.substring(0,e.length-3))+","+e.substring(e.length-3):"".length?e+".":e},d.getRelativeUrl=function(){return location.pathname+location.search},d.jqOffOn=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e.each(function(e,t){var o;(o=(0,i.default)(t).off(n[0])).on.apply(o,n)})},d.setScrollPosition=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.$container,i=void 0===n?d.$html.add(d.$body):n,r=t.animate,s=void 0!==r&&r,l=t.delay,c=void 0===l?0:l,u=t.duration,f=void 0===u?a.TRANSITION_SPEED_MEDIUM:u,p=t.callback,h=void 0===p?o.default.noop:p;s?(c&&i.delay(c),i.animate({scrollTop:e},{duration:f,complete:o.default.once(h)})):(i.scrollTop(e),h())},d.toggleComponentDebug=function(e){e.on("click",function(e){e.preventDefault(),(0,i.default)("div.debug_component_info").toggle()})};var m=window.ie_version||!1;(0,s.onDOMReady)(function(){var e=[],t=[],n=/Edge/.test(navigator.userAgent);if(e.push("no-js"),t.push("js"),t.push(n?"msedge":"not-msedge"),!1!==m||/msie/i.test(navigator.userAgent)||/rv:1./.test(navigator.userAgent)){if(t.push("ie"),!m)try{m=parseInt(navigator.userAgent.match(/msie (\d{1,2})/i)[1],10)}catch(e){m=10}-1===m&&t.push("ie-noncompatible"),9<=m&&t.push("ie-modern"),6<=m&&t.push("ie-".concat(m))}else{var i=navigator.userAgent.toLowerCase();-1!==i.indexOf("applewebkit")?(t.push("webkit"),"object"===c(window.chrome)&&t.push("chrome")):-1!==i.indexOf("gecko")?t.push("mozilla"):-1!==i.indexOf("presto")?(t.push("opera"),-1!==i.indexOf("opera mini")&&t.push("opera-mini")):-1!==i.indexOf("series40")&&t.push("s40");var o=i.match(/android\s([0-9.]*)/);null!==o&&(4.4<=parseFloat(o[1])?t.push("android-newer"):t.push("android-older"));var a=window._cio||null;-1!==i.indexOf("android")&&null!==a&&a.track("logged_in_with_android_browser")}d.isTouchDevice||t.push("no-touch"),d.$body.removeClass(e.join(" ")).addClass(t.join(" "))}),window._fb_status=window._fb_status||[],window.fb_auth_status=function(e){_fb_status.push(e||function(){})},0<=window.location.search.indexOf("breakme")&&breakMe(),e.exports=d},100:function(e,t,n){"use strict";var i=m(n(0)),o=m(n(2)),a=m(n(21)),r=n(3),s=m(n(24)),l=n(1),c=m(n(31)),d=n(5),u=n(7),f=n(19),p=n(117),h=n(9);function m(e){return e&&e.__esModule?e:{default:e}}n(270);var v,g={},y=null,_=function(e){(0,r.track)("payment timeout error",{step:e})};g.SellPage=new function(){return this.controller=function(e){var t=(0,l.jqGetElemById)("subscription-info-modal").detach();t.length&&e.find(".learn-more").on("click",function(e){e.preventDefault(),t.clone().modal()})},this},g.bulkPricing=function(e){e.find(".bulk-pricing-trigger").on("click",function(){e.toggleClass("expanded")})},g.giftPersonalizationForm=function(e){var t=e.find(".plan-category input"),n=e.find(".auto-renew-note"),a=e.find(".learn-more"),r=(0,l.jqGetElemById)("recurring-gift-explanatory-modal"),s=r.find(".make-recurring"),c=r.find(".make-one-time"),d=function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(t).map(function(e){return e.value}).join(" ");t.on("change",function(e){var t=e.target.value;n.removeClass(d).addClass(t)}),a.on("click",function(){r.modal("show"),o.default.defer(function(){r.parents(".modal-bg").off("click")})}),s.on("click",function(){(0,i.default)('input[name="plan_category"][value="recurring"]').trigger("click")}),c.on("click",function(){(0,i.default)('input[name="plan_category"][value="onetime"]').trigger("click")})},g.giftPayment=function(e){y=e.data("gift-message-id")},g.giftDatepicker=function(e){e.datepicker(o.default.extend({},{maxViewMode:0,minViewMode:"days",startView:0,clearBtn:!1,templates:{leftArrow:'<span class="arrow left"></span>',rightArrow:'<span class="arrow right"></span>'}},e.data())),e.on("changeDate",function(e){var t=e.date.getFullYear(),n=e.date.getMonth()+1,i=e.date.getDate();(0,l.jqGetElemById)("gift-date-text").text("".concat(t,"/").concat(n,"/").concat(i)),(0,l.jqGetElemById)("id_delivery_date_year").val(t),(0,l.jqGetElemById)("id_delivery_date_month").val(n),(0,l.jqGetElemById)("id_delivery_date_day").val(i),(0,l.jqGetElemById)("gift-date-dropdown").find(".dropdown-toggle").dropdown("toggle")})},g.giftSubscriptionHandler=function(e){e.success?window.location.href=e.gift_purchase.show_url:(0,f.showStandardErrorModal)()},g.giftShowPurchasePage=function(e){var t=e.find("form"),n=(0,l.jqGetElemById)("paywall-gift-modal").modal({show:!1});e.find(".print-btn").on("click",function(){window.print()}),e.find(".edit-btn").on("click",function(){n.modal("show")}),e.find('.opt-in input[type="checkbox"]').on("change",function(e){var t=e.target;if(!t.disabled){var n=(0,i.default)(t),o=n.data("url");t.disabled=!0,i.default.post(o).done(function(e){!0===e.success?n.data("url",e.new_url):(0,f.showStandardErrorModal)()}).fail(function(){n.prop("checked",!n.prop("checked")),(0,f.showStandardErrorModal)()}).always(function(){t.disabled=!1})}}),(0,l.jqOffOn)(t,"submit",function(e){e.preventDefault();var a={};t.find(":input").each(function(){this.name&&(a[this.name]=this.value)}),t.find(".errorlist").hide(),i.default.post(t.prop("action"),a).fail(f.errorModalHandler).then(function(e){e.success?(n.modal("hide"),(0,l.jqGetElemById)("gift-message").text(e.message)):e.errors&&o.default.each(e.errors,function(e,n){var i=e.map(function(e){return"<li>"+e+"</li>"}).join("");t.find("#error-"+n).html(i).show()})})})},g.paywallCourses=function(e){var t=e.find(".btn-group .btn");t.on("click",function(){var n=(0,i.default)(this);n.hasClass("active")||(t.toggleClass("active"),e.toggleClass("practice"),(0,r.track)("ui",{element_id:"clicked_paywall_courses_tab",tab_name:n.data("ax-tab"),action:"click"}))})},g.setFeaturesScroll=function(e){e.scrollLeft(e[0].scrollWidth)},g.Checkout={};var b,w,k=null,C=function(e,t,n){var o=(0,l.jqGetElemById)("paid-subscribe").data(),r=o.url,s={plan:v.plan,stripeToken:e.id},c={url:r,data:s,type:"POST",timeout:6e4};y&&(s.gift_message_id=y),x()&&(c.url=(0,l.jqGetElemById)("inr-one-time-card-payment").data("url"),c.data.order_id=v.paytmOrderId,c.data.amount=v.amount),E()&&!y&&(c.url=(0,l.jqGetElemById)("stripe-one-time-payment").data("url"),c.data.payment_plan_id=v.paymentPlanId||v.plan,c.data.amount=v.amount);var d=i.default.ajax(c);if(!0===n)return d;d.then(function(e){if(o.callback)g[o.callback](e);else{var t=(0,i.default)(document.createElement("div")).append(e);l.$body.append(t),(0,h.initGenericControllers)(t)}}).fail(function(e){"timeout"===e.statusText&&(a.default.captureMessage("stripeTokenHandler: timeout error"),_("Sending token to backend")),(0,f.errorModalHandler)(e)}),null!==k&&((x()||E())&&(0,i.default)(".payment-options-modal").find(".close").trigger("click"),k.modal("show"))},x=function(){return void 0!==v.paytmOrderId},E=function(){return void 0!==v.paymentPlanId||"lifetime"===v.planType},I=!1,j=!1,T=null;g.Checkout.trigger=(w=function(e){var t=e.data();e.removeClass("disabled").removeAttr("disabled").data("ax-id",t.loadedAxId).attr("data-ax-id",t.loadedAxId),(0,l.jqOffOn)(e,"click.checkout",function(e){e.preventDefault(),P(T,t)})},function(e){I?j||w(e):(l.$body.on("checkout.preloadDone",function(){w(e)}),l.$body.on("checkout.preloadFailed",function(){})),e.filter(".disabled").on("click.checkout",function(e){e.preventDefault(),b||(b=(0,l.jqGetElemById)("checkout-loading-modal")),b.modal(),b.parent(".modal-bg").css("z-index",1042)})});var q,O,S=(O=q=!1,function(){if(!O){O=!0;var e=(0,l.jqGetElemById)("stripe-checkout-data").data();if(e&&(e.giftSubscription||!l.isBrilliantPro&&!e.useCustomForm))var t=0,n=setInterval(function(){if(t++,"StripeCheckout"in window){if(clearInterval(n),null===T){var o={key:e.key,image:e.image,email:e.email||null,token:C,opened:function(){(0,r.track)("ui",{element_id:"stripe_checkout_modal_opened"})},closed:function(){(0,r.track)("ui",{element_id:"stripe_checkout_modal_closed"})}};e.panelLabel&&(o.panelLabel=e.panelLabel),T=StripeCheckout.configure(o)}I=!0,l.$body.trigger(i.default.Event("checkout.preloadDone"))}else 75===t&&(clearInterval(n),j=I=!0,l.$body.trigger(i.default.Event("checkout.preloadFailed")),q||(q=!0,(0,l.jqGetElemById)("sellpage-wrapper").length&&(a.default.captureMessage("Paid.Checkout.trigger: poll timeout waiting for StripeCheckout."),_("Loading checkout.js"))))},200)}}),P=function(e,t){var n,i,a=(n=t,i=o.default.extend({},n),["controller","controllerInited","loadedAxId","axId","axType","majorAmount","ax_active"].forEach(function(e){delete i[e]}),i.name=i.name.replace("^2"," Premium").replace("[USD]","").trim(),i);v=o.default.extend({},a),delete a.plan,delete a.planType,e.open(a)};g.Checkout.preload=function(){S()},g.Checkout.response=function(e){var t,n=e.data(),o=window.location.href,r=0,s=(0,l.jqGetElemById)("paid-status-success-btn"),c=function(){n.showAppleWarning&&(0,l.jqGetElemById)("existing-apple-subscription-warning").modal(),"annual_pro"===v.planType&&l.isBrilliantPremium&&s.prop("href",s.data("href-alt")),e.addClass("loaded success"),o=s.prop("href")};n.success&&n.displaySuccess?c():n.success?t=setInterval(function(){i.default.get(n.url,{s:n.subscription}).then(function(e){"active"===e&&(c(),clearInterval(t))}).fail(function(e){clearInterval(t),(0,f.errorModalHandler)(e)}),60<=++r&&(e.addClass("loaded error"),clearInterval(t),a.default.captureMessage("Paid.Checkout.response: timeout error"),_("Checkout subscription status"))},1e3):e.addClass("loaded error"),null!==k&&k.modal("hide"),e.modal(),e.on("hide",function(){l.$body.addClass("disabled"),window.location.href=o})},g.Checkout.prestatus=function(e){e.modal({show:!1}),e.on("show",function(){(0,i.default)(".sell-page.visible").removeClass("visible")}),k=e};var A,D,M,N,$,z=(A=null,D=!1,M=o.default.template('<ul class="errorlist"><%= list %></ul>'),N=o.default.template("<li><%- message %></li>"),$=function(e,t){return l.$window.trigger(i.default.Event("survey.".concat(t)))},function(e){if(e.preventDefault(),(0,i.default)(this),D)$(0,"complete");else{if(null===A){if(!(A=(0,l.jqGetElemById)("paid-cancel-survey")).length)return void(0,f.showStandardErrorModal)();A.on("submit",function(e){e.preventDefault(),i.default.post(A.attr("action"),A.serialize()).fail(f.errorModalHandler).then(function(e){if(e.success)D=!0,A.modal("hide"),$(0,"complete");else{(0,l.setScrollPosition)(0,{$container:A.parent()});var t=[];for(var n in e.errors)t.push(e.errors[n][0]);var i=t.map(function(e){return N({message:e})}).join("");o.default.defer(function(){A.find(".errorlist").remove(),A.find(".modal-body").prepend(M({list:i}))})}})})}$(0,"beforeshown"),A.modal()}});g.Payment={};var B,L,G,U,F,H=null,R=null,V=function(e){i.default.get(e.url,e).then(function(){l.$body.addClass("disabled"),window.location.reload()}).fail(f.errorModalHandler)};function W(e){return e=e||null,function(t,n){n=n||{},e&&(t+="_"+e),(0,r.track)("ui",o.default.extend({},{element_type:"button",element_id:t,path:window.location.pathname,full_path:window.location.pathname+window.location.search},n))}}function K(){return 0<window.location.search.indexOf("pro=")}g.Payment.cancellationModalTrigger=function(e){e.on("click",function(t){t.preventDefault(),e.hasClass("disabled")||((R=e.data()).force?V(R):null!==H&&H.modal("show"))})},g.Payment.cancelModal=function(e){(H=e.clone(!0)).modal({show:!1}),H.find("#paid-cancel").on("click",function(e){var t=(0,l.jqGetElemById)("payment-switch-plan-modal").clone(!0),n=e.currentTarget;t.length?(H.modal("hide"),t.find(".cancel-link").on("click",function(){z.call(n,e)}),t.addClass("canceling"),t.modal()):(H.modal("hide"),z.call(n,e))}),l.$window.on("survey.complete",function(){if((0,l.jqGetElemById)("acct-settings-subscription").find(".cancel a").addClass("disabled"),R.isPaytm){var e=(0,l.jqGetElemById)("cancel-confirm-".concat(R.id));e.modal("show"),e.find("#confirm-btn").on("click",function(){V(R)})}else null!==R&&V(R)})},g.Payment.Renew=function(e){e.on("click",function(t){t.preventDefault(),e.addClass(u.CLASS_NAME_DISABLED),l.$body.addClass(u.CLASS_NAME_DISABLED),i.default.get((0,i.default)(t.currentTarget).attr("href")).then(function(){return window.location.reload()}).fail(f.errorModalHandler).fail(function(){return l.$body.removeClass(u.CLASS_NAME_DISABLED)})})},g.Payment.UpdateCard=function(e){e.on("click",function(t){if(!e.hasClass(u.CLASS_NAME_DISABLED)){var n=(0,l.jqGetElemById)("card-info"),o=n.find(".spinner"),a=(0,i.default)(t.target).data(),r=a.key,s=a.image,c=a.email,d=a.name,p=a.url,h=a.buttonLabel,m={key:r,image:s,name:d,url:p,email:c||null,allowRememberMe:!1},v=Object.assign({panelLabel:h,token:function(t){var a="visible";e.addClass(u.CLASS_NAME_DISABLED),o.addClass(a),i.default.post(p,{stripeToken:t.id}).then(function(){["last4","exp_month","exp_year"].forEach(function(e){n.find(".".concat(e)).text(t.card[e])}),e.removeClass(u.CLASS_NAME_DISABLED),o.removeClass(a)}).fail(f.errorModalHandler)},closed:function(){e.removeClass(u.CLASS_NAME_DISABLED)}},m);e.addClass(u.CLASS_NAME_DISABLED),StripeCheckout.configure(v).open(m)}})},g.switchPlanModal=function(e){e.on("click",function(){(0,l.jqGetElemById)("payment-switch-plan-modal").clone(!0).modal()})},g.redeemPremiumPerk=function(e){e.on("submit",function(t){t.preventDefault(),e.find("button").prop("disabled",!0);var n=e.data(),o={perk_type:n.perkType};i.default.post(e.prop("action"),o).fail(f.showStandardErrorModal).then(function(t){!0===t.success?n.nextUrl?window.location.href=n.nextUrl:(e.parents(".modal").modal("hide"),(0,l.jqGetElemById)("perk-modal-trigger").addClass(u.CLASS_NAME_ACTIVE)):(0,f.showStandardErrorModal)()})})},g.couponCountdown=(G=L=B=null,U=function(e){return(e=e.toString())<10?"0"+e:e},F=function(e,t,n,i){var o=Math.round((new Date).getTime()/1e3)-e,a=t-o;if(0<o||i){a<0&&(a=0);var r=~~(a/86400),s=~~(a%86400/3600),l=~~(a%3600/60),c=a%60,d=n({days:r,hours:0<r?U(s):s,minutes:U(l),seconds:U(c)});d!==G&&(B.text(d),G=d)}return a},function(e){var t=o.default.template(e.data("template")),n=e.data("seconds"),i=Math.round((new Date).getTime()/1e3);B=null===B?e:B.add(e),o.default.defer(function(){F(i,n,t,!0),B.removeClass("hide")}),null===L&&(L=setInterval(function(){F(i,n,t)<=0&&(clearInterval(L),B.parents(".hdr-coupon").remove())},250))}),g.Paytm={},g.Paytm.loadPaymentForm=function(e){e.on("click",function(t){t.preventDefault();var n=(0,l.jqCreateElem)("div").addClass("sell-page-preload sell-page").html('<div><span class="spinner"></span></div>').appendTo(l.$body),a=e.data("plan-url");i.default.get(a).then(function(e){var t=(0,l.jqCreateElem)("div").html(e);l.$body.append(t),o.default.defer(function(){n.remove()}),(0,r.setAnalyticsEvents)(t),(0,h.initGenericControllers)(t),t.find(".sell-page").addClass("visible")}).fail(function(){n.remove(),f.errorModalHandler.apply(this,arguments)})})},g.onetimeModal=function(e){e.on("click",function(){var t=(0,i.default)(e.data("modal-target")).clone(!0);t.appendTo(l.$body).show(),t.find(".close").on("click",function(){t.remove()})})},g.paypalModalTrigger=function(e){e.on("click",function(){var t=e.data();!function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=null,a=null;null===n&&(n=(0,l.jqGetElemById)("paypal-modal"),a=n.find(".sell-page"),n.removeClass("hide").appendTo(l.$body),n.find(".close").on("click",function(){a.removeClass("visible"),(0,d.crop)(!1)})),o.default.defer(function(){var o=(0,i.default)(".modal-bg .modal:visible");o.length&&o.modal("hide"),n.removeClass("annual monthly lifetime annual-pro").addClass(e),n.toggleClass("single-option",t),a.addClass("visible"),(0,d.crop)(),y&&n.find("[name=gift_message_id]").val(y)})}(t.plan,t.singlePaymentOption)})},g.paypalCheckoutButtons=function(e){e.find(".paypal a,.paypal button").on("click",function(e){(0,i.default)(this).parents(".paypal").addClass("loading")})},g.salesCardTrigger=function(e){var t=null;e.on("click",function(n){if(n.preventDefault(),t)t.modal("show");else{var a=e.data(),r={element_id:a.axId,source_chapter_id:a.sourceChapterId,source_chapter_slug:a.sourceChapterSlug,target_object_referrer:encodeURIComponent(window.location.pathname+window.location.search)};(t=(0,i.default)('<div class="b2-sales-card modal"><span class="spinner"></span></div>')).modal(),i.default.get(a.salesUrl,r).then(function(e){o.default.defer(function(){var n=(0,i.default)(e);l.$body.append(n),t.modal("hide");var o=function(){var e=t.find(".content");(0,d.getScrollHeight)(e)>e.outerHeight()&&e.addClass("scrollable")};(t=n).find("img").on("load",o),t.on("show",function(){c.default.loadForElement(t),o()}),t.modal()})}).fail(function(){window.location.href=e.attr("href")})}})},g.switchPaywallPosition=function(e){var t=e.find("#prac-markers .prac-marker"),n=e.find("#prev-marker-btn"),o=e.find("#next-marker-btn"),a=e.find(".spm-feature"),r=t.length,s=1,l="current",c="disabled",d=function(e){a.removeClass(l),a.filter('[data-position="'+s+'"]').addClass(l),t.removeClass(l),e?e.addClass(l):t.filter('[data-position="'+s+'"]').addClass(l),n.removeClass(c),o.removeClass(c),1==s?n.addClass(c):s==r&&o.addClass(c)};t.on("click",function(e){e.preventDefault();var t=(0,i.default)(this),n=t.data("position");n!=s&&(s=n,d(t))}),n.on("click",function(e){e.preventDefault(),(0,i.default)(this).hasClass(c)||(s--,d())}),o.on("click",function(e){e.preventDefault(),(0,i.default)(this).hasClass(c)||(s++,d())})},g.acceptSubLifetimeUpgrade=function(e){(0,l.jqGetElemById)("accept-sub-continue").on("click",function(){e.one("transitionend",function(){e.addClass("step-2 ".concat(u.CLASS_NAME_ANIM_IN)),l.isMobile&&(0,l.setScrollPosition)(0,{animate:!0})}),e.removeClass(u.CLASS_NAME_ANIM_IN)})},g.premiumSurvey=function(){(0,l.setScrollPosition)(0,{animate:!0,duration:u.TRANSITION_SPEED_FAST})},g.twinklingStars=function(e){e.find(".premium-stars").remove();var t=e.data();if(t){var n=e.offset(),a=e.outerWidth(),r=e.outerHeight(),s=[],l=t.starCount,c=[];e.find(".no-stars").each(function(){var e=(0,i.default)(this),t=e.offset();c.push({left:t.left-n.left-10,right:t.left+e.outerWidth()-n.left+10,top:t.top-n.top-10,bottom:t.top+e.outerHeight()-n.top+10})});var d=function(e){for(var t=e.left/100*a+1.5,n=e.top/100*r+1.5,i=0;i<c.length;i++){var o=c[i];if(!(t<o.left||t>o.right||n<o.top||n>o.bottom))return!0}return!1},u=document.createElement("span");u.className="premium-stars";for(var f=0;f<l;f++){var p=0;do{var h={left:.5+99*Math.random(),top:2+96*Math.random()};p++}while(d(h)&&p<50);s[f]=document.createElement("span"),s[f].className="type-"+~~(3*Math.random()+1),s[f].style.left=h.left+"%",s[f].style.top=h.top+"%",u.appendChild(s[f])}e.append(u),t.static&&!0===t.static||o.default.defer(function(){for(var e=0;e<l;e++){var t=5e3+~~(4e3*Math.random());s[e].style.webkitAnimationDuration=s[e].style.animationDuration="4000ms",s[e].style.webkitAnimationDelay=s[e].style.animationDelay=t+"ms"}})}},g.freeTrialModal=function(e){var t,n=e.find(".paywall-free-trial-options button"),a=e.find("#step-0-continue"),r=e.find("#free-trial-continue"),s=e.data(),c="active",d="paywall-free-trial-modal-active",u=null,f=function(){t.toggleClass("centered",e.outerHeight()<l.$window.height())},p=a.length?W("chapter"):W();n.on("click",function(){null===u&&r.removeClass("disabled").removeAttr("disabled");var e=(0,i.default)(this);e.hasClass(c)||(n.removeClass(c),e.addClass(c),u=e.data("option"))}),a.on("click",function(){s.introOnly?s.nextChapterUrl?(p("clicked_chapter_completion_next_chapter"),window.location=s.nextChapterUrl):(p("clicked_chapter_completion_premium_close"),e.modal("hide")):(p("clicked_free_trial_intro_continue"),e.addClass("step-1"))}),r.on("click",function(){u&&(p("clicked_free_trial_continue",{free_trial_selected_option:u}),"limited"===u?e.find(".step-2").length?(e.removeClass("step-1").addClass("step-2"),e.find("#free-trial-close").on("click",function(){p("clicked_free_trial_limited_close"),e.modal("hide")})):e.modal("hide"):(e.modal("hide"),o.default.defer(function(){p(s.premiumAxId)}),window.open(s.premiumUrl)))}),e.on("show",function(){l.$body.addClass(d),p("viewed_free_trial_modal"),o.default.defer(function(){t=e.parent(),f()}),l.$window.on("resize.freeTrialModal",o.default.throttle(f,16))}),e.on("hide",function(){l.$body.removeClass(d),l.$window.off("resize.freeTrialModal")}),e.modal({backdrop:"static"})},g.chapterCompletedNav=function(e){var t=e.find(".nav button"),n=t.first(),i=t.last(),o=e.find(".nav span"),a=e.find(".upper"),r=e.find(".quiz-gallery-card"),s=r.outerHeight()+parseInt(r.css("margin-bottom"),10),c=0,d=e.data("num-rows"),u="disabled",f=W("chapter");if(setTimeout(function(){e.addClass("in")},100),1!==d){var p=function(e){return function(){var r;f(0<e?"clicked_free_trial_quizzes_nav_down":"clicked_free_trial_quizzes_nav_up"),(r=c+e)<0||d<=r||(t.removeClass(u),o.removeClass("active"),o.eq(r).addClass("active"),(0,l.setScrollPosition)(r*s,{$container:a,animate:!0}),0===(c=r)?n.addClass(u):d-1<=r&&i.addClass(u))}};n.on("click",p(-1)),i.on("click",p(1))}},g.paywallProToggle=function(e){var t=e.data(),n=e.find("a"),o=!1,a=function(){t.token&&!o&&!l.isMobile&&K()&&(o=!0,(0,p.loadAndShowFrontChat)(t))};n.on("click",function(o){if(o.preventDefault(),!o.target.classList.contains("active")){var s=o.target.dataset.key;(0,i.default)(".paywall-wrapper").toggleClass("show-pro"),g.twinklingStars(e.parents(".paywall-header")),n.toggleClass("active"),window.history.replaceState({},null,o.target.href),i.default.get(t.action,(!0,(c=s)in(l={})?Object.defineProperty(l,c,{value:!0,enumerable:!0,configurable:!0,writable:!0}):l[c]=!0,l)),(0,r.track)("ui",{element_id:"clicked_premium_pro_toggle",target:s}),a()}var l,c}),a()},g.paywallProModal=function(e){var t="click.paywallpromodal",n="last-slide",i=(0,l.jqGetElemById)("paywall-pro-overview-show"),o=e.find(".slide"),a=e.find(".b-markers span"),r=null,s=0,c=function(e){e.removeClass("active"),e.eq(s).addClass("active")},d=function(){e.modal("show");var i=(0,l.jqGetElemById)("paywall-pro-overview-next").on(t,function(){s++,c(o),c(a),e.toggleClass(n,s===o.length-1)}),d=(0,l.jqGetElemById)("paywall-pro-overview-add-pro").on(t,function(){e.modal("hide"),(0,l.jqGetElemById)("pro-btn-wrapper").find(".btn").click()});r=i.add(d)};e.on("hide",function(){s=0,c(o),c(a),r.off(t),e.removeClass(n)}),e.modal({show:!1}),i.on("click",d),K()&&d()};var J=null;g.proPrecheckoutModal=function(e){e.on("click",function(){J?J.modal("show"):J=(0,l.jqGetElemById)("pro-precheckout-modal").modal()})},g.cancellationStep=function(e){var t=e.data("step"),n={action:"viewed_autorenew_cancel_slide",step_position:t,is_first_step:1===t,is_last_step:4===t};1<t&&0===e.find(".errorlist").length&&(0,l.setScrollPosition)(0),1<t&&(n.triggered_by=u.INTERACTION_TYPES.CONTINUE_BUTTON),o.default.defer(function(){return(0,r.track)("ui",n)})},g.cancellationInterview=function(e){return e.on("submit",function(){return window.open(e.data("interview-url"))})},g.giftPurchaseList=function(e){var t={giftSummaryModal:o.default.template((0,l.jqGetElemById)("gift-summary-modal-template").text()),turnOffRecurringGiftModal:o.default.template((0,l.jqGetElemById)("turn-off-recurring-gift-modal-template").text())};e.find(".recurring-gift").each(function(e,n){var a=(0,i.default)(n),r=a.data(),s=function(e){var t="subscription-state";a.attr("data-".concat(t),e),a.data(t,e)};a.find(".show-gift-summary-modal").on("click",function(){var e=(0,i.default)(t.giftSummaryModal(r)),n=e.find(".auto-renew-note");(0,i.default)(".gift-summary-modal").remove(),l.$body.append(e),e.modal(),e.find(".turn-on-auto-renew").on("click",function(e){e.preventDefault();var t=(0,i.default)(e.currentTarget);if(!t.hasClass(u.CLASS_NAME_DISABLED)){var o=t.attr("href");t.addClass(u.CLASS_NAME_DISABLED),i.default.post(o).fail(f.showStandardErrorModal).then(function(e){"active"===e.state?(n.removeClass("onetime").addClass("recurring"),t.removeClass(u.CLASS_NAME_DISABLED),s(e.state)):(0,f.showStandardErrorModal)()})}}),e.find(".turn-off-auto-renew").on("click",function(a){a.preventDefault();var c=(0,i.default)(a.currentTarget);if(!c.hasClass(u.CLASS_NAME_DISABLED)){var p=c.attr("href"),h=(0,i.default)(t.turnOffRecurringGiftModal(r));e.modal("hide"),(0,i.default)(".turn-off-recurring-gift-modal").remove(),l.$body.append(e),h.modal(),h.on("hide",function(){e.modal("show"),o.default.defer(d.crop)}),h.find(".turn-off").on("click",function(){h.find("button").addClass(u.CLASS_NAME_DISABLED),i.default.post(p).fail(f.showStandardErrorModal).then(function(e){"recurring_stopped"===e.state?(n.removeClass("recurring").addClass("onetime"),h.modal("hide"),s(e.state)):(0,f.showStandardErrorModal)()})})}})})})},g.PaymentRequest=function(e){var t=Stripe(e.data("stripe-public-key")),n=t.paymentRequest({country:"US",currency:e.data("currency").toLowerCase(),total:{label:e.data("label"),amount:e.data("amount")},requestPayerName:!0,requestPayerEmail:!0}),o=t.elements().create("paymentRequestButton",{paymentRequest:n,style:{paymentRequestButton:{theme:"light-outline",height:"43px"}}});n.canMakePayment().then(function(t){t?o.mount(e.find(".payment-request-button-"+e.data("interval"))[0]):e.closest(".paymentrequest").hide()}),n.on("token",function(t){i.default.post({url:e.data("subscribe-url"),headers:{"X-CSRFToken":e.data("csrf-token")},data:{plan:e.data("plan-id"),stripeToken:t.token.id,payment_request_method:t.methodName}}).done(function(){t.complete("success"),window.location.href=e.data("success-url")}).fail(function(){t.complete("fail")})})},g.scrollEducators=function(e){var t=e.find(".chevron-left"),n=e.find(".chevron-right"),i=e.find(".educators");t.on("click",function(){i.animate({scrollLeft:0},250),t.hide(),n.show()}),n.on("click",function(){i.animate({scrollLeft:i[0].scrollWidth},250),n.hide(),t.show()})},g.giftPromoBannerLoggedIn=function(e){var t=e.find(".close"),n=e.data();t.on("click",function(t){t.preventDefault(),e.remove(),s.default.update(n.flagName,!0)})},e.exports=g},101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wistiaController=l,t.videoPlaceholder=function(e){e.find("button").on("click",function(){e.css("height",e.height()),s(e.data("video"),function(t){setTimeout(function(){return t.play()}),e.css("height","auto")}),e.html(e.find("template").html()),e.find('[data-controller*="app/videos:wistiaController"]').each(function(e,t){l((0,o.default)(t))})})};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(3),r={};function s(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(window.Wistia&&!n){var i=window.Wistia.api(e);i?t(i):s(e,t,!0)}else window._wq=window._wq||[],window._wq.push({id:e,onHasData:function(e){t(e)}})}function l(e){var t=e.data("video"),n=e.data("ax-id");!function(e,t){var n=t.find("template"),i=r[e];if(i)t.find(".embed-wrapper").remove(),t.append(i.find(".embed-wrapper").clone());else if(n.length){var a=(0,o.default)("<div>").html(n.html());t.append(a.find(".embed-wrapper").clone()),r[e]=a}}(t,e),s(t,function(i){var o=function(){if(e.is(":visible")){var t=e.data("width"),n=i.height(),o={};t||(t=e.width());var a=Math.min(t,e.width());n=a/i.aspect(),o.width=a,setTimeout(function(){return i.height(n,{constrain:!0})},1),o.height=n,e.children().css(o)}},r=function(e){(0,a.track)("ui",{action:"video_action",element_id:e,video_id:t})};o(),n&&r("video_wistia_viewed_".concat(n)),i.bind("heightchange",o),["play","pause","seek","end"].forEach(function(e){i.bind(e,function(){return r("video_wistia_".concat(e))})})})}},111:function(e,t,n){"use strict";var i=c(n(0)),o=c(n(2)),a=c(n(503)),r=c(n(87)),s=c(n(3)),l=n(1);function c(e){return e&&e.__esModule?e:{default:e}}var d={},u=null,f=!0,p=null,h=window.btoa||function(e){return e.split("").map(function(e){return e.charCodeAt(0)}).join("")};function m(e){return s.default.identity+"_brilliant-branch-"+e}function v(){p&&(l.$body.removeClass("branch-banner-active"),p.removeClass("in"),p=null)}d.disable=function(){f=!1},d.init=function(e){var t=e.data();u=h(s.default.superProperties.sessionid||"unknown"),a.default.init(t.branchKey,function(e,n){if(!e){try{a.default.setIdentity(s.default.identity)}catch(e){}var c=n&&!0===n.has_app;if(s.default.setSuperProperties({branch_has_app:c}),!c){var d={channel:"mobile-web",data:{$deeplink_path:window.location.pathname+window.location.search,$always_deeplink:!0}};a.default.link(d,function(e,n){!e&&f&&t.showBanner&&function(e,t){if("closed"!==function(e){var t=r.default.get(m("banner"));return t&&(t=t.split(":"),u===t[0])?t[1]:null}()){var n=o.default.template((0,l.jqGetElemById)("branch-banner-tmpl").text()),a=(0,i.default)(n({link:e,hasApp:t,isIosWeb:l.isIosWeb,isAndroidWeb:l.isAndroidWeb}));l.$body.addClass("branch-banner-active").append(a),s.default.setAnalyticsEvents(a),setTimeout(function(){a.addClass("in")},1e3),a.find(".close").on("click",function(){return v()}),a.find("button,a").on("click",function(){r.default.set(m("banner"),u+":closed")}),p=a}}(n,c)})}}})},d.hideBranchBanner=function(){return v()},e.exports=d},112:function(e,t,n){"use strict";var i=n(1),o={setBackButton:function(e,t,n){window.location.hash=e,(0,i.jqOffOn)(i.$window,"hashchange.backbutton",function(n){window.location.hash.indexOf(e)<0&&(t(n),i.$window.off("hashchange.backbutton"))}),(0,i.jqOffOn)(n,"click.backbutton",function(e){window.history?window.history.back():(t(e),o.removeBackButton())})},removeBackButton:function(){window.hash="",i.$window.off("hashchange.backbutton")}};e.exports=o},113:function(module,exports,__webpack_require__){"use strict";var _jquery=_interopRequireDefault(__webpack_require__(0)),_underscore=_interopRequireDefault(__webpack_require__(2)),_cursor=_interopRequireDefault(__webpack_require__(54)),_global=__webpack_require__(1),_ui=__webpack_require__(5),_error_modal=__webpack_require__(19);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qq={},El,Rl;qq.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var i=e.length;for(n<0&&(n+=i);n<i;n++)if(n in e&&e[n]===t)return n;return-1},qq.getUniqueId=(El=0,function(){return El++}),qq.attach=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},qq.detach=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n)},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.insertBefore=function(e,t){t.parentNode.insertBefore(e,t)},qq.remove=function(e){e.parentNode.removeChild(e)},qq.contains=function(e,t){return e==t||(e.contains?e.contains(t):!!(8&t.compareDocumentPosition(e)))},qq.toElement=(Rl=document.createElement("div"),function(e){Rl.innerHTML=e;var t=Rl.firstChild;return Rl.removeChild(t),t}),qq.css=function(e,t){(0,_jquery.default)(e).css(t)},qq.hasClass=function(e,t){(0,_jquery.default)(e).hasClass(t)},qq.addClass=function(e,t){(0,_jquery.default)(e).addClass(t)},qq.removeClass=function(e,t){(0,_jquery.default)(e).removeClass(t)},qq.setText=function(e,t){e.innerText=t,e.textContent=t},qq.children=function(e){for(var t=[],n=e.firstChild;n;)1==n.nodeType&&t.push(n),n=n.nextSibling;return t},qq.getByClass=function(e,t){if(e.querySelectorAll)return e.querySelectorAll("."+t);for(var n=[],i=e.getElementsByTagName("*"),o=i.length,a=0;a<o;a++)qq.hasClass(i[a],t)&&n.push(i[a]);return n},qq.obj2url=function(e,t,n){var i=[],o="&",a=function(e,n){var o=t?/\[]$/.test(t)?t:t+"["+n+"]":n;"undefined"!=o&&"undefined"!=n&&i.push("object"===_typeof(e)?qq.obj2url(e,o,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(o)+"="+encodeURIComponent(e()):encodeURIComponent(o)+"="+encodeURIComponent(e))};if(!n&&t)o=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",i.push(t),i.push(qq.obj2url(e));else if("[object Array]"===Object.prototype.toString.call(e)&&void 0!==e)for(var r=0,s=e.length;r<s;++r)a(e[r],r);else if(null!=e&&"object"===_typeof(e))for(var l in e)e.hasOwnProperty(l)&&a(e[l],l);else i.push(encodeURIComponent(t)+"="+encodeURIComponent(e));return i.join(o).replace(/^&/,"").replace(/%20/g,"+")},qq.FileUploaderBasic=function(e){this._options={debug:!1,action:"/server/upload",params:{},button:null,multiple:!0,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,filesLimit:0,onSubmit:function(e,t){},onProgress:function(e,t,n,i){},onComplete:function(e,t,n){},onAllComplete:function(e){},onCancel:function(e,t){},messages:{typeError:"{file} has an invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",filesLimitError:"No more than {filesLimit} files are allowed to be uploaded.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(e){alert(e)}},qq.extend(this._options,e),this._filesInProgress=0,this._handler=this._createUploadHandler(),this._options.button&&(this._button=this._createUploadButton(this._options.button)),this._preventLeaveInProgress()},qq.FileUploaderBasic.prototype={setParams:function(e){this._options.params=e},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(e){var t=this;return new qq.UploadButton({element:e,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(e){t._onInputChange(e)}})},_createUploadHandler:function(){var e,t=this;return e=qq.UploadHandlerXhr.isSupported()?"UploadHandlerXhr":"UploadHandlerForm",new qq[e]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(e,n,i,o){t._onProgress(e,n,i,o),t._options.onProgress(e,n,i,o)},onComplete:function(e,n,i){t._onComplete(e,n,i),t._options.onComplete(e,n,i)},onAllComplete:function(e){t._options.onAllComplete(e)},onCancel:function(e,n){t._onCancel(e,n),t._options.onCancel(e,n)}})},_preventLeaveInProgress:function(){var e=this;qq.attach(window,"beforeunload",function(t){if(e._filesInProgress)return(t=t||window.event).returnValue=e._options.messages.onLeave,e._options.messages.onLeave})},_onSubmit:function(){this._filesInProgress++},_onProgress:function(e,t,n,i){},_onComplete:function(e,t,n){this._filesInProgress--,n.error&&this._options.showMessage(n.error)},_onCancel:function(){this._filesInProgress--},_onInputChange:function(e){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(e.files):this._validateFile(e)&&this._uploadFile(e),this._button.reset()},_uploadFileList:function(e){var t,n=0;for(t=0;t<e.length;t++){if(!this._validateFile(e[t],n))return;n++}for(t=0;t<e.length;t++)this._uploadFile(e[t])},_uploadFile:function(e){var t=this._handler.add(e),n=this._handler.getName(t);!1!==this._options.onSubmit(t,n)&&(this._onSubmit(t,n),this._handler.upload(t,this._options.params))},_validateFile:function(e,t){var n,i,o,a;return e.value?n=e.value.replace(/.*(\/|\\)/,""):(n=null!=e.fileName?e.fileName:e.name,i=null!=e.fileSize?e.fileSize:e.size),this._isAllowedExtension(n)?0===i?(this._error("emptyError",n),!1):i&&this._options.sizeLimit&&i>this._options.sizeLimit?(this._error("sizeError",n),!1):i&&i<this._options.minSizeLimit?(this._error("minSizeError",n),!1):!(this._options.filesLimit&&(null==t&&(t=0),o=null==this._handler._completed_files?0:this._handler._completed_files.length,a=null==this._handler._queue?0:this._handler._queue.length,this._options.filesLimit<=o+a+t)&&(this._error("filesLimitError",n),1)):(this._error("typeError",n),!1)},_error:function(e,t){var n=this._options.messages[e];function i(e,t){n=n.replace(e,t)}var o=this._options.allowedExtensions;0!==o[o.length-1].indexOf("and ")&&(o[o.length-1]="and "+o[o.length-1]),i("{file}",this._formatFileName(t)),i("{extensions}",o.join(", ")),i("{sizeLimit}",this._formatSize(this._options.sizeLimit)),i("{minSizeLimit}",this._formatSize(this._options.minSizeLimit)),i("{filesLimit}",this._options.filesLimit),this._options.showMessage(n)},_formatFileName:function(e){return 33<e.length&&(e=e.slice(0,19)+"..."+e.slice(-13)),e},_isAllowedExtension:function(e){var t=-1!==e.indexOf(".")?e.replace(/.*[.]/,"").toLowerCase():"",n=this._options.allowedExtensions;if(!n.length)return!0;for(var i=0;i<n.length;i++)if(n[i].toLowerCase()==t)return!0;return!1},_formatSize:function(e){for(var t=-1;t++,99<(e/=1024););return Math.max(e,.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][t]}},qq.FileUploader=function(e){qq.FileUploaderBasic.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>Drop files here to upload</span></div><div class="qq-upload-button">'+e.btnTitle+'</div><span class="spinner hide"></span><ul class="qq-upload-list"></ul></div>',fileTemplate:'<li><span class="qq-upload-file"></span><span class="qq-upload-spinner"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">Cancel</a><span class="qq-upload-failed-text">Failed</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}}),qq.extend(this._options,e),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button=this._createUploadButton(this._find(this._element,"button")),this._bindCancelEvent(),this._setupDragDrop()},qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype),qq.extend(qq.FileUploader.prototype,{_find:function(e,t){var n=qq.getByClass(e,this._options.classes[t])[0];if(!n)throw new Error("element not found "+t);return n},_setupDragDrop:function(){var e,t=this,n=this._find(this._element,"drop"),i=new qq.UploadDropZone({element:n,onEnter:function(e){qq.addClass(n,t._classes.dropActive),e.stopPropagation()},onLeave:function(e){e.stopPropagation()},onLeaveNotDescendants:function(){qq.removeClass(n,t._classes.dropActive)},onDrop:function(e){for(var i=qq.getByClass(document,t._classes.drop),o=0;o<i.length;o++)i[o].style.display="none";qq.removeClass(n,t._classes.dropActive),!t._options.multiple&&1<e.dataTransfer.files.length?alert("Multiple file uploads are disabled."):t._uploadFileList(e.dataTransfer.files)}});n.style.display="none",qq.attach(document,"dragenter",function(t){i._isValidFileDrag(t)&&(n.style.display="block",clearTimeout(e))}),qq.attach(document,"dragover",function(t){i._isValidFileDrag(t)&&clearTimeout(e)}),qq.attach(document,"dragleave",function(t){if(i._isValidFileDrag(t)){var o=document.elementFromPoint(t.clientX,t.clientY);o&&"HTML"!=o.nodeName||(n.style.display="none"),clearTimeout(e),t.target===document.body&&(e=setTimeout(function(){n.style.display="none"},200))}})},_onSubmit:function(e,t){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onProgress:function(e,t,n,i){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var o,a=this._getItemByFileId(e),r=this._find(a,"size");r.style.display="inline",o=n!=i?Math.round(n/i*100)+"% from "+this._formatSize(i):this._formatSize(i),qq.setText(r,o)},_onComplete:function(e,t,n){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var i=this._getItemByFileId(e);qq.remove(this._find(i,"cancel")),qq.remove(this._find(i,"spinner")),n.success?qq.addClass(i,this._classes.success):qq.addClass(i,this._classes.fail)},_addToList:function(e,t){var n=qq.toElement(this._options.fileTemplate);n.qqFileId=e;var i=this._find(n,"file");qq.setText(i,this._formatFileName(t)),this._find(n,"size").style.display="none",this._listElement.appendChild(n)},_getItemByFileId:function(e){for(var t=this._listElement.firstChild;t;){if(t.qqFileId==e)return t;t=t.nextSibling}},_bindCancelEvent:function(){var e=this,t=this._listElement;qq.attach(t,"click",function(t){var n=(t=t||window.event).target||t.srcElement;if(qq.hasClass(n,e._classes.cancel)){qq.preventDefault(t);var i=n.parentNode;e._handler.cancel(i.qqFileId),qq.remove(i)}})}}),qq.UploadDropZone=function(e){this._options={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}},qq.extend(this._options,e),this._element=this._options.element,this._disableDropOutside(),this._attachEvents()},qq.UploadDropZone.prototype={_disableDropOutside:function(){qq.UploadDropZone.dropOutsideDisabled||(qq.attach(document,"dragover",function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var e=this;qq.attach(e._element,"dragover",function(t){if(e._isValidFileDrag(t)){var n=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"==n||"linkMove"==n?"move":"copy",t.stopPropagation(),t.preventDefault()}}),qq.attach(e._element,"dragenter",function(t){e._isValidFileDrag(t)&&e._options.onEnter(t)}),qq.attach(e._element,"dragleave",function(t){if(e._isValidFileDrag(t)){e._options.onLeave(t);var n=document.elementFromPoint(t.clientX,t.clientY);qq.contains(this,n)||e._options.onLeaveNotDescendants(t)}}),qq.attach(e._element,"drop",function(t){e._isValidFileDrag(t)&&(t.preventDefault(),e._options.onDrop(t))})},_isValidFileDrag:function(e){var t=e.dataTransfer,n=-1<navigator.userAgent.indexOf("AppleWebKit");return t&&"none"!=t.effectAllowed&&(t.files||!n&&t.types.contains&&t.types.contains("Files"))}},qq.UploadButton=function(e){this._options={element:null,multiple:!1,name:"file",onChange:function(e){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"},qq.extend(this._options,e),this._element=this._options.element,qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"}),this._input=this._createInput()},qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq.remove(this._input),qq.removeClass(this._element,this._options.focusClass),this._input=this._createInput()},_createInput:function(){var e=document.createElement("input");this._options.multiple&&e.setAttribute("multiple","multiple"),e.setAttribute("type","file"),e.setAttribute("name",this._options.name),qq.css(e,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),this._element.appendChild(e);var t=this;return qq.attach(e,"change",function(){t._options.onChange(e)}),qq.attach(e,"mouseover",function(){qq.addClass(t._element,t._options.hoverClass)}),qq.attach(e,"mouseout",function(){qq.removeClass(t._element,t._options.hoverClass)}),qq.attach(e,"focus",function(){qq.addClass(t._element,t._options.focusClass)}),qq.attach(e,"blur",function(){qq.removeClass(t._element,t._options.focusClass)}),window.attachEvent&&e.setAttribute("tabIndex","-1"),e}},qq.UploadHandlerAbstract=function(e){this._options={debug:!1,action:"/upload.php",maxConnections:999,onProgress:function(e,t,n,i){},onComplete:function(e,t,n){},onAllComplete:function(e){},onCancel:function(e,t){}},qq.extend(this._options,e),this._queue=[],this._params=[],this._completed_files=[]},qq.UploadHandlerAbstract.prototype={log:function(e){this._options.debug&&window.console&&console.log("[uploader] "+e)},add:function(e){},upload:function(e,t){var n=this._queue.push(e),i={};qq.extend(i,t),this._params[e]=i,n<=this._options.maxConnections&&this._upload(e,this._params[e])},cancel:function(e){this._cancel(e),this._dequeue(e)},cancelAll:function(){for(var e=0;e<this._queue.length;e++)this._cancel(this._queue[e]);this._queue=[]},getName:function(e){},getSize:function(e){},getQueue:function(){return this._queue},_upload:function(e){},_cancel:function(e){},_dequeue:function(e){var t=qq.indexOf(this._queue,e);this._queue.splice(t,1);var n=this._options.maxConnections;if(this._queue.length>=n){var i=this._queue[n-1];this._upload(i,this._params[i])}0==this._queue.length&&this._onAllComplete()},_onAllComplete:function(){this._options.onAllComplete(this._completed_files)}},qq.UploadHandlerForm=function(e){qq.UploadHandlerAbstract.apply(this,arguments),this._inputs={}},qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerForm.prototype,{add:function(e){e.setAttribute("name","qqfile");var t="qq-upload-handler-iframe"+qq.getUniqueId();return(this._inputs[t]=e).parentNode&&qq.remove(e),t},getName:function(e){return this._inputs[e].value.replace(/.*(\/|\\)/,"")},_cancel:function(e){this._options.onCancel(e,this.getName(e)),delete this._inputs[e];var t=document.getElementById(e);t&&(t.setAttribute("src","javascript:false;"),qq.remove(t))},_upload:function(e,t){var n=this._inputs[e];if(!n)throw new Error("file with passed id was not added, or already uploaded or cancelled");var i=this.getName(e),o=this._createIframe(e),a=this._createForm(o,t);a.appendChild(n);var r=this;return this._attachLoadEvent(o,function(){r.log("iframe loaded");var t=r._getIframeContentJSON(o);r._options.onComplete(e,i,t),r._dequeue(e),delete r._inputs[e],setTimeout(function(){qq.remove(o)},1)}),a.submit(),qq.remove(a),e},_attachLoadEvent:function(e,t){qq.attach(e,"load",function(){e.parentNode&&(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML||t())})},_getIframeContentJSON:function _getIframeContentJSON(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON"),this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")")}catch(e){response={}}return response},_createIframe:function(e){var t=qq.toElement('<iframe src="javascript:false;" name="'+e+'" />');return t.setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t},_createForm:function(e,t){var n=null;if(t.csrf_token&&t.csrf_name){var i='<input type="hidden" name="'+t.csrf_name+'" value="'+t.csrf_token+'" />';n=qq.toElement('<form method="post" enctype="multipart/form-data">'+i+"</form>")}else n=qq.toElement('<form method="post" enctype="multipart/form-data"></form>');delete t.csrf_token,delete t.csrf_name,delete t.csrf_xname;var o=qq.obj2url(t,this._options.action);return n.setAttribute("action",o),n.setAttribute("target",e.name),n.style.display="none",document.body.appendChild(n),n}}),qq.UploadHandlerXhr=function(e){qq.UploadHandlerAbstract.apply(this,arguments),this._files=[],this._xhrs=[],this._loaded=[]},qq.UploadHandlerXhr.isSupported=function(){var e=document.createElement("input");return e.type="file","multiple"in e&&"undefined"!=typeof File&&void 0!==(new XMLHttpRequest).upload},qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerXhr.prototype,{add:function(e){if(!(e instanceof File))throw new Error("Passed obj is not a File (in qq.UploadHandlerXhr)");return this._files.push(e)-1},getName:function(e){var t=this._files[e];return null!=t.fileName?t.fileName:t.name},getSize:function(e){var t=this._files[e];return null!=t.fileSize?t.fileSize:t.size},getLoaded:function(e){return this._loaded[e]||0},_upload:function(e,t){var n=this._files[e],i=this.getName(e);this._loaded[e]=0;var o=this._xhrs[e]=new XMLHttpRequest,a=this;o.upload.onprogress=function(t){t.lengthComputable&&(a._loaded[e]=t.loaded,a._options.onProgress(e,i,t.loaded,t.total))},o.onreadystatechange=function(){4==o.readyState&&a._onComplete(e,o)};var r=null,s=null;(t=t||{}).csrf_token&&t.csrf_xname&&(r=t.csrf_token,s=t.csrf_xname,delete t.csrf_token,delete t.csrf_xname,delete t.csrf_name),t.qqfile=i;var l=qq.obj2url(t,this._options.action);o.open("POST",l,!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("X-File-Name",encodeURIComponent(i)),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r&&o.setRequestHeader(s,r),o.send(n)},_onComplete:function _onComplete(id,xhr){if(this._files[id]){var name=this.getName(id),size=this.getSize(id);if(this._options.onProgress(id,name,size,size),200==xhr.status||201==xhr.status){var response;this.log("xhr - server response received"),this.log("responseText = "+xhr.responseText);try{response=eval("("+xhr.responseText+")")}catch(e){response={}}this._completed_files.push({file:this._files[id],response:response}),this._options.onComplete(id,name,response)}else this._completed_files.push({file:this._files[id],response:{}}),this._options.onComplete(id,name,{});this._files[id]=null,this._xhrs[id]=null,this._dequeue(id)}},_cancel:function(e){this._options.onCancel(e,this.getName(e)),this._files[e]=null,this._xhrs[e]&&(this._xhrs[e].abort(),this._xhrs[e]=null)}}),qq.uploadController=function(e){var t=e.data(),n=0,i=t.target?(0,_jquery.default)(t.target):null,o=["jpg","jpeg","png","gif"];t.allowSvg&&o.push("svg");var a=new qq.FileUploader({action:t.url,element:e[0],multiple:!0,allowedExtensions:o,sizeLimit:10485760,btnTitle:t.btnTitle,onComplete:function(e,t,o){if(o.success){var a=o.url;if(i){var r="svg"===o.filename.match(/\.([^.]*)$/)[1].toLowerCase()?"|width=300":"",s="![](".concat(a).concat(r,"){: .center}\n"),l=_global.$window.scrollTop();_cursor.default.insert(i,s,n),i.trigger("autosave.save"),i.trigger(_jquery.default.Event("ajaxupload.complete",{response:o})),!0===i.data("autosize")&&i.trigger("autosize.resize"),_cursor.default.set(i,n+s.length),(0,_global.setScrollPosition)(l);var c=i.attr("id");if("undefined__copy"==c){var d=i.attr("class").split(/\s+/).join(".");i.siblings(".".concat(d)).val(i.val())}else c.indexOf("__copy")&&i.siblings("#"+c.replace("__copy","")).val(i.val())}_global.$window.trigger(_jquery.default.Event("ajaxupload.complete",{imageUrl:a}))}else{i.trigger(_jquery.default.Event("ajaxupload.message",{message:"Upload failed"}));try{(0,_error_modal.showStandardErrorModal)()}catch(e){}}},onProgress:function(){e.find(".spinner").show()},onAllComplete:function(){e.find(".spinner").hide()},showMessage:function(e){i.trigger(_jquery.default.Event("ajaxupload.message",{message:e}));try{(0,_ui.showGenericModal)("Error",e)}catch(e){}},params:{csrf_token:t.token,csrf_name:"csrfmiddlewaretoken",csrf_xname:"X-CSRFToken"}});if(e.data("ajax-uploader",a),i){var r=function(){i.on("keydown",function(){n=_cursor.default.get(i)}),i.on("focus",function(){_underscore.default.defer(function(){n=_cursor.default.get(i)})}),i.on("click",function(){_underscore.default.defer(function(){n=_cursor.default.get(i)})})};i.length?r():(0,_jquery.default)(t.target.replace("__copy","")).on("mentions.ready",function(){i=(0,_jquery.default)(t.target),r()})}},module.exports=qq},114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.controller=function(e){if(s.userIsAuthenticated&&!s.isMobile){var t=e.data("mini-profile-instance");t||(t=new m(e),e.data("mini-profile-instance",t))}},t.toggleMiniProfile=h;var i=c(n(0)),o=c(n(2)),a=c(n(3)),r=n(65),s=n(1),l=c(n(31));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u={},f=!1;function p(e,t){var n={element_id:"profile_card_".concat(e)};t&&(n.field_name=t),a.default.track("ui",n)}function h(e,t){e.each(function(e,n){try{(0,i.default)(n).data("mini-profile-instance")[t]()}catch(e){}})}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$target=t,this.id=this.$target.data("id")||null,this.loading=!1,this.hid_while_loading=!1,this.timeout=null,this.visible=!1,null!==this.id&&this.setEvents()}var t,n;return t=e,(n=[{key:"setEvents",value:function(){var e,t=this;this.$target.on("mouseenter",function(){e=o.default.delay(function(){t.show()},200)}),this.$target.on("mouseleave",function(){clearTimeout(e),t.hideWithDelay()})}},{key:"hideWithDelay",value:function(){var e=this;this.timeout=o.default.delay(function(){var t=u[e.id];(!t||t&&!t.data.wasEditing)&&e.hide()},300)}},{key:"clearDelay",value:function(){clearTimeout(this.timeout)}},{key:"setGlobalEvents",value:function(){var e=this;s.$body.on("click.mp",function(t){e.visible&&0===(0,i.default)(t.target).parents(".mini-profile-full, .mini-profile-full-new").length&&e.hide()});var t=(0,s.jqGetElemById)("nf-feeditem-modal");t.length&&t.is(":visible")&&s.$window.on("scroll.mp",o.default.throttle(function(){e.visible&&e.hide()},16))}},{key:"loadTooltip",value:function(e){f||(this.loading=!0,f=!0,i.default.get("/profile/mini_profile/",{identity:this.id,orientation:""}).done(function(t){f=!1,200===t.status?e(t.new_html):e(null)}).fail(function(){f=!1,e(null)}))}},{key:"repositionTooltip",value:function(e){return(0,r.repositionTooltip)({$target:this.$target,$tooltip:e,topOffset:20,leftOffset:-3,offsetMethod:"offset"})}},{key:"updateCachedData",value:function(e){u[this.id].data=o.default.extend({},u[this.id].data,e)}},{key:"renderTooltip",value:function(e,t){var n,i,a,s,c,d=e.find(".profile-content"),f=u[this.id]||null;a=f?(n=f.template,i=f.data,f.errorTemplate):(n=o.default.template(d.find("script").text()),i=d.data(),o.default.template(i.genericErrorMessage)),t&&(i=o.default.extend(i,t)),s=i,c={},["interests","skills","competitions"].forEach(function(e){var t=s[e];if(!o.default.has(t,"numOthers")){var n=t.length-s.listFieldDisplayLength;c[e]={items:t,numOthers:Math.max(n,0)}}}),i=o.default.extend({},s,c),u[this.id]={template:n,errorTemplate:a,data:i},d.html(n(i)),i.isEditing||l.default.loadForElement(d.find(".status-msg"),!0),i.isEditing?(this.setEditingEvents(e),i.trackedViewed||(p("edit_state_viewed"),i.trackedViewed=!0)):i.wasEditing&&(p("edit_state_closed"),i.trackedViewed=!1),e.removeClass("left right top bottom").addClass((0,r.getOrientation)(this.$target)),e.css(this.repositionTooltip(e))}},{key:"handleTextFieldGroup",value:function(e,t){var n=this,a=(0,i.default)(e),r=a.find("[contenteditable]"),s=a.data("url"),l=function(e,t){var n=e.text().trim(),i="default-value",o=e.data("default"),a=e.hasClass(i);a&&!t||0!==n.length&&n!==o?n.length&&a&&n!==o&&(e.removeClass(i),e.css("min-width",16)):(e.addClass(i),t?e.text(o):e.text(""))};r.on("click focus",function(){o.default.defer(function(){document.execCommand("selectAll",!1,null)})}),r.on("blur",function(){var e={},a=!1;r.each(function(t,n){var r=(0,i.default)(n),s=r.data(),c=r.text().trim();c===s.default.trim()&&(c=""),c!==s.current&&(a=!0,r.data("current",c),p("edited_field",s.name)),s.apiFieldName&&(e[s.apiFieldName]=c),e[s.name]=c,o.default.defer(function(){l(r,!0)})}),a&&i.default.ajax({url:s,type:"POST",data:JSON.stringify(e),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(i){i.success&&(n.updateCachedData(e),n.renderTooltip(t))})}),r.on("input",function(e){l((0,i.default)(e.currentTarget),!1)}),r.on("focus",function(e){var t=(0,i.default)(e.currentTarget),n=t.data("default");t.text().trim()===n&&o.default.defer(function(){t.css("min-width",t.width()),t.text("")})}),r.on("keydown",function(e){13!==e.which&&27!==e.which||(e.preventDefault(),(0,i.default)(e.currentTarget).blur(),window.getSelection().removeAllRanges())}),r.each(function(e,t){var n=(0,i.default)(t);n.data("current",n.text()),l(n,!0)})}},{key:"handleListField",value:function(e,t){var n=this,o=(0,i.default)(e),a=o.find("input"),r=o.data(),s=r.url,l=u[this.id].data["".concat(r.fieldName,"Typeahead")],c=!1,d=function(e){var i={};i[r.fieldName]=e,n.updateCachedData(i),n.renderTooltip(t)},f=function(e,t){var i=!0===t,a=i?".removal-error":".input-error",r=e;null===r&&(r=u[n.id].errorTemplate({isRemoving:i})),o.find(a).text(r),o.find("[disabled]").prop("disabled",!1)},h=function(){var e=a.val().trim();if(e.length&&!c){c=!0;var t={value:e};a.prop("disabled",!0),i.default.ajax({url:s,type:"POST",data:JSON.stringify(t),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.success?d(e.existing_values):f(e.value)}).fail(function(){f(null)}).always(function(){c=!1}),p("list_added_item",r.fieldName)}};o.find(".btn-remove").on("click",function(e){var t=(0,i.default)(e.currentTarget),n={remove:t.data("id")};t.prop("disabled",!0),i.default.ajax({url:s,type:"POST",data:JSON.stringify(n),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.success?d(e.existing_values):f(e.value,!0)}).fail(function(){f(null,!0)}),p("list_removed_item",r.fieldName)}),a.typeahead({source:l,menu:'<ul class="typeahead dropdown-menu miniprofile"></ul>',matchWidth:!0}),a.on("ta_select",h),a.on("keydown",function(e){13!==e.which&&27!==e.which||setTimeout(h,200)})}},{key:"setEditingEvents",value:function(e){var t=this;e.find(".text-field-group").each(function(n,i){return t.handleTextFieldGroup(i,e)}),e.find(".list-field").each(function(n,i){return t.handleListField(i,e)})}},{key:"setTooltipEvents",value:function(e){var t=this;(0,s.jqOffOn)(e,"mouseenter",function(){t.clearDelay()}),(0,s.jqOffOn)(e,"mouseleave",function(){t.hideWithDelay()}),e.hasClass("editable")&&(0,s.jqOffOn)(e.find(".btn-edit"),"click",function(n){n.preventDefault(),e.toggleClass("editing");var i=e.hasClass("editing");t.renderTooltip(e,{isEditing:i,wasEditing:!0})})}},{key:"show",value:function(){var e=this;if(!this.visible){var t=s.$body.children("#mini-profile-".concat(this.id));h((0,i.default)(".mini-profile"),"hide"),this.setGlobalEvents();var n=function(t){t.removeClass("left right top bottom").addClass((0,r.getOrientation)(e.$target))};0<t.length&&this.$target.data("mini_profile_rendered",t);var o=this.$target.data();o.mini_profile_rendered?(n(o.mini_profile_rendered),o.mini_profile_rendered.css(this.repositionTooltip(o.mini_profile_rendered)).show(),this.visible=!0,u[this.id]&&this.updateCachedData({isEditing:!1,wasEditing:!1}),o.mini_profile_rendered.hasClass("mini-profile-full-new")&&(o.mini_profile_rendered.removeClass("editing"),this.renderTooltip(o.mini_profile_rendered)),this.setTooltipEvents(o.mini_profile_rendered)):this.loadTooltip(function(t){if(null!==t){s.$body.append(t);var i=s.$body.find("#mini-profile-".concat(e.id));n(i),i.css(e.repositionTooltip(i)),e.$target.data("mini_profile_rendered",i),e.loading=!1,e.hid_while_loading?(e.hid_while_loading=!1,e.hide(),e.visible=!1):(e.visible=!0,i.hasClass("mini-profile-full-new")&&e.renderTooltip(i),e.setTooltipEvents(i)),a.default.setAnalyticsEvents(i)}})}}},{key:"hide",value:function(){if(this.loading)this.hid_while_loading=!0;else{this.clearDelay(),s.$body.off("click.mp"),s.$window.off("scroll.mp"),this.visible=!1;var e=this.$target.data("mini_profile_rendered")||null;null!==e&&(e.find(".list-field input").typeahead("hide"),e.hide())}}}])&&d(t.prototype,n),e}()},115:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.find("img").each(function(e,t){var n,o,a=(0,i.default)(t);if(!a.data("zoomable-image")&&(o=".avatar, .no-zoom",!(n=a).is(o)&&!n.parents(o).length)){var r=function(){return a.data("zoomable-image",new u(t))};t.complete?r():a.on("load",r)}})};var i=s(n(0)),o=s(n(507)),a=n(1),r=n(14);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=[1e3,1500,2e3,2500,3e3,4e3,5e3];var u=function(){function e(t){var n=this;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.img=t,this.$img=(0,i.default)(t),this.zoomed=!1,this.isBriocheImage=0<=t.src.indexOf("/brioche/");var o=!1,a=function(){if(!o&&n.img.width){o=!0;var e=n.$img.parent().width(),t=n.$img.css("width");0<=t.indexOf("px")?n.width=Math.min(e,parseInt(t,10)):n.width=e,n.height=parseInt(n.$img.css("height"),10),((a=n).isBriocheImage||a.img.naturalWidth>a.width||a.img.naturalHeight>a.height)&&function(e){var t=(0,i.default)('<div class="zoomable-image"><span></span></div>'),n=e.$img.clone();t.append(n),e.$img.replaceWith(t);var o=c(e.$img=n,1);e.img=o[0],e.$container=t,e.$container.on("click",i.default.proxy(e.show,e))}(n)}var a};setTimeout(a,1),this.$img.on("load",a)}var t,n;return t=e,(n=[{key:"show",value:function(){Object.prototype.hasOwnProperty.call(this,"$zoomModal")||function(e){var t=(0,i.default)('\n        <div class="modal hide zoomable-modal">\n            <button></button>\n            <div class="solv-ir-loading row">\n                <span></span>\n                <span></span>\n                <span></span>\n            </div>\n        </div>\n    '),n="loading";t.addClass(n);var s,l=new Image;if(e.isBriocheImage){var u=c(e.img.src.split("?"),1)[0],f=(0,r.getParamsObject)(e.img.src).format,p={width:(s=a.$window.width()*window.devicePixelRatio,d.find(function(e){return s<=e})||d[d.length-1])};f&&(p.format=f),l.src=(0,r.appendGetParams)(u,p)}else l.src=e.img.src;l.style.cssText="",t.append(l);var h=(0,i.default)(l);h.on("load",function(){t.removeClass(n),a.isMobile&&new o.default(l)}),a.isMobile&&h.on("click",function(e){return e.stopPropagation()}),t.on("show hide",function(){setTimeout(function(){e.zoomed=!e.zoomed,t.toggleClass("visible",e.zoomed)},1)}),t.modal({show:!1}),t.on("click",i.default.proxy(e.hide,e)),e.$zoomModal=t}(this),this.$zoomModal.modal("show")}},{key:"hide",value:function(){this.$zoomModal.modal("hide")}}])&&l(t.prototype,n),e}()},116:function(e,t,n){"use strict";var i=m(n(0)),o=m(n(2)),a=m(n(35)),r=m(n(8)),s=n(25),l=n(1),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(18)),d=n(5),u=m(n(57)),f=n(9),p=m(n(44)),h=n(29);function m(e){return e&&e.__esModule?e:{default:e}}var v={},g=window.vkey,y=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:l.$body;u.default.events(e),u.default.expander(e),u.default.subscribe(e);var t=(0,l.jqGetElemById)("subscr-placeholder");t.length&&(0,l.jqGetElemByCmpName)("discussions_subscribe").appendTo(t).removeClass("hide"),c.scaleSVG(e.find(".latexprocessor-block, .latexprocessor-inline"))},_=function(){var e=(0,i.default)("#edit_post_form_id"),t=(0,i.default)("#disc-post-single"),n=(0,i.default)(".edit-form textarea",t);(0,a.default)(n),(0,h.wikiLinks)(n),(0,i.default)("#newdisc-edit").on("click",function(e){e.preventDefault(),t.addClass("editing"),n.trigger("autosize.resize")}),(0,i.default)("#newdisc-delete").on("click",function(e){e.preventDefault(),t.addClass("deleting")}),e.find(".preview:not(.fake)").on("click",function(t){t.preventDefault(),(0,r.default)("discussions_single").form(e[0],{preview_post:!0})}),e.find(".edit:not(.fake)").on("click",function(e){e.preventDefault(),t.addClass("editing"),t.removeClass("previewing"),n.trigger("autosize.resize")}),(0,i.default)("#delete-cancel").on("click",function(e){e.preventDefault(),t.removeClass("deleting")})};v.onload=function(e){if(y(e),_(),0<=window.location.search.indexOf("unsubscribe_from_post=true")){var t=(0,l.jqGetElemByCmpName)("discussions_subscribe");t.addClass("wiggle"),o.default.defer(function(){d.Anchors.scrollToTarget(t)})}else{var n=window.location.hash.match(/#comment-a3f5[\d]+e92/);if(n){var a=(0,i.default)(n[0]);u.default.expandThreadsFor(a),a.addClass("highlight"),setTimeout(function(){a.removeClass("highlight")},3e3)}}},v.editableTitle=function(e){var t=e.find(".edit-title-link"),n=e.parent().find(".edit-title-form"),i=n.find(".cancel-edit-link");t.add(i).on("click",function(){e.add(n).toggleClass("hide")})},v.reaction=function(e){var t=e.find("button"),n=e.serializeArray(),o=function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e.html().split(" "),2),i=n[0],o=n[1];i=parseInt(i,10)+t,e.html("".concat(i," ").concat(o))};t.on("click",function(t){t.preventDefault();var a=(0,i.default)(t.target),r=a.data("reaction");if(r){var s=a.hasClass("selected")?"off":"on",l=n.concat([{name:"reaction_action",value:"".concat(r,"_").concat(s)}]);i.default.post(e.attr("action"),l,function(e){e.vote_details&&(e.vote_details.reactions[r]?(a.addClass("selected"),o(a,1)):(a.removeClass("selected"),o(a,-1)))})}})};var b="discussions_modal_single_component";v[b]=function(){var e=(0,l.jqGetElemByCmpName)(b);(0,f.initGenericControllers)(e),y(),_(),e.find(".modal-target").each(p.default.modal_events),(0,s.initAutosubmit)(e)},g[b]=v[b],g.discussions_single=function(){var e=g.handle.apply(this,arguments);c.updateMathjax(e),y(),_()},g.modal_groups_post_component=g.discussions_single,g.discussions_subscribe=g.qanda_subscribe=g.course_feedback_subscribe=g.dailyproblem_feedback_subscribe=function(){g.handle.apply(this,arguments),u.default.subscribe()},g.discussions_comments=function(){var e=g.handle.apply(this,arguments);c.updateMathjax(e),y();var t=e.find(".disc-comments").data("highlighted-comment-id");if(t){var n="comment-a3f5".concat(t,"e92"),i=(0,l.jqGetElemById)(n);u.default.expandThreadsFor(i),i.addClass("highlight"),setTimeout(function(){i.removeClass("highlight")},3e3),(0,d.isInViewport)(i)||o.default.delay(function(){d.Anchors.scrollToTarget(i,function(){window.location.hash=n})},500)}},g.discussions_comment_subscribe=function(e,t){g.handle(e,t),u.default.subscribe()},e.exports=v},117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.launcher=b,t.showLauncherIfConversation=function(e){var t=e.data();window.localStorage&&1===parseInt(window.localStorage[m(t)],10)&&b(e)},t.loadAndShowOnClick=function(e){var t=e.data(),n=e.find(".front-chat-trigger");n.length||(n=e),n.on("click",function(e){e.preventDefault(),a.$body.click(),_(t,g)})},t.loadAndShowFrontChat=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_(e,function(){setTimeout(g,1e3)})};var i=s(n(0)),o=s(n(2)),a=n(1),r=n(12);function s(e){return e&&e.__esModule?e:{default:e}}var l="front-chat-container",c="custom-front-chat-launcher",d="FrontChat.ready",u="FrontChat.show",f="FrontChat.hide",p={ACTIVE:"active",LOADING:"loading"},h=!1,m=function(e){return"brilliant_front_chat__".concat(e.userHash,":").concat(e.conversationFlag)},v=function(e){var t=(0,a.jqGetElemById)(c).find(".unread-message-counter");t.text(e||""),t.toggle(0<e)},g=function(){if(v(0),window.FrontChat("show"),h)a.$body.trigger(u);else var e=setInterval(function(){var t=document.getElementById(l);t&&t.children.length&&t.children[0].children.length&&"1"===t.children[0].children[0].style.opacity&&(clearInterval(e),h=!0,a.$body.trigger(u))},50)},y=o.default.once(function(){var e=(0,a.jqGetElemById)(c);a.$body.on(d,function(){window.FrontChat("onUnreadChange",function(t){var n=t.unread_count;!e.is(":visible")&&0<n?g():e.hasClass("active")||v(n)}),e.on("click",function(t){t.preventDefault(),e.hasClass(p.ACTIVE)?(window.FrontChat("hide"),a.$body.trigger(f)):g()})}).on(u,function(){e.removeClass(p.LOADING),e.addClass(p.ACTIVE)}).on(f,function(){e.removeClass(p.ACTIVE)})}),_=function(e,t){var n=function(){var n=(0,a.jqGetElemById)(c);n.is(":visible")&&!n.hasClass(p.ACTIVE)&&n.addClass(p.LOADING),y();var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://chat-assets.frontapp.com/v1/chat.bundle.js",r.onload=function(){window.localStorage&&e.conversationFlag&&a.$body.on(u,function(){window.localStorage[m(e)]="1"}),a.$body.on("click","#".concat(l," .fc-2a549"),function(){a.$body.trigger(f)});var n,r,s={useDefaultLauncher:!1};n=e,r=s,["email","name","userHash"].forEach(function(e){n[e]&&(r[e]=n[e])}),window.FrontChat("init",s);var c=(0,a.jqGetElemById)("footer-notifs");if(0<c.length&&!a.isMobile){var d=0;""!==c.html().trim()&&(d=c.outerHeight()),0<d&&((0,i.default)("style:last")[0].textContent+="#".concat(l," .fc-3laqu {")+"height: ".concat(580-d,"px !important;")+"margin-bottom: ".concat(d,"px !important;")+"}@media (max-height: 600px) and (min-width: 760px) {"+"#".concat(l," .fc-3laqu {")+"height: calc(100vh - 44px - ".concat(d,"px) !important;")+"}}")}"function"==typeof t&&o.default.delay(t,1e3)};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(r,s);var h=setInterval(function(){var e=document.getElementById(l);e&&e.children.length&&(clearInterval(h),a.$body.trigger(d))},250)};window.FrontChat?"function"==typeof t&&t():(window.FCSP=e.token,window.isLoaded?n():(0,r.onLoad)(n)),a.$body.addClass("front-chat-active")};function b(e){var t=e.data(),n=parseInt(t.delay,10),i=function(){return e.removeClass("hide")};e.one("click",function(){return _(t,function(){e.hasClass(p.ACTIVE)||g()})}),n?setTimeout(i,1e3*n):i()}},118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){var t,n=e,i=(0,o.default)("#".concat(n.data("tooltip"))),m=i[0].id,v=!0,g=(0,o.default)("div.glossary-container");0===g.length&&(g=(0,o.default)("<div>").addClass(h),a.$body.append(g)),i.parent().hasClass(h)||i.detach().appendTo(g);var y=function(){i.addClass(d)},_=function(){t=setTimeout(function(){y()},300)},b=function(){var e=n.html();(0,s.track)("ui",{element_id:"viewed_glossary_card",glossary_card_slug:m,glossary_card_trigger_term:e});var t=i.height();if(a.isMobile||a.isNative){if(i.removeClass(d),c){var o=i.clone();o.find(".admin-links, .close").remove();try{window.Android.glossaryShowCard(m,e,o.html())}catch(e){throw new Error("Bridge function unavailable: glossaryShowCard")}}}else i.hasClass(u)&&i.on("mouseleave",_),i.removeClass("left right top bottom").addClass((0,r.getOrientation)(n,i)).css((0,r.repositionTooltip)({$target:n,$tooltip:i,topOffset:3,leftOffset:-45,offsetMethod:"offset"})).removeClass(d).removeClass(u),t!==i.height()&&i.css((0,r.repositionTooltip)({$target:n,$tooltip:i,topOffset:3,leftOffset:-45,offsetMethod:"offset"}))};a.isMobile||a.isNative?n.on("click",function(){i.hasClass(d)?((0,o.default)(".glossary-tooltip").addClass(d),b(),v&&(v=!1,i.find("button.close").on("click",y))):y()}):(a.isTouchDevice?(n.on("click",function(){b(),v&&(v=!1,i.draggable())}),a.$body.css({cursor:"pointer"}),a.$document.on("click",function(e){(0,o.default)(e.target).hasClass(f)||(0,o.default)(e.target).hasClass(p)||y()})):(n.on("mouseenter",function(){clearTimeout(t),b(),v&&(v=!1,i.draggable())}),n.on("mouseleave",_),i.on("mouseenter",function(){return clearTimeout(t)}),i.on("mouseleave",_)),i.on("dragstart",function(){i.off("mouseleave"),i.addClass(u),i.find("button.close").on("click",y)})),a.$body.on(l.EVT_QUIZ_POSITION_WILL_CHANGE,y)};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(1),r=n(65),s=n(3),l=n(7);n(160);var c=a.isAndroid&&a.appVersion&&a.appVersion.isGreaterThanOrEqualTo("4.1.3"),d="hidden",u="dragged",f="glossary",p="glossary-tooltip",h="glossary-container"},119:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tabs=function(e){var t=e.closest(".image-gallery>div"),n="hidden",i="selected",a="main-image";e.on("click",function(r){var s=e.children().index(r.target);if(-1!==s){var l=(0,o.default)(r.target);l.hasClass("more")?(e.children(".hidden").removeClass(n),l.remove()):(e.children(".selected").removeClass(i),l.addClass(i),t.find(".main-image").addClass(n).removeClass(a),t.find(".hidden:nth-child(".concat(s+1,")")).addClass(a).removeClass(n))}})};var i,o=(i=n(0))&&i.__esModule?i:{default:i}},12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onLoad=function(e){(0,o.default)(window).on("load",function(){return a(e)})},t.onDOMReady=function(e){(0,o.default)(function(){return a(e)})};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=function(e){e()}},125:function(e,t,n){"use strict";var i=s(n(0)),o=s(n(2)),a=s(n(8)),r=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var l,c={};c.paginate_triggered_ts=l;var d=function(e){r.$body.on("click",".newsfeed_".concat(e,"_paginate"),function(t){t.preventDefault(),t.stopPropagation();var n,o,r=(0,i.default)(this),s=r.parents(".nf-next-container"),c=s.siblings(".next_container_stub"),d=c.children().first(),u=c.data("page-key");if(void 0!==d&&0!=d.length&&!c.hasClass("loaded")){n=d.attr("class").slice(4,-3),o=r.data().next_url,s.addClass("loading");var f=u+"_container";"skill"===e&&(f="wiki_community_posts_container",u="wiki_canonical_page"),c.addClass("loaded");var p=new a.default(f);p.error=function(e){"timeout"===e.statusText?(s.removeClass("loading"),c.removeClass("loaded")):(s.hide(),d.hide())},l=(new Date).getTime(),v||_(!0);var h={page_key:u,param_key:n},m=r.parents(".nf-feed-wrapper"),g=m.data("feed-type")||null,y=m.data("filter_content_type")||"",b=m.data("popular")||"",w=m.data("reviewed_state")||"",k=m.data("user_to_display_id")||null;m.length&&("normal"===g&&(h.show_all_content=!0),h.filter_content_type=y,""!==b&&(h.popular=b),h.reviewed_state=w,k&&(h.user_to_display_id=k)),p.get(o,h)}})};c.paginate=d,c.init=function(){(0,i.default)(".feed").not(".inited").each(function(){var e=(0,i.default)(this),t=e.attr("id").replace(/^newsfeed_/,"").replace(/_wrapper$/,"");d(t),e.addClass("inited")})};var u,f,p,h,m,v=c.is_autopaginating=!1,g=function(){p=(0,i.default)(".nf-next-container:not(.loaded):visible:last"),c.is_autopaginating=!1,0<p.length&&u<10?f=p.offset().top-500:(v=!1,r.$window.off("scroll.nfpage"))};c.reset_autopagination_point=g,c.needs_additional_pagination=function(e){var t=e.find(".nf-feed-item:visible:not(.nf-next-empty)").length;v&&(0<t&&t<4?m<5&&(m++,y(!1)):m=0)};var y=function(e){e=!1!==e,c.is_autopaginating||(c.is_autopaginating=!0,p.find("a").click(),e&&u++)},_=function(e){e=e||!1,h=r.$window.height(),m=u=0,g(),0<p.length&&(v=!0,(0,r.jqOffOn)(r.$window,"scroll.nfpage",o.default.debounce(function(){r.$window.scrollTop()+h>=f&&y()},100)),e||y())};c.autopagination=_,e.exports=c},126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handler=function(){var e=(0,o.getRelativeUrl)();o.$window.on("popstate",function(t){if(a.default.popstateHandlerHook())e=(0,o.getRelativeUrl)();else{var n=(0,o.getRelativeUrl)();if(n!==e){if(t.state&&t.state.modalContent){var i=(0,o.jqGetElemById)("nf-feeditem-modal"),r=(0<i.length&&i.is(":visible")?i:o.$body).find('.modal-link[href="'.concat(n,'"]'));if(0<r.length)return a.default.urlStack.push(e),e=n,void r.trigger("click")}e=n,window.location.href=window.location.href}}})};var i,o=n(1),a=(i=n(44))&&i.__esModule?i:{default:i}},127:function(e,t,n){"use strict";var i=v(n(0)),o=v(n(2)),a=v(n(35)),r=v(n(21)),s=v(n(8)),l=m(n(39)),c=n(1),d=m(n(18)),u=n(5),f=v(n(57)),p=n(29),h=n(58);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}var g,y={},_=window.vkey||{},b=!1,w=!1,k=!1,C=!1,x=!1,E=function(){var e,t=!1;if(!(g<=0)){if(!1!==k&&0<k.length)e=k;else if(!1!==w&&0<w.length)e=w,t=!0;else if(C)e=(0,c.jqGetElemById)("comment-a3f5".concat(C,"e92")),t=!0;else{if(!(!1!==b&&0<b.length))return;e=b}var n=function(){t&&(e.addClass("highlight"),setTimeout(function(){e.removeClass("highlight")},5e3))};0<e.length&&(f.default.expandThreadsFor(e),(0,u.isInViewport)(e)?n():function t(){o.default.delay(function(){e.is(":visible")?u.Anchors.scrollToTarget(e,n):t()},500)}())}};y.add=function(e){var t=e.find(".guide-link"),n=e.find(".discsol-add-guide"),o=e.find("#new_post_form_id, #new_solution_form_id, #new_dispute_form_id, #new_wikifeedback_form_id"),r=o.find("textarea"),s=o.find("[type=submit]");E();var l=r.filter(":visible");l.length||(l=r),(0,p.mentionsAndWikiLinks)(l),(0,a.default)(l),o.after(n),(0,c.jqOffOn)(t,"click",function(e){e.preventDefault(),n.fadeToggle(100)}),(0,i.default)("#make-visible-form, #make-private-form").on("submit",function(e){(0,i.default)(this).find("button").addClass("dim")}),o.on("submit",function(){(0,i.default)(this).attr("disabled","disabled"),s.attr("disabled","disabled")}),r.on("focus",function(){(0,i.default)(".mobile-solution-tips").show()}),c.$body.on("solvable.statechange",function(e){"solutions"===e.currentState&&r.trigger("autosize.resize")}),f.default.add_form()},y.showCommentsForSolution=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.find(".discsol-comments .cmp-deferred"),i="comments-expanded";!0===t?e.addClass(i):e.toggleClass(i),n.length&&l.load(n)},y.comments=function(e){if(f.default.expander(e),f.default.editEvents(e),e.find(".solution-comments-trigger").on("click",function(){y.showCommentsForSolution((0,i.default)(this).parents(".discsol-post-wrapper"))}),e.find(".action.subscr .cmp-deferred").each(function(e,t){l.load((0,i.default)(t))}),!0!==x){var t=window.location.hash||null;if(t){x=!0,t=t.split(/\//g);var n,o,a=e.parents("#solv-main");switch(t[1]){case"solution-comments":n="solutions",o=a.find(".btn-solution").length?a.find(".btn-solution").data("solutions-loaded"):a.find(".discsol-list").data("controller-inited"),e=(0,i.default)(".solv-solutions");break;case"dispute-comments":n="disputes",o=a.find(".report-link").data("disputes-loaded"),e=(0,i.default)(".solv-disputes");break;case"qanda-question":case"course-feedback":return}if(o&&(0,h.setStateForSolvable)(e.parents(".solv-main"),n),t[2])if((b=(0,i.default)("#post-"+t[2])).length){0<=window.location.search.indexOf("unsubscribe_from_post=true")?(k=b.find(".action.subscr")).addClass("wiggle"):t[3]&&(C=parseInt(t[3],10)),g=e.find(".discsol-post").length;var r=b.parents(".discsol-post-wrapper");y.showCommentsForSolution(r,!0)}else{x=!1;var s=(0,c.jqGetElemById)("solution-next-page");s.length&&(I=t[2],s.click())}}}};var I=null;y.loadSolutionsPage=function(e){var t=function(){var t=e.data(),n={component_key:t.componentKey,param_key:t.paramKey};t.position&&(n.p=t.position),I&&(n.solution=I),e.addClass("loading"),(0,s.default)(t.pageKey).get(t.url,n)};c.$window.on("scroll.loadMoreSolutionsButton",function(){(0,u.isInViewport)(e)&&!e.hasClass("loading")&&t()}),e.on("click",t)},_.quizzes_solvabledisputecomments=_.quizzes_challengesolvablesolutioncomments=_.potw_solvablesolutioncomments=_.potw_solvabledisputecomments=_.wikidiscussions_wikifeedbackcomments=_.qanda_comments=_.course_feedback_comments=_.dailyproblem_feedback_comments=_.disputediscussions_publicsolvabledisputecomments=_.daily_problems_solutioncomments=_.solutiondiscussions_publicsolvablesolutioncomments=function(e,t){var n=_.handle(e,t);f.default.events(),f.default.subscribe(),d.updateMathjax(n.find(".latex"));var i=n.find(".disc-comments").data("highlighted-comment-id");i&&(w=(0,c.jqGetElemById)("comment-a3f5".concat(i,"e92")),g+=1),C&&!w&&(0===(w=n.find(".cmmnt-container #comment-a3f5"+C+"e92")).length?w=!1:g+=1),!1!==w&&"qanda_comments"!==e.component_key&&"course_feedback_comments"!==e.component_key&&E(),f.default.expander(n),g--},_.quizzes_challengesolvablesolutionwrapper=_.potw_solvablesolutionwrapper=_.daily_problems_solutionlist=_.solutiondiscussions_publicsolvablesolutionwrapper=function(e,t){var n=_.handle(e,t);d.updateMathjax(n.find(".latex")),f.default.init(n);var o=!1,a={};for(var s in(0,i.default)(".solv-solutions .solution-header .text .mini-profile").each(function(){var e=(0,i.default)(this).data("id");if(e in a)a[e].count++,o=!0;else{var t=(0,i.default)(this).attr("href");a[e]={name:t?t.match(/\/profile\/(.*)\//)[1]:(0,i.default)(this).text().trim(),count:1}}}),a)a[a[s].name]=a[s].count,delete a[s];var l={},c=!1;f.default.hitPreviewSolution&&((0,i.default)(".hdr-settings .dropdown-toggle img").attr("alt")in a||(l["__Lost.Edits"]="Yes",c=!0)),o&&(l._Authors=JSON.stringify(a),c=!0),c&&r.default.captureMessage("Messed up solutions",{tags:l}),f.default.hitPreviewSolution=!1},_.daily_problems_solutionwrapper=function(e,t){var n=_.handle(e,t);c.isIos&&n.find(".discsol-comments .cmp-deferred").each(function(e,t){l.load((0,i.default)(t))})},e.exports=y},128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.controller=function(e){return(0,i.uploadController)(e)};var i=n(113)},14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendGetParam=function(e,t,n){var i=e.split("#"),o=-1!==i[0].indexOf("?")?"&":"?";return i[0]+="".concat(o).concat(t,"=").concat(n),1<i.length?i.join("#"):i[0]},t.appendGetParams=function(e,t){if(!e)return null;var n=e.split("#"),i=-1!==n[0].indexOf("?")?"&":"?";return Object.keys(t).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[0]+="".concat(i).concat(e,"=").concat(t[e]),i="&")}),1<n.length?n.join("#"):n[0]},t.getParamsObject=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location.search).replace("?","").split("&"),t={};return e.forEach(function(e){if(0<e.length){var n=(2,function(e){if(Array.isArray(e))return e}(a=e.split("="))||function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),2!==n.length);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),i=n[0],o=n[1];t[i]=o}var a}),t}},153:function(e,t,n){"use strict";var i;(0,((i=n(0))&&i.__esModule?i:{default:i}).default)(document).ajaxSend(function(e,t,n){"POST"===n.type.toUpperCase()&&-1===n.contentType.search(/multipart\/form-data|application\/x-www-form-urlencoded/)&&t.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8")})},154:function(e,t,n){"use strict";var i={set:function(e,t,n){var i=(n=n||{}).expires;if("number"==typeof i&&i){var o=new Date;o.setTime(o.getTime()+1e3*i),i=n.expires=o}i&&i.toUTCString&&(n.expires=i.toUTCString());var a=e+"="+(t=encodeURIComponent(t));for(var r in n)if(n.hasOwnProperty(r)){a+="; "+r;var s=n[r];!0!==s&&(a+="="+s)}document.cookie=a},get:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},remove:function(e){i.set(e,null,{expires:-1})}};e.exports=i},155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newGlossaryTerm=function(e){u({$input:l,startStr:e.html().split("]]")[0],endStr:"]]",placeholderStr:""}),p.modal("hide"),e.remove(),r.default.track("ui",{element_id:"add_new_glossary_term",action:"staff_only_action",element_type:"btn"})},t.controller=function(e){var t=e.data(),s=e.find(".btn"),h=s.filter(".add-latex"),m=s.filter(".add-link"),v=s.filter(".add-image"),g=s.filter(".add-example"),y=s.filter(".add-proof"),_=s.filter(".add-glossary"),b=s.filter(".add-bold"),w=s.filter(".add-fraction"),k=s.filter(".add-list"),C=s.filter(".add-table"),x=(0,i.default)(t.target),E=function(){s.on("mousedown",function(e){e.preventDefault()}),h.on("click",function(e){e.preventDefault();var t=o.default.get(x);u({$input:x,cursorPosition:t,startStr:"\\(",endStr:"\\)",placeholderStr:"LaTeX"})}),m.on("click",function(e){e.preventDefault();var t=o.default.get(x);f(x,t,"","",[{startStr:"[",placeholder:"link text",endStr:"]"},{startStr:"(",placeholder:"https://brilliant.org",endStr:")"}])}),v.on("click",function(e){e.target===this&&v.find("input").trigger("click")}),g.on("click",function(e){e.preventDefault();var t=o.default.get(x),n=c(x,t,"[[start-example]]");u({$input:x,cursorPosition:t,startStr:n,endStr:"[[end-example]]",placeholderStr:"example text"})}),y.on("click",function(e){e.preventDefault();var t=o.default.get(x),n=c(x,t,"[[start-proof]]");u({$input:x,cursorPosition:t,startStr:n,endStr:"[[end-proof]]",placeholderStr:"proof text"})}),_.on("click",function(e){e.preventDefault(),l=x,p.modal("show"),r.default.track("ui",{element_id:"clicked_glossary_button",action:"staff_only_action",element_type:"btn"}),(0,a.jqOffOn)(p.find(".new-glossary-card"),"click",function(){p.find(".new-glossary-card-container").removeClass("hide"),n.e(10).then(n.t.bind(null,634,7)).then(function(){p.find("#id_glossary_term").on("keyup",function(){p.find("#id_slug").val(window.URLify(p.find("#id_glossary_term").val(),50))})});var e=p.find("#id_filter_wiki");e.on("keyup",function(){var t=p.find("#id_wiki"),n=e.val().toLowerCase();""===n?t.find("option").css("display","block"):t.find("option").each(function(e,t){var o=(0,i.default)(t);-1!==o.html().toLowerCase().indexOf(n)||-1!==o.val().indexOf(n)?o.css("display","block"):o.css("display","none")})})}),(0,a.jqOffOn)(p.find(".search-glossary"),"click",function(e){r.default.track("ui",{element_id:"search_glossary_term",action:"staff_only_action",element_type:"btn"}),e.preventDefault();var t=p.find(".search-glossary-card-container");i.default.get(e.target.href,{prefix:p.find(".prefix").val()}).then(function(e){var n=e.map(function(e){return'<li><button data-value="'.concat(e.value,'"\n                    class="btn-link">').concat(e.name,"</button></li>")}).join("");t.html(n),t.find("button").on("click",function(e){u({$input:l,startStr:(0,i.default)(e.target).data("value").split("]]")[0],endStr:"]]",placeholderStr:""}),p.modal("hide"),r.default.track("ui",{element_id:"add_searched_glossary_term",action:"staff_only_action",element_type:"link"})})})})}),b.on("click",function(e){e.preventDefault();var t=o.default.get(x);u({$input:x,cursorPosition:t,startStr:"**",endStr:"**",placeholderStr:"bold text"})}),w.on("click",function(e){e.preventDefault();var t=o.default.get(x);f(x,t,"\\(\\frac","\\)",[{startStr:"{",placeholder:"numerator",endStr:"}"},{startStr:"{",placeholder:"denominator",endStr:"}"}])}),k.on("click",function(e){e.preventDefault();var t=x.val(),n=o.default.get(x),i=t.lastIndexOf("\n",n-1)+1,a=t.indexOf("\n",n-1),r=d(),s=n;a=-1==a?t.length:a,-1==t.slice(i,a).search("- ")&&(o.default.insert(x,"- ",i),s+="- ".length),r?o.default.set(x,s,s+r.length):o.default.set(x,s),x.trigger("input")}),C.on("click",function(e){e.preventDefault();var t=o.default.get(x),n=c(x,t,"||");f(x,t,n,"||",[{startStr:"",placeholder:"row 1 col 1||row 1 col 2",endStr:"||\n"},{startStr:"||",placeholder:"row 2 col 1||row 2 col 2",endStr:""}])})};x.length?E():(0,i.default)(t.target.replace("__copy","")).on("mentions.ready",function(){x=(0,i.default)(t.target),E()})};var i=s(n(0)),o=s(n(54)),a=n(1),r=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}var l,c=function(e,t,n){var i=e.val();return i&&t&&!i.charAt(t-1).match(/\n/)?"\n".concat(n):n},d=function(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text),e},u=function(e){var t,n=e.$input,i=e.cursorPosition,a=e.startStr,r=e.endStr,s=e.placeholderStr;t=void 0===i?o.default.get(n):i;var l,c=d(),u=t+a.length;c?(l=u+c.length,o.default.insert(n,a,t),o.default.insert(n,r,l)):(l=u+s.length,o.default.insert(n,a+s+r,t)),o.default.set(n,u,l),n.trigger("input")},f=function(e,t,n,i,a){var r,s,l=a[0].startStr,c=a[0].placeholder,u=a[0].endStr,f=a[1].startStr,p=a[1].placeholder,h=a[1].endStr,m=d();if(m)s=(r=t+n.length+l.length+m.length+u.length+f.length)+p.length,o.default.insert(e,n+l,t),o.default.insert(e,u+f+p+h+i,t+n.length+l.length+m.length);else{var v=c+u+f+p;s=(r=t+n.length+l.length)+v.length,o.default.insert(e,n+l+v+h+i,t)}o.default.set(e,r,s),e.trigger("input")},p=(0,i.default)(".glossary-admin-modal")},156:function(e,t,n){"use strict";var i=u(n(0)),o=n(3),a=n(25),r=n(7),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(39)),l=n(1),c=u(n(31)),d=n(9);function u(e){return e&&e.__esModule?e:{default:e}}window.vkey=window.vkey||{},window.vkey.handle=function(e,t){var n=(0,i.default)("#cmp_".concat(t,"_id"));return 0===n.length&&(n=(0,i.default)(".cmp_".concat(t,"_id"))),l.$window.trigger(i.default.Event("".concat(r.EVT_VKEY_BEFORE_UPDATE,".").concat(e.component_key),{$cmp:n})),n.html(e.new_html),(0,a.initAutosubmit)(n),(0,d.initGenericControllers)(n),(0,o.setAnalyticsEvents)(n),l.$window.trigger(i.default.Event("".concat(r.EVT_VKEY_AFTER_UPDATE,".").concat(e.component_key),{$cmp:n})),c.default.loadForElement(n),n.find(".cmp-deferred").each(function(e,t){s.add((0,i.default)(t))}),n}},157:function(e,t,n){"use strict";var i=s(n(0)),o=s(n(2)),a=n(1),r=n(9);function s(e){return e&&e.__esModule?e:{default:e}}var l={showHeaderOnScroll:function(e){a.$window.on("scroll",function(){200<a.$window.scrollTop()&&!e.hasClass("show")?e.addClass("show"):a.$window.scrollTop()<80&&e.hasClass("show")&&e.removeClass("show")})},deactivatedAccountModal:function(e){e.modal({show:!0})},inlineSignupForm:function(e){var t=e.find(".initial-content"),n=t.find(".signup-btn"),s=e.find(".signup-btns"),l=(0,a.jqGetElemById)("inline-signup-email"),c=e.find(".inline-signup-form-container"),d=l.data(),u=c.data(),f=1e3*parseFloat(e.css("transition-duration")),p=!1,h=function(e){e.css({display:"block",position:"absolute",left:"-99999px",top:"-99999px"});var t=e.outerHeight();return e.css({display:"",position:"",left:"",top:""}),t},m=t.outerHeight(),v=h(s);n.one("click",function(n){if(n.preventDefault(),!p){var a=o.default.extend({page_key:u.pageKey},d);i.default.get(u.url,a).then(function(e){p=!0,c.html(e.actions.homepage_signup_form.new_html),(0,r.initGenericControllers)(c)})}var l=e.height();e.height(l),e.addClass("out"),e.height(l+(v-m)),setTimeout(function(){e.removeClass("out"),t.hide(),s.show(),e.height("")},f)}),l.on("click",function(t){if(p){t.preventDefault();var n=e.height(),i=h(c);e.height(n),e.addClass("out"),e.height(n+(i-v)),setTimeout(function(){e.removeClass("out"),s.hide(),c.show(),e.height("")},f)}})},v4Signup:function(e){(0,a.jqGetElemById)("btn-email-signup").on("click",function(t){t.preventDefault();var n=e.find(".v4-form");e.animate({opacity:0},200,function(){e.animate({height:n.outerHeight()+parseInt(n.css("margin-top"),10)+30},200,function(){e.addClass("open").animate({opacity:1,height:"auto"},200)})})}),(0,a.jqGetElemById)("fb_canvas_signup").on("click",function(e){e.preventDefault(),window.top.location.replace("https://brilliant.org/account/facebook/login/")})}};e.exports=l},159:function(e,t,n){"use strict";var i=s(n(0)),o=s(n(2)),a=s(n(8)),r=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var l,c={},d=(l=!1,function(e){!1===l&&(l=!0,e.find("#solvable-resend-verification-form").submit())}),u=function(e,t){e.find(".choose-choice").on("click",function(n){n.preventDefault();var o=t.filter(":checked"),a=e.find("input[type=submit]").hide();if(0!=o.length){(0,i.default)(this).hide();var r=o.val();e.addClass("out"),setTimeout(function(){switch(e.find(".options").hide(),e.find("."+r).show(),r){case"term_help":case"cant_read":break;case"clarification":case"dispute":case"rules_guidelines":a.show()}e.removeClass("out")},250)}})};c.modal=function(e){r.$body.children(".modal-bg").find(".dispute-form-modal").parents(".modal-bg").remove();var t,n,s=(0,i.default)("#dispute-trigger:not(.active)"),l=e.find("input[type=radio]"),c=e.data(),f=function(){r.$body.data("reloading-disputes",!0);var e=c.solvableUrl,t=c.pageKey;(0,a.default)("assessment").get(e,{page_key:t})};if(l.length||(0,i.default)("#cmp_quizzes_interstitial_pane_id:visible").length||(0,r.jqOffOn)(e,"hide",f),(n=(t=e).find("textarea")).on("keypress.shownote",function(){var e=(0,i.default)(this);o.default.defer(function(){0<e.val().length&&(t.find(".note").show(),n.off("keypress.shownote"))})}),s.on("click",function(t){t.preventDefault(),(0,r.jqOffOn)(e,"hide",function(){var t=l.filter("[checked=checked]");e.find(".options").is(":hidden")&&t.length&&-1<["term_help","cant_read"].indexOf(t.val())&&f()}),e.appendTo("body"),e.modal(),d(e),u(e,l)}),e.find("form").on("submit",function(){r.$body.data("reloading-disputes",!0)}),!0===e.data("show-at-start")){var p=(0,i.default)("body > .modal-bg > #dispute_form_id");p.length&&(p.parents(".modal-bg").remove(),e=(0,i.default)("#dispute_form_id")),e.appendTo("body").modal()}},c.webview=function(e){var t=e.find("input[type=radio]");d(e),u(e,t)},e.exports=c},168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.streakModal=function(e){o.default.defer(function(){if(0===(0,r.jqGetElemById)("sales-card").length){if(r.isMobile)return e.show(),o.default.defer(function(){e.addClass("animated")}),void r.$body.one(l.EVT_QUIZ_POSITION_DID_CHANGE,function(){e.one("transitionend",function(){e.hide()}),e.removeClass("animated")});var t=(0,r.jqGetElemById)("solv-main"),n=e.html(),i=t.data("full-url")||"";i+=-1===i.indexOf("?")?"?":"&",n=n.replace(/__share_url__((\?)|(%3F))/g,i).replace(/&streak=|&amp;streak=/g,"&streak="),e.html(n),(0,c.initGenericControllers)(e),(0,s.modalController)(e),o.default.defer(function(){e.find(".streak-icon").addClass("animated")}),0===(0,r.jqGetElemById)("wiki-main").length&&e.find(".continue-btn").on("click",function(){var n=t.find(".esr-problem");n?n.click():e.hide()})}})},t.topicsNav=function(e){var t=e.find(".toggle"),n=e.children("div"),o="expanded",a=!1;t.on("click",function(t){t.preventDefault(),a=!a,e.toggleClass(o,a)}),r.$body.on("click",function(r){a&&r.target!==t[0]&&r.target!==n[0]&&0===(0,i.default)(r.target).parents().filter(n).length&&(e.removeClass(o),a=!1)})},t.continuePracticing=function(e){var t=e.data(),n={action:"click",element_type:"button",continue_practicing_quiz_id:t.targetQuizId,continue_practicing_problems_left:t.problemsLeft,path:window.location.pathname,full_path:window.location.pathname+window.location.search},i=(0,r.jqGetElemById)("footer-notifs"),s=i.outerHeight(),l=e.outerHeight();i.css("height",s+l+20),e.find(".continue-practicing-button").on("click",function(){(0,a.track)("ui",o.default.extend({element_id:"continue_practicing_button"},n))}),e.find("form").find(".close").on("click",function(){e.hide(),i.css("height",s),(0,a.track)("ui",o.default.extend({element_id:"continue_practicing_dismissed"},n))})},t.reenablePremium=function(e){setTimeout(function(){e.addClass("in"),(0,a.track)("ui",{element_id:"autorenewcancel_show_tooltip"})},1e3);var t=function(){e.one("transitionend",e.remove),e.removeClass("in")};e.on("click",function(e){return e.stopPropagation()}),e.find(".btn-close").one("click",t),r.$body.on("click",t)};var i=d(n(0)),o=d(n(2)),a=n(3),r=n(1),s=n(5),l=n(7),c=n(9);function d(e){return e&&e.__esModule?e:{default:e}}},169:function(e,t,n){"use strict";var i=n(508),o=f(n(0)),a=f(n(2)),r=n(25),s=n(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(18)),c=n(9),d=f(n(66)),u=n(58);function f(e){return e&&e.__esModule?e:{default:e}}var p={},h={},m=null,v=null,g=null,y=function(e){var t,n;return(e=e||{}).answer=e.answer.trim(),e.preventUpdate=!1,e.hasMultipleOptions||(e=function(e){0===e.answer.indexOf("+")&&(e.answer=e.answer.substring(1)),e.answer.length&&(e.answer=e.answer.replace(/^0+/,""),""===e.answer&&(e.answer="0"));var t=parseFloat(e.answer),n=e.answer.replace(/[\d-Ee\.]/g,"");return isNaN(t)||0<n.length?e.validationError=!0:null===e.answer.match(/[\.Ee]/)||e.isFloat?e.validationError=!1:e.validationError=!0,e.alreadyTriedThisAnswer=0<=e.answersList.indexOf(e.answer.toString()),e}(e)),e.validationError||e.alreadyTriedThisAnswer||(t=e,n=v.update(t.answer+t.salt).digest("hex"),t.answerIsCorrect=n==t.hash,t.answerIsCorrect||(t.answersList.unshift(t.answer),t.preventUpdate=t.isFloat),t.triesLeft--,t.attemptNumber++,e=t),e.canStillAnswer=0<e.triesLeft&&!e.answerIsCorrect,e.isMobile=s.isMobile,e.b2=s.isBrilliantPremium,e.answersListWithAnd=function(){var t=e.answersList,n=e.answersList.length;return 1===n?t[0]:2===n?t.join(" and "):(t[n-1]="and "+t[n-1],t.join(","))},e};p.processAttemptData=y,p.init=function(e){var t=e.data(),n=h[t.solvable]||{},r=e.parents(".solv-details,.solv-details-loggedout"),f=r.find("#mcq-form,#text_answer_entry_form,.solv-form-logged-out");v=(0,i.createHash)("sha1"),t.answersList=t.answersList?t.answersList.toString():"";try{t.answersList=t.answersList.length?t.answersList.split(/,/g):[]}catch(e){t.answersList=[]}if(t.answersList=t.answersList.filter(function(e){return 0<e.length}),t.answerIsCorrect=!1,t.$choices=t.hasMultipleOptions&&f.find("svg").length?f.find(".btn-mcq"):null,t.b2=s.isBrilliantPremium,null===g||g>=t.numFreeSolutionsRemaining?g=t.numFreeSolutionsRemaining:t.numFreeSolutionsRemaining=g,t.exportOnly)return p.data=t,n.data=t,void(h[t.solvable]=n);n.template=n.template||null,null===n.template&&(n.template=a.default.template(e.text())),n.data=t,h[t.solvable]=n,f.on("submit",function(e){e.preventDefault(),a.default.defer(function(){if(!f.data("no_instant_response")){if(m=t.solvable,t.viewedSolution=f.data("viewed-solution"),t.viewedSolution)t.answer=null;else if("single_select"===t.problemType)t.answer=f.find("input[type=radio]:checked").val();else if("multi_select"===t.problemType){var e=[];f.find("input[type=checkbox]").each(function(t){(0,o.default)(this).is(":checked")&&e.push(t+1)}),t.answer=e.join("|")}else t.answer=f.find("#id_answer,.logged-out-answer").val();t.answer?(t.answer=t.answer||"",t.answer=t.answer.replace(/__replace_plus__/g,"+"),t=y(t)):t.canStillAnswer=!1;var i=r.parents(".solv-main");i.data("ir-verification",{canStillAnswer:t.canStillAnswer,answerIsCorrect:t.answerIsCorrect,attemptNumber:t.attemptNumber,triesLeft:t.triesLeft,answer:t.answer,preventUpdate:t.preventUpdate}),t.preventUpdate||(n.$originalSidebar=r.clone(),n.$solvable=i,a.default.defer(function(){var e=t;t.isMobile&&t.hasMultipleOptions&&!t.answer&&a.default.extend(e,{canStillAnswer:!0}),r.html(n.template(e)),function(e,t){if(!t.canStillAnswer){var n="endstate "+(t.answerIsCorrect?"correct":"incorrect");if(t.isPracticeSection)if(s.isIos&&s.appVersion.isGreaterThanOrEqualTo("0.9.1"))t.answerIsCorrect?window.location="answercorrect://":window.location="answerincorrect://";else if(s.isAndroid)try{Android.onPracticeSolvableAnswered(t.answerIsCorrect)}catch(e){}e.addClass(n)}var i=e.parents(".solv-main");if(t.hasMultipleOptions&&t.$choices&&e.find(".btn-mcq").each(function(e){var n=(0,o.default)(t.$choices[e]),i=(0,o.default)(this),a=i.find(".choice-text"),r=a.length?a:i;n.find("input").remove(),r.html(n.html())}),(0,o.default)(".btn-solution").not(".solution-btn-b2").addClass("disabled dim").attr("disabled","disabled"),(0,s.jqOffOn)(e.find(".btn.disabled"),"click",function(e){e.preventDefault()}),(0,u.practiceAnon)(i),(0,c.initGenericControllers)(e),l.updateMathjax(e),"single_select"==t.problemType&&e.find(".btn-mcq").each(function(){var e=(0,o.default)(this),n=e.data("choice");t.answer===n&&e.addClass(t.answerIsCorrect?"correct":"incorrect")}),t.isPracticeSection||t.isProblemOfTheDay){var a=i.parents(".prac-preload-wrapper");a.length&&d.default.practice(a,{reloaded:!0,instantResponse:!0})}}(r,t),i.trigger(o.default.Event("instantresponse.updated",t))})),n.data=t,h[t.solvable]=n}})})},p.timeout=function(){var e=h[m],t=e.$originalSidebar||null;null!==t&&(e.$solvable.find(".solv-details").replaceWith(t),t.find(".spinner").removeClass("active"),t.find(":disabled,.dim").removeClass("dim disabled").removeAttr("disabled"),a.default.defer(function(){(0,c.initGenericControllers)(t),(0,r.initAutosubmit)(t)}))},e.exports=p},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkOverflow=l,t.scaleSVG=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.65;e.each(function(e,n){var i=(0,o.default)(n).find("svg");0<i.length&&i.each(function(e,n){var i=(0,o.default)(n),a=i.data("orig-width");a?i[0].style.width="".concat(a,"ex"):i.data("orig-width",parseFloat(i[0].style.width));var r=i.parent().width()+4,s=parseInt(i[0].style.width,10),l=~~i.width(),c=~~(s*r/l);r<l&&t<=c/s&&(i[0].style.width="".concat(c,"ex"))})})},t.updateMathjax=function(e){e.each(function(e,t){var n=(0,o.default)(t);try{window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,t])}catch(e){}n.parent().find(".uses-latex, .latex").css("visibility","visible")})},t.equationEditorTrigger=function(e){var t=function(e){(0,a.track)("ui",{action:"click",element_type:e,element_id:"link"})};e.on("click",function(n){var i=e.data();t(i.axClicked),n.metaKey||(n.preventDefault(),(0,s.showConfirmationModal)({text:e.data("text")}).then(function(n){n&&(t(i.axConfirmed),window.open(e.attr("href")))}))})};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(3),r=n(12),s=n(5);function l(e){(e?e.find(".latexprocessor-inline"):(0,o.default)(".latexprocessor-inline")).each(function(e,t){var n=(0,o.default)(t),i=n.outerWidth();n.parent().outerWidth()<i&&n.addClass("overflowed")})}(0,r.onDOMReady)(function(){l()})},183:function(e,t,n){"use strict";var i=s(n(0)),o=s(n(2)),a=n(1),r=n(3);function s(e){return e&&e.__esModule?e:{default:e}}n(184);var l,c,d,u,f,p,h,m={onload:function(){var e=(0,a.jqGetElemById)("signin"),t=(0,a.jqGetElemById)("signup"),n=(0,i.default)("#signup-form, #signup_form");if(0!==e.length&&0!==t.length&&0!==n.length){var o=window.location.hash||!1;o&&(0,i.default)("input[name=next]").each(function(){var e=(0,i.default)(this);e.val(e.val()+o)});var s=function(e){a.isMobile||e.find("input").filter("[type=email], [type=password], [type=text]").first().focus()};if((0,i.default)(".goto-signup").on("click",function(n){n.preventDefault(),e.fadeOut(100,function(){t.fadeIn(100),s(t)})}),(0,i.default)(".goto-signin").on("click",function(n){n.preventDefault(),t.fadeOut(100,function(){e.fadeIn(100),s(e)})}),(0,i.default)(".goto-signup-form").on("click",function(e){e.preventDefault(),t.fadeOut(100,function(){n.fadeIn(100),s(n)})}),(0,i.default)(".goto-signup-main").on("click",function(e){e.preventDefault(),n.fadeOut(100,function(){t.fadeIn(100),s(t)})}),e.is(":visible")&&s(e),0<(0,i.default)(".validation-error").length&&(0,r.track)("ui",{action:"click",element_type:"form",element_id:"v4_signup_validation_error"}),0<n.length&&!n.hasClass(".fb")){var l=(0,i.default)(this).find("input[type=text], select"),c=(0,i.default)(this).find("#id_birthday_month, #id_birthday_day, #id_birthday_year");l.on("blur.validation",function(e){var t=i.default.trim((0,i.default)(this).val()),n=(0,i.default)(this).parents(".control-group"),o=(0,i.default)(this).parents(".outer-field").find(".validation-error-msg");""===t?n.hasClass("error")||(n.addClass("error validation-error"),o.show()):n.hasClass("validation-error")&&(n.removeClass("error validation-error"),o.hide())}),c.off("blur.validation"),c.on("blur.bday_validation",function(e){var t=(0,i.default)(this).parents(".control-group"),n=(0,i.default)(this).parents(".outer-field").find(".validation-error-msg");0===parseInt((0,i.default)(this).val(),10)?t.hasClass("validation-error")||(t.addClass("error validation-error"),n.show()):t.hasClass("validation-error")&&c.each(function(e,o){if(0===parseInt((0,i.default)(this).val(),10))return!1;e===c.length-1&&t.hasClass("validation-error")&&(t.removeClass("error validation-error"),n.hide())})})}}}};m.googleAuth=(d="googleapis.ready",u=function(){window.location.href="/account/google/login/callback/"},c=!(f=function(e){e.success&&e.data&&e.data.redirect?"social-signup"==e.data.redirect?window.location=l.signupUrl:"nux"==e.data.redirect?window.location=l.nuxUrl:window.location="/":u()}),p=function(e){c||(c=!0,e.access_token?i.default.post(l.loginUrl,{access_token:e.access_token}).then(f).always(function(){c=!1}):(e.error&&-1===["immediate_failed","access_denied"].indexOf(e.error)&&u(),o.default.defer(function(){c=!1})))},h=function(){gapi.auth.signIn({callback:p,clientid:l.clientId,cookiepolicy:"single_host_origin",scope:"profile email",apppackagename:"org.brilliant.android"})},o.default.defer(function(){window.googleApisLoaded?a.$body.trigger(i.default.Event(d)):window.onGoogleApisLoaded=function(){window.googleApisLoaded=!0,a.$body.trigger(i.default.Event(d))}}),function(e){l=e.data(),e.on("click",function(){window.googleApisLoaded?h():a.$body.on(d,h)})}),m.loginBtnFallback=function(e){null===e[0].form&&e.one("click",function(){(0,a.jqGetElemById)(e.attr("form")).submit()})},e.exports=m},184:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.controller=function(e){var t=e.find("#email-validation"),n=e.find("#id_email");0<t.length&&0<n.length&&(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.$fields,n=e.inProgress,a=void 0===n?o.default.noop:n,r=e.onSuccess,s=void 0===r?o.default.noop:r,c=e.onError,d=void 0===c?o.default.noop:c;t.on("blur",function(e){var t=e.target,n=(0,i.default)(t).val();if(n){var o=!1;512<n.length?d.call(t,"address is too long (".concat(n.length,")")):(a.call(t),i.default.ajax({type:"GET",url:"https://api.mailgun.net/v2/address/validate?callback=?",data:{address:n,api_key:l},dataType:"jsonp",crossDomain:!0}).done(function(e){o=!0,s.call(t,e)}).fail(function(e,n){o=!0,d.call(t,"http error: ".concat(n," (").concat(e.status,")"))}),setTimeout(function(){o||d.call(t,"timeout")},3e4))}})}({$fields:n,onSuccess:function(e){t.removeClass("active didyoumean invalid"),n.removeClass("email-invalid"),(!e.is_valid||e.did_you_mean)&&(n.addClass("email-invalid"),e.did_you_mean?((0,a.jqGetElemById)("didyoumean-txt").text(e.did_you_mean),t.data("didyoumean",e.did_you_mean).addClass("active didyoumean")):t.addClass("active invalid"))},onError:function(e){r.default.captureMessage("Mailgun error: ".concat(e))}}),t.find(".didyoumean-close").on("click",function(e){e.preventDefault(),(0,i.default)(e.currentTarget).hasClass("accept")&&n.val(t.data("didyoumean")),t.removeClass("active"),n.removeClass("email-invalid")}))};var i=s(n(0)),o=s(n(2)),a=n(1),r=s(n(21));function s(e){return e&&e.__esModule?e:{default:e}}var l="pubkey-7bfc8ckzpnzm6x-a4d86olnmp5lbj5p2"},185:function(e,t,n){"use strict";var i=f(n(0)),o=f(n(2)),a=n(1),r=u(n(18)),s=f(n(125)),l=n(5),c=u(n(14)),d=f(n(44));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}n(270),n(126);var p=a.isMobile?5:15,h={},m=window.vkey||{};h.instantBtn=function(e){e.on("click",function(t){if(!(e.hasClass("loading")||e.hasClass("disabled")||"ignore"===e.data("action")||0<e.parents(".dropdown-menu").length)){t.preventDefault();var n=e.parents("form"),i=n.data()||{},a=e.hasClass("active"),r=i.count||0;r=a?r-1:r+1,n.data("count",r),e.html(i.tmpl.replace(/\[count]/g,r)),e.toggleClass("zero",0===r),e.toggleClass("active"),e.addClass("loading"),o.default.defer(function(){n.submit()})}})},h.followBtn=function(e){e.on("click",function(t){t.preventDefault();var n=e.parents("form"),i=n.find("[type=submit]"),a=n.find("[name=subscribed]"),r=i.data(),s=a.val(),l=i.html().trim(),c=r.toggleClass||"btn-accent",d=i.hasClass("btn-toggle");o.default.defer(function(){i.html(r.altText),i.data("alt-text",l),i.trigger("blur").toggleClass(c).toggleClass("btn-subscribed","yes"===s)}),o.default.delay(function(){n.submit()},d?200:10)})};var v,g,y,_={topic:"sub_topic",sub_topic:"chapter",chapter:"recommended_concept_quiz"},b={},w=function(e,t,n,a){a=a||o.default.noop;var r=t+"-"+n;if(void 0!==e&&b["load_action_"+e]!==r){b["load_action_"+e]=r;var s={next_category_type:e,current_selected_category_id:t,previous_selected_category_id:n},l={url:"/assessment/get_categorization_options/",type:"POST",data:JSON.stringify(s),headers:{"Content-type":"application/json"}};i.default.ajax(l).done(function(t){b[e]=t,a()})}else a()},k=function(e,t,n){var r,s,c,d,u=e.parent("div.field"),f=_[t],p=u.parent().find("div.field-"+f);n&&0<p.length&&(r=p,s=f,c=n,d=(d=function(e){e&&(!0===p.data("is-reloading")?p.data("is-reloading",!1):(u.slideUp(),p.find("a.back_link").show(),p.slideDown(400,function(){(0,i.default)(this).css("overflow","visible")})))})||o.default.noop,void 0!==b[s]&&void 0!==b[s][c]?w(_[s],"",c,function(){var e,t,n,u,f,p,h,m=b[s][c],v=r.find("select"),g=r.find("div.dropdown");e=r,t=m,n=o.default.template((0,i.default)("#custom_select_options_tmpl").text())({options:t}),u=e.find("ul.dropdown-menu"),f=o.default.template((0,i.default)("#html_select_options_tmpl").text())({options:t}),p=e.find("select"),h=p.val(),e.find(".dropdown-menu a").find("span").first().html("..."),u.html(n),p.html(f),(0,l.CustomSelectbox)(e),h&&setTimeout(function(){u.find('[data-opt-value="'+h+'"]').click()},50),(0,a.jqOffOn)(v,"change",function(){k(g,s,v.val())}),d(!0)}):d(!1))};h.CategorizationNavBack=function(e){var t=e.parents("div.field"),n=t.prev();e.on("click",function(){t.slideUp(),n.slideDown(400,function(){(0,i.default)(this).css("overflow","visible")})})},h.TopicSelector=function(e){v=e.find("select"),g=e.data(),h.selectedTopic=null;var t=function(){h.selectedTopic=parseInt(v.val(),10),void 0!==g.filter_categories&&k(e,"topic",v.val())};(0,a.jqOffOn)(v,"change",t),void 0!==g.filter_categories&&w("sub_topic","","",t)},h.LevelSelector=function(e){y=e.data("level-data"),e.on("open",function(){var t=y[h.selectedTopic]||0;e.find(".dropdown-menu a").each(function(){var e=(0,i.default)(this),n=e.data("opt-value")||0;t<n?e.addClass("disabled"):e.removeClass("disabled")})})},h.filterMenu=function(e){e.find(".trigger").on("click",function(){e.toggleClass("filtering")})};var C,x,E,I,j,T,q,O,S,P,A=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.$body;(e.is(".nf-feed-item")?e:e.find(".nf-feed-item")).each(function(){var e=(0,i.default)(this);e.find(".staff-tools-toggle").on("click",function(t){t.preventDefault(),t.stopPropagation(),e.find(".staff-tools").toggle()}),e.find(".mini-profile").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=(0,i.default)(this).data("url");t&&(window.location.href=t)})})};h.datepicker=function(e){var t=!1,n={maxViewMode:0,minViewMode:"days",startView:0,clearBtn:0<=window.location.search.search(/[\?|&]before_date=/),templates:{leftArrow:'<span class="arrow left"></span>',rightArrow:'<span class="arrow right"></span>'}},i=function(t){var n=c.getParamsObject();null!==t?n.before_date=t.getTime()/1e3:n.before_date&&delete n.before_date,e.siblings(".dropdown-toggle").dropdown("toggle"),window.location=c.appendGetParams(window.location.pathname,n)};e.datepicker(o.default.extend({},n,e.data())),e.on("changeDate",function(e){t||i(e.date)}),e.find(".clear").on("click",function(e){t=!0,i(null)})},h.portalFeed=function(e){e.find("select").on("change",function(){if(e.addClass("loading"),"/community/home/"===window.location.pathname)(0,i.default)(this.form).submit();else{var t={};e.find("select").each(function(){t[this.name]=this.value});var n=o.default.template(e.data("url-format"))(t);window.history?((0,i.default)(this.form).submit(),window.history.replaceState({},"",n)):window.location.href=n}}),e.find(".feed-section-choice").on("click",function(){var e=(0,i.default)(this).data();(0,i.default)(e.field).val(e.choice).trigger(i.default.Event("change"))});var t=".portal-feed-filters";e.find(t+" > button").on("click",function(){(0,i.default)(this).parents(t).toggleClass("open")})},h.problemsFeedPreviews=(O=q=!1,S={},P=".problem-preview-tooltip",function(e){if(!(C=a.$body.children(P)).length){var t=(0,i.default)(P);if(!t.length)return;(C=t.first()).appendTo(a.$body),t.not(C).remove()}x=C.find(".content"),E=C.find(".dropdown-menu"),I=E.outerHeight(!0)-x.outerHeight()+parseInt(x.css("max-height"));var n=function(){T=setTimeout(function(){O||(C.css("left",-99999),q=!1)},300)};e.find(".modal-feed-item").each(function(){var e=(0,i.default)(this),t=e.data("solvable-id"),o=e.data("preview-url"),s=function(e){q&&C.data("solvable-id")===t&&(x.html(e),r.updateMathjax(x),r.checkOverflow(x),l())},l=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.offset().top+e.outerHeight()/2,i=t.useActualHeight?E.outerHeight(!0):I,o=a.$window.scrollTop(),r=o+a.$window.height(),s=n-i,l=n+i,c="bottom";r<l&&(o<s||s<o&&o-s<l-r)&&(c="top"),C.toggleClass("dropdown","bottom"===c),C.toggleClass("dropup","top"===c),C.css({left:e.offset().left,top:n}),C.toggleClass("overflowing",x[0].scrollHeight>x[0].clientHeight)};e.on("mouseenter",function(){clearTimeout(T),j=setTimeout(function(){var e=t in S;C.toggleClass("loading",!e),x.html(e?S[t]:""),r.updateMathjax(x),r.checkOverflow(x),l({useActualHeight:e}),q=!0,C.data("solvable-id",t),e||i.default.get(o).always(function(){C.removeClass("loading")}).then(function(e){S[t]=e,s(e)}).fail(function(){s("Sorry! Something went wrong.")})},280)}).on("mouseleave",function(){clearTimeout(j),n()})}),(0,a.jqOffOn)(C,"mouseenter.problemPreview",function(){O=!0}),(0,a.jqOffOn)(C,"mouseleave.problemPreview",function(){O=!1,n()})}),h.portalFeedSwitcher=function(e){var t=e.find("#switcher-btns .btn"),n="active",r=(0,i.default)(".modal-feed-item.feed-section-row"),s=r.outerHeight()-2*parseInt(r.css("padding-top"),10),l=function(e){e.find(".latexprocessor-inline,.latexprocessor-block,.MathJax").each(function(){var e=(0,i.default)(this).parents(".td"),t=e.height();s<t&&e.css({transform:"scale("+s/t+")",transformOrigin:"0 0"})})};t.on("click",function(o){o.preventDefault();var r=(0,i.default)(this);if(!r.hasClass(n)){t.removeClass(n),r.addClass(n),e.find(".feed-section").removeClass(n);var s=e.find(r.data("target"));s.addClass(n),a.isMobile||l(s)}}),a.isMobile||o.default.defer(function(){l((0,i.default)(".feed-section:visible"))})},h.feed=function(e){s.default.init(),"wiki-main"!==e.attr("id")&&s.default.autopagination(),d.default.feeditem_modal(),(0,i.default)(".nf-feed-subscription").each(function(){var e=(0,i.default)(this);0===e.children().length&&e.remove()}),r.scaleSVG((0,i.default)(".latexprocessor-block")),A()};var D=function(e,t){var n=m.handle(e,t);(0,i.default)(".nf-next-container.loading").removeClass("loading").addClass("loaded"),r.updateMathjax(n),d.default.feeditem_modal(n),s.default.reset_autopagination_point(),s.default.needs_additional_pagination(n),r.scaleSVG((0,i.default)(".latexprocessor-block")),r.checkOverflow(n),a.$window.trigger("scroll"),d.default.open_modal_is_set&&d.default.preloadFirstItem($newsfeed_modal_set_content),A(n)};m.newsfeed_newsfeed_container=D,m.newsfeed_firehose_container=D,m.newsfeed_explore_container=D,m.newsfeed_feed_container=D,m.profile_newsfeed_favorites_container=D,m.problems_started_problems_container=D,m.newsfeed_generic_tag_container=D,m.profile_newsfeed_favorites=D,m.newsfeed_generic_tag=D,m.wiki_community_posts_container=D,m.topic_feed_container=D,m.topic_feed_page=D,m.problems_feed_container=D,m.discussions_feed_container=D,m.home_activity_container=D,m.community_problems_container=D,m.community_discussions_container=D,m.community_wikis_featured_container=D,m.groups_newsfeed_container=D,m.daily_problems_container=D,m.daily_problems_archives_container=D,m.community_portal_lttr_listing_container=D,m.community_portal_featured_users_listing_container=D,m.profile_forlater_container=D,m.daily_problems_archives=function(e,t){D(e,t),s.default.autopagination(!0),a.$window.trigger("scroll")},m.community_portal_problems=m.community_portal_need_solution=m.community_portal_discussions=m.community_portal_problems_container=m.community_portal_need_solution_container=m.community_portal_discussions_container=function(e,t){if(D(e,t),a.$body.hasClass("portal-page")){var n=(0,i.default)(".cmp_"+t+"_id").parents(".feed-section").find(".nf-feed-item-wrapper");if(n.length>p)return void n.slice(p).remove()}s.default.autopagination(!0),a.$window.trigger("scroll")};var M=function(e,t){var n=m.handle(e,t);r.updateMathjax(n),d.default.feeditem_modal(n),r.scaleSVG((0,i.default)(".latexprocessor-block")),A(n.parent())};m.newsfeed_feeditem_challengerecommendation=M,m.problems_started_solvable_component=M,m.groups_feeditem_discussionpost=M,m.groups_feeditem_newsfeedproblemset=M,m.newsfeed_mark_reshare=function(e,t){var n=m.handle(e,t).parents(".cmp_reshare").first(),o=n.data("reshare-key");o&&(0,i.default)('.cmp_reshare[data-reshare-key="'+o+'"]').not(n).find("> div").each(function(){(0,i.default)(this).html(e.new_html)})},e.exports=h},186:function(e,t,n){"use strict";var i=c(n(0)),o=c(n(8)),a=l(n(39)),r=n(1),s=l(n(18));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d={},u=null,f=0,p=document.title,h=function(e){document.title=(e?"("+e+") ":"")+p};function m(e){null!==u&&e!==f&&(u.text((0,r.commaFormat)(e)),0===f?u.removeClass("hide"):0===e&&u.addClass("hide"),f<e&&(u.parents("#header").removeClass("short"),u.addClass("wiggle-more")),h(e),f=e)}d.dropdownHandler=function(e){var t=e.find(".cmp-deferred"),n=t.parent(),i=t.clone(),o=!1;e.on("open",function(){o?(n.html(t),a.load(i)):(a.load(t),o=!0),u.length&&u.removeClass("wiggle-more")}),e.find(".dropdown-menu").on("click",function(e){e.stopPropagation()})},d.toggleDismissed=function(e){e.on("click",function(t){t.preventDefault();var n=e.data();e.addClass("dim"),(0,o.default)(n.pageKey).get(e.attr("href"),{component_key:n.componentKey})})},d.unreadCount=function(e){u=e,f=parseInt(u.text().replace(/,/g,""),10),h(f);var t=u.data(),n=0;!function e(){var o,a;i.default.get(t.url).then(function(e){"num_notifications"in e?m(e.num_notifications):"logged_out"in e&&clearTimeout(o)}),o=setTimeout(e,(a=n,100*Math.pow(a,2)+500*a+5e3)),n++}()},d.updateCount=function(e){m(e.data("notif-count")),(0,i.default)(".dropdown.hdr-settings").trigger("update")},window.vkey=window.vkey||{},window.vkey.notifications_page=function(e,t){e.new_html=e.new_html.replace(/&amp;(.*?);/g,"&$1;");var n=window.vkey.handle(e,t);s.updateMathjax(n)},e.exports=d},187:function(e,t,n){"use strict";var i=p(n(0)),o=p(n(2)),a=f(n(630)),r=n(1),s=p(n(24)),l=n(3),c=(f(n(14)),p(n(8))),d=n(7),u=n(9);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var h,m,v,g={},y=null,_=0,b="nx-slide-",w="nx-target-active",k=function(e,t){var n=_;_=e,o.default.defer(function(){y.removeClass(b+n).addClass(b+_);var e=y.find(".slide-".concat(_)),o=e.data("on-visible")||null;if(C(e),o&&(0,u.executeFunctionByName)(o,e),y.trigger(i.default.Event("nux.slidechange")),0<e.length){var a={action:"viewed_".concat(v,"_popup"),step_position:_,is_first_step:_===h,is_last_step:_===m};t&&(a.triggered_by=t),(0,l.track)("ui",a)}})},C=function(e){o.default.defer(function(){(0,i.default)("."+w).off("click.lock").removeClass(w),0<e.length?(e.find(".nx-modal").each(function(){var t=e.data("reposition-handler");t?(0,u.executeFunctionByName)(t,(0,i.default)(this)):x((0,i.default)(this))}),o.default.defer(function(){e.addClass("in")})):(r.$body.trigger("nuxClose"),y.hide())})},x=function(e){var t=e.data("target")||null;if(t){var n=(0,i.default)(t);o.default.defer(function(){var t,i,a,s;n.addClass(w),i=n,a=["top","bottom"],(s=(t=e).data("reposition"))&&o.default.defer(function(){var e=s.split("-"),n=e[0],o=e[1];if(!(a.indexOf(n)<0||a.indexOf(o)<0)){var l=i.offset().top+("bottom"===n?i.outerHeight():0)-("bottom"===o?t.outerHeight():0),c=t.offset().top-t.position().top;if(t.css({top:l-c+parseInt(t.css("margin-top"))}),(0,r.jqGetElemById)("prac-topic-header").length){var d=i.offset().top-(0,r.jqGetElemById)("header").outerHeight()-28;(0,r.setScrollPosition)(d,{animate:!0})}}})})}};g.tour=function(e){var t=(y=e).find(".slide");h=parseInt(t.first().prop("class").match(/slide-(\d+)/)[1],10),m=h+t.length-1,v=e.data("axContext");var n=y.prop("class").match(/nx-slide-(\d+)/)[1];_=parseInt(n,10),k(_),y.on("click",".nx-next",function(){k(_+1,d.INTERACTION_TYPES.CONTINUE_BUTTON)}),o.default.defer(function(){window.history.replaceState&&window.history.replaceState({},"",window.location.href.replace(/tour=true&?/,"").replace(/[&?]$/,""))})},g.overlay=function(e){e.on("click",function(){s.default.update(e.data("flag"),!0),o.default.defer(function(){e.hide()})})},g.banner=function(e){s.default.update(e.data("flag"),!0)},g.problemsOfTheDay=function(e){s.default.update(e.data("flag"),!0)},g.potdHighlight=function(e){var t=e.find(".nx-modal");setTimeout(function(){var e=t.offset(),n=r.$window.height();if(e.top>n){var i=r.$html.add(r.$body);(0,r.setScrollPosition)(e.top-n+t.height()+8,{$container:i,animate:!0}),y.on("nux.slidechange",function(){(0,r.setScrollPosition)(0,{$container:i,animate:!0})})}},500)},g.welcomePage=function(e){var t=e.find(".nux-welcome-step"),n=e.find(".category-link"),a=e.find(".category-item"),s=e.find("form.step-5-form"),u=e.find(".continue:first").attr("href"),f="active",p=e.find("#id_page_key").val(),h=e.find(".nux-welcome-step").length,m=0<=window.location.search.indexOf("step=")?parseInt(window.location.search.match(/[\?&]step=(\d{1})/)[1],10):1,v=function(e){var t={action:"viewed_nux_slide",step_position:m,is_first_step:1===m,is_last_step:m===h};e&&(t.triggered_by=e),(0,l.track)("ui",t)},g=function(e,n,i){if(t.removeClass(f),t.filter(".nux-welcome-step-".concat(e)).addClass(f),i!=d.INTERACTION_TYPES.PREV_NEXT_BUTTON)try{window.history.pushState({},null,n)}catch(e){}v(i)};e.find(".continue").on("click",function(e){e.preventDefault(),m++;var t=e.currentTarget.href.replace("step=".concat(m-1),"step=".concat(m));g(m,t,d.INTERACTION_TYPES.CONTINUE_BUTTON)}),t.each(function(e,t){(0,i.default)(t).find(".markers span").each(function(t,n){t<e&&(0,i.default)(n).addClass("clickable").on("click",function(){m=t+1;var e=u.replace(/step=\d/,"step=".concat(m));g(m,e,d.INTERACTION_TYPES.STATUS_DOT)})})});var y=e.find('.btn[type="submit"]');n.on("click.selectCategory",function(){y.prop("disabled",""),r.isMobile||e.find(".content").removeClass("unselected-category"),n.off("click.selectCategory")}),n.on("click",function(e){var t=(0,i.default)(this);if(!t.hasClass(f)){var o=t.data();n.removeClass(f),t.addClass(f),t.find("input").prop("checked",!0),a.removeClass(f),a.filter(o.target).addClass(f),(0,l.track)("ui",{action:"click",element_id:"clicked_nux_category_option",user_category:o.category,element_type:"button"})}}),a.find(".img").each(function(e,t){(new Image).src=t.style.backgroundImage.match(/url\(['"]?(.*?)['"]?\)/)[1]}),s.on("submit",function(e){e.preventDefault(),m++;var t=s.attr("action").replace("step=".concat(m-1),"step=".concat(m));g(m,t,d.INTERACTION_TYPES.CONTINUE_BUTTON),(0,c.default)(p).form(s[0],{url:t})}),m<6&&o.default.defer(v),window.onpopstate=function(e){g(--m,document.location,d.INTERACTION_TYPES.PREV_NEXT_BUTTON)}},g.populatingRecommendations=function(e){(0,i.default)(function(){e.find(".progress-bar").addClass("loading"),setTimeout(function(){e.addClass("hide"),e.parent().find(".hide-recommendations").addClass("show")},2e3)})},g.earthAnimation=function(e){Promise.all([Promise.all([n.e(1),n.e(63)]).then(n.bind(null,636)),Promise.all([n.e(1),n.e(63)]).then(n.bind(null,289)),Promise.all([n.e(1),n.e(63)]).then(n.bind(null,290))]).then(function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,3),i=n[0],o=i.geoPath,r=i.geoOrthographic,s=n[1].scaleLinear,l=n[2].select,c=e.width(),d=e.height(),u=c/200*100,f=r().scale(u).translate([c/2,d/2]).clipAngle(90),p=o().projection(f),h=s().domain([0,c]).range([-180,180]),m=l(e[0]).append("svg").attr("width",c).attr("height",d),v={type:"Topology",transform:{scale:[.036003600360036005,.017366249624962502],translate:[-180,-90]},objects:{land:{type:"GeometryCollection",geometries:[{type:"Polygon",arcs:[[0]]},{type:"Polygon",arcs:[[1]]},{type:"Polygon",arcs:[[2]]},{type:"Polygon",arcs:[[3]]},{type:"Polygon",arcs:[[4]]},{type:"Polygon",arcs:[[5]]},{type:"Polygon",arcs:[[6]]},{type:"Polygon",arcs:[[7]]},{type:"Polygon",arcs:[[8,9]]},{type:"Polygon",arcs:[[10,-10]]},{type:"Polygon",arcs:[[11]]},{type:"Polygon",arcs:[[12]]},{type:"Polygon",arcs:[[13]]},{type:"Polygon",arcs:[[14]]},{type:"Polygon",arcs:[[15]]},{type:"Polygon",arcs:[[16]]},{type:"Polygon",arcs:[[17]]},{type:"Polygon",arcs:[[18]]},{type:"Polygon",arcs:[[19]]},{type:"Polygon",arcs:[[20]]},{type:"Polygon",arcs:[[21]]},{type:"Polygon",arcs:[[22]]},{type:"Polygon",arcs:[[23]]},{type:"Polygon",arcs:[[24]]},{type:"Polygon",arcs:[[25]]},{type:"Polygon",arcs:[[26]]},{type:"Polygon",arcs:[[27]]},{type:"Polygon",arcs:[[28]]},{type:"Polygon",arcs:[[29]]},{type:"Polygon",arcs:[[30]]},{type:"Polygon",arcs:[[31]]},{type:"Polygon",arcs:[[32]]},{type:"Polygon",arcs:[[33]]},{type:"Polygon",arcs:[[34]]},{type:"Polygon",arcs:[[35]]},{type:"Polygon",arcs:[[36]]},{type:"Polygon",arcs:[[37]]},{type:"Polygon",arcs:[[38]]},{type:"Polygon",arcs:[[39]]},{type:"Polygon",arcs:[[40]]},{type:"Polygon",arcs:[[41]]},{type:"Polygon",arcs:[[42]]},{type:"Polygon",arcs:[[43]]},{type:"Polygon",arcs:[[44]]},{type:"Polygon",arcs:[[45],[46]]},{type:"Polygon",arcs:[[47]]},{type:"Polygon",arcs:[[48]]},{type:"Polygon",arcs:[[49]]},{type:"Polygon",arcs:[[50]]},{type:"Polygon",arcs:[[51]]},{type:"Polygon",arcs:[[52]]},{type:"Polygon",arcs:[[53]]}],bbox:[-180,-90.00000000000003,180.00000000000014,83.64513000000002]}},arcs:[[[3345,574],[-16,-56],[-171,43],[187,13]],[[3745,688],[51,-114],[-264,-54],[116,168],[97,0]],[[3098,1097],[-9,-70],[-150,-12],[109,201],[50,-119]],[[0,304],[279,48],[330,-86],[265,-13],[157,60],[-297,50],[20,95],[-111,54],[172,-13],[108,81],[-238,50],[-45,101],[112,-11],[189,59],[50,54],[253,71],[431,-10],[160,44],[177,-85],[192,-7],[-84,155],[204,-58],[220,35],[338,-55],[203,55],[47,79],[-35,88],[21,161],[132,154],[24,-89],[-94,-80],[111,-202],[-13,-193],[-239,-126],[-185,-5],[82,-48],[-101,-48],[71,-108],[436,-122],[40,-48],[235,85],[194,-20],[396,100],[-32,62],[-165,-11],[-4,64],[191,96],[213,44],[162,104],[-2,55],[144,109],[279,-22],[271,94],[270,7],[92,-46],[262,59],[52,67],[133,-73],[365,203],[127,15],[167,-117],[181,5],[18,-101],[-44,-125],[85,-14],[79,128],[105,24],[143,129],[144,58],[74,-59],[252,-1],[87,97],[93,-79],[206,61],[202,-76],[40,37],[180,-12],[165,32],[75,-43],[224,2],[32,-56],[212,-38],[233,-126],[237,-55],[-54,-113],[-140,-104],[-21,-92],[98,-97],[-145,-24],[-55,-103],[75,-64],[298,-135],[140,-4],[-9951,-14]],[[3118,2082],[75,-49],[-86,-53],[-80,32],[66,140],[25,-70]],[[9038,2834],[80,-5],[-10,-135],[-52,-19],[-18,159]],[[9805,2826],[34,-49],[-136,-280],[-64,88],[166,241]],[[9849,3100],[109,-88],[-70,-207],[-61,102],[22,193]],[[0,4229],[9981,-14],[2,24],[-9983,18]],[[0,4257],[0,-28]],[[0,4257],[0,-28]],[[6390,4402],[11,-96],[-93,-560],[-85,-2],[-20,127],[31,378],[91,93],[41,147],[24,-87]],[[8987,4390],[28,-24],[50,-275],[180,-364],[7,-325],[-102,-395],[-87,-72],[-157,58],[-30,109],[-99,71],[-48,131],[-82,65],[-144,-42],[-69,-96],[-156,-68],[-84,50],[22,115],[-67,450],[21,152],[186,119],[60,189],[113,149],[36,-61],[111,216],[127,-71],[-42,-136],[106,-153],[45,0],[46,386],[29,-178]],[[8017,4792],[59,18],[106,-131],[-256,109],[91,4]],[[8725,5116],[37,-127],[80,95],[173,-124],[116,-302],[-23,-59],[-88,144],[-59,-98],[-110,116],[-21,111],[-118,107],[-87,149],[100,-12]],[[8478,5264],[-22,-57],[-118,-11],[83,-283],[-80,101],[3,-150],[-46,157],[59,237],[121,6]],[[7939,4845],[-90,94],[-111,348],[-89,182],[58,16],[177,-297],[63,-182],[-8,-161]],[[8274,5288],[-48,-337],[-165,63],[-31,142],[15,142],[93,63],[104,220],[68,-87],[-36,-206]],[[8510,5667],[-28,-163],[-49,130],[77,33]],[[8369,6248],[33,-81],[-21,-159],[-47,37],[35,203]],[[2984,6327],[118,-73],[-94,-32],[-24,105]],[[2786,6493],[153,-142],[-99,-25],[-54,167]],[[5431,7384],[-12,-93],[-74,57],[86,36]],[[8915,7321],[-20,-115],[-257,-72],[9,-141],[-53,107],[89,123],[85,5],[104,155],[24,172],[44,-116],[-25,-118]],[[8997,7726],[45,-52],[-66,-73],[-50,80],[17,124],[54,-79]],[[3440,8101],[74,-83],[-21,-86],[-140,-8],[87,177]],[[8989,8105],[-3,-226],[-40,-50],[14,449],[29,-173]],[[4811,8192],[-89,-26],[8,119],[112,39],[-31,-132]],[[4916,8559],[26,-157],[71,-172],[2,-124],[-176,-35],[41,60],[19,196],[-70,125],[87,107]],[[2634,8963],[57,-89],[-67,-61],[10,150]],[[4597,9009],[24,-76],[-140,-94],[-157,122],[273,48]],[[0,9154],[281,-172],[-111,-98],[-167,92],[-3,178]],[[0,9301],[9999,-40],[-35,16],[-9964,24]],[[2485,9184],[88,-132],[51,154],[118,-41],[-3,-118],[-122,-32],[-43,-103],[-162,-158],[-42,-177],[66,-107],[278,-112],[66,-227],[36,78],[-34,121],[92,108],[-55,131],[11,202],[119,7],[118,-79],[54,-165],[85,123],[77,-230],[124,-99],[46,-143],[-121,-109],[-177,-1],[-130,-196],[126,133],[58,-167],[129,-18],[-154,-137],[-44,73],[-88,-65],[4,-118],[-81,-24],[-79,-189],[0,-137],[-156,-237],[36,-263],[-31,-96],[-81,281],[-153,5],[5,-58],[-147,18],[-74,-121],[-14,-284],[96,-248],[101,66],[14,99],[90,31],[-53,-326],[161,-51],[-20,-209],[68,-149],[51,48],[76,-56],[38,114],[104,105],[9,-85],[265,-14],[-14,-45],[145,-229],[119,-32],[81,-251],[-21,-48],[298,-178],[132,-149],[3,-204],[-106,-276],[-23,-334],[-62,-194],[-74,-22],[-106,-146],[-11,-161],[-168,-361],[-99,30],[47,-142],[-68,-105],[-86,-6],[5,-107],[-82,-22],[46,-86],[-115,-216],[54,-54],[-97,-201],[28,-93],[-80,-85],[-109,90],[-20,323],[36,147],[33,402],[48,271],[38,635],[-8,175],[-157,213],[-150,571],[37,317],[82,177],[-55,296],[-25,-83],[-161,149],[-51,160],[-99,58],[-97,131],[-51,-31],[-193,152],[-62,123],[-8,135],[-173,356],[-25,127],[-43,-58],[147,-391],[-77,79],[-80,172],[-62,306],[-93,90],[-105,329],[14,300],[-18,164],[48,36],[-128,105],[-185,420],[-362,159],[-171,-116],[-175,-190],[-149,-57],[201,173],[-170,128],[-64,98],[149,189],[-116,-19],[-88,70],[101,52],[78,-26],[-126,159],[267,142],[120,-43],[241,-26],[197,-72],[232,91],[67,-58],[85,22],[244,-84],[11,-41],[204,64],[51,-45],[268,3],[-50,116],[35,106],[130,-140]],[[1829,9393],[86,-39],[157,13],[26,-97],[97,-55],[-40,-74],[-99,25],[-204,-37],[-169,174],[146,90]],[[2595,9395],[118,34],[44,-97],[81,40],[251,-128],[-1,-104],[194,-107],[-58,-108],[-78,80],[48,-214],[-105,62],[-3,-81],[-165,135],[61,150],[-176,166],[-65,-25],[-205,39],[-42,105],[101,53]],[[2212,9435],[83,-5],[-27,-143],[-115,71],[59,77]],[[2411,9373],[-36,78],[111,-16],[-75,-62]],[[1654,9294],[-152,27],[28,139],[204,-6],[57,-41],[-137,-119]],[[9029,9534],[-170,-55],[-40,77],[210,-22]],[[2264,9600],[9,-99],[-122,77],[113,22]],[[1994,9570],[53,-69],[-164,-33],[11,43],[-164,3],[64,72],[176,-58],[24,42]],[[6598,9255],[-165,43],[112,208],[154,67],[194,40],[0,-41],[-183,-56],[-171,-166],[59,-95]],[[2370,9622],[152,-86],[224,6],[-23,-73],[-291,23],[-62,130]],[[1772,9654],[-4,-45],[-181,-44],[185,89]],[[0,9154],[0,-230],[9963,-25],[19,-90],[-159,-76],[-93,-102],[-39,39],[-149,-40],[-40,-289],[-148,-221],[-37,251],[81,154],[147,178],[23,81],[-121,-115],[-23,71],[-141,-116],[-334,-42],[-196,-248],[172,-94],[-35,-268],[-144,-291],[-72,-6],[-132,-203],[53,-171],[-10,-98],[-72,-40],[-9,193],[-53,126],[-89,-60],[16,118],[-114,-127],[99,-120],[-54,-100],[77,-186],[5,-107],[-96,-304],[-77,-102],[-141,-79],[-63,18],[-80,-153],[90,-218],[9,-208],[-113,-176],[-2,76],[-138,200],[-27,-198],[118,-294],[4,-209],[-59,88],[-52,264],[-38,58],[17,178],[-45,316],[-82,-51],[3,125],[-80,262],[-124,-73],[-184,-322],[-13,-319],[-65,-138],[-111,462],[-25,309],[-60,-27],[-114,262],[-135,-20],[-189,80],[-89,80],[-39,131],[-59,-9],[106,-343],[62,5],[57,112],[104,-216],[-56,-187],[-253,-291],[-145,-79],[-23,238],[-97,261],[-2,74],[-110,315],[-66,37],[132,-581],[49,-155],[113,-203],[22,-112],[194,91],[-15,-163],[-111,-365],[-175,-313],[-41,-224],[47,-247],[8,-227],[-37,-116],[-129,-177],[7,-270],[-57,-51],[-22,-195],[-111,-232],[-67,-67],[-172,-51],[-122,445],[-26,287],[-73,313],[55,267],[-48,403],[-86,226],[28,241],[-36,98],[-73,-29],[-43,116],[-175,-90],[-154,-22],[-137,169],[-144,430],[32,81],[-14,331],[70,251],[136,212],[25,191],[76,145],[104,-34],[101,82],[224,43],[44,-233],[115,-60],[107,-115],[49,141],[224,-106],[148,20],[53,265],[-237,48],[-41,162],[86,101],[164,47],[89,-63],[86,98],[-133,150],[68,116],[-154,-81],[-78,42],[-86,-231],[32,-87],[-167,-34],[34,-130],[-66,-79],[-59,281],[-129,193],[-64,-57],[119,-210],[-40,-22],[-182,248],[-65,-71],[-95,-3],[-146,-369],[-90,-42],[-98,53],[-13,355],[39,42],[169,-19],[19,149],[-94,154],[83,-2],[151,171],[24,85],[114,53],[-7,178],[66,-179],[89,-14],[198,83],[58,230],[129,16],[2,59],[-144,-37],[-51,159],[121,144],[-89,35],[-121,-171],[26,-154],[-80,-229],[-82,-43],[-72,237],[-130,-51],[-19,195],[154,145],[117,191],[123,116],[250,79],[51,-58],[286,-130],[-53,-111],[-124,44],[28,-135],[266,134],[-30,105],[78,-18],[3,-92],[205,126],[141,2],[48,56],[240,-71],[-69,139],[90,115],[104,-266],[-67,-121],[105,83],[-54,213],[182,50],[24,76],[175,17],[10,68],[168,53],[209,23],[34,49],[253,-33],[78,-80],[-125,-66],[383,-70],[2,44],[148,-40],[75,-129],[27,60],[211,-20],[17,78],[251,-37],[96,-78],[168,1],[54,-82],[264,38],[226,-40],[-9960,-25]],[[6364,7560],[2,-213],[129,-36],[-26,225],[51,5],[-123,210],[76,38],[-52,103],[-125,-141],[68,-191]],[[7918,9692],[-157,-23],[51,76],[106,-53]],[[5506,9772],[-31,-167],[-164,119],[54,66],[141,-18]],[[5706,9813],[14,-52],[-163,3],[-75,43],[224,6]],[[7775,9725],[-184,31],[-59,53],[132,52],[118,-85],[-7,-51]],[[2583,9770],[-56,-80],[-107,4],[-107,104],[120,64],[150,-92]],[[3097,9968],[183,-43],[-258,-147],[-159,-28],[42,-46],[-143,-135],[-248,17],[122,165],[-180,147],[341,71],[300,-1]],[[4247,9992],[174,-46],[-308,-30],[243,-61],[206,44],[98,-36],[-153,-66],[-55,-80],[34,-101],[-25,-155],[-116,-57],[34,-183],[-150,-96],[-112,-20],[-67,-83],[-156,-70],[-84,-160],[-15,-149],[-136,44],[-94,159],[-64,205],[86,158],[-72,-37],[-66,137],[31,53],[-108,169],[-74,34],[-201,-3],[-129,137],[206,55],[-64,42],[215,110],[376,34],[324,59],[222,-7]]]};m.append("path").datum(a.feature(v,v.objects.land)).attr("class","land").attr("d",p);var g=0;setInterval(function(){g+=.5,f.rotate([h(g),0]),m.selectAll("path").attr("d",p)},20)})},e.exports=g},188:function(e,t,n){"use strict";var i=s(n(0)),o=s(n(2)),a=n(25),r=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var l,c,d,u={},f=window.vkey||{},p={},h=null,m=!1,v=!1,g=function e(t){if(v)m=!0;else{m=t||!m;var n=(0,r.jqGetElemById)("nf-feeditem-modal");m?(r.$body.on("click.savetogroup saveitem.open",function(){e(!1)}),(0,r.jqOffOn)(n,"scroll.saveitem",o.default.throttle(y,100))):(r.$body.off("click.savetogroup saveitem.open"),n.off("scroll.saveitem")),l.toggle(m),m?(h&&0<h.length&&h.outerHeight()<h[0].scrollHeight&&(h.addClass("scrollable"),(0,r.jqGetElemById)("groupitem-gradient").addClass("active")),y(),d.addClass("selected"),r.$body.trigger(i.default.Event("savetogroup.open"))):(l.removeClass("success"),d.removeClass("selected"))}},y=function(){if(!v&&!r.isMobile){var e=0,t=0,n=c.offset(),i="",o="",a=r.isMobile?0:28;"left"===c.data("position")?(t=n.top,e=n.left-l.width()-a,i="adjusted",o="bottom"):"bottom"===c.data("position")?(t=n.top+c.outerHeight(),e=n.left+c.width()/2,i="bottom"):(t=n.top-l.height(),e=n.left+c.width()/2,o="bottom"),l.addClass(i).removeClass(o).css({top:~~t,left:~~e})}},_=function(e){(!0===e||l&&l.length&&c.length)&&(y(),function(){l.on("click",function(e){e.stopPropagation()});var e,t,n=(0,r.jqGetElemById)("groupitem-form-groups");h=n.find(".sets"),e=h.find("input"),0<(t=e.filter(".auto-checked")).length&&e.on("click.autocheck",function(){e.off("click.autocheck"),t.prop("checked",!1).removeClass(".auto-checked")}),l.removeClass("nux new success"),0<l.find(".success").length&&(l.addClass("success"),g(!0)),y(),n.on("submit",function(){g(!1)})}())};u.controller=function(e){var t,n;t=(c=(0,r.jqGetElemById)("groups-tooltip-target")).data("object-id"),n=(0,i.default)(),["assessment_add_solvable_to_group","quizzes_add_solvable_to_group","potw_add_solvable_to_group","discussions_add_to_group"].forEach(function(e){n=n.add((0,i.default)(".saveitem-tooltip#cmp_"+e+"_id"))}),n.each(function(){var e=(0,i.default)(this),n=e.data("object-id");n!==t&&(p[n]=e).detach()}),0===(l=n.filter("[data-object-id="+t+"]")).length?(l=p[t])&&l.appendTo(r.$body):1<l.length&&(l.slice(1).remove(),l=l.first()),l&&l.length&&(c.length?(!0!==l.data("inited")&&(l.appendTo(r.$body),l.data("inited",!0),l.find("form").off("submit"),(0,a.initAutosubmit)(l)),(d=(0,r.jqGetElemById)("groups-tooltip-trigger")).on("click",function(e){e.preventDefault(),e.stopPropagation(),g()}),m&&g(!0)):!0===l.data("is-webview")&&(v=m=!0,l.addClass("in"))),_()},f.assessment_add_solvable_to_group=f.quizzes_add_solvable_to_group=f.potw_add_solvable_to_group=f.discussions_add_to_group=function(){f.handle.apply(this,arguments),_()},e.exports=u},189:function(e,t,n){"use strict";var i=h(n(593)),o=h(n(0)),a=h(n(2)),r=h(n(87)),s=h(n(21)),l=n(3),c=n(1),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(18)),u=h(n(31)),f=n(5),p=h(n(44));function h(e){return e&&e.__esModule?e:{default:e}}var m,v,g={},y=null,_=null,b={},w=null,k=null,C=null,x=null,E=null,I=null,j={},T=!1,q=["wikis","problems","quizzes"],O={version:1,search_type:"wikis",wiki_quality_threshold:200,page:0,pages:0,use_page:!1,topics:"",levels:"easy",allow_empty_queries:!1},S={},P=function(e,t){return e=e.replace(/\s/g,"+"),!0===t&&(e=escape(e)),e},A=function(e){e.hasClass("loaded")||(e.addClass("loaded"),O.page<O.pages-1?(O.page++,O.use_page=!0,T=!0,J()):c.$window.off("scroll.searchpage"))},D=function(e,t){k.removeClass("loading").addClass("loaded"),x=(0,c.jqGetElemById)("site-search-result-list"),E=(0,c.jqGetElemById)("site-search-header"),null===e?M(t):N(e)},M=function(e){S={page:$("search-page-tmpl"),problems:$("search-problems-tmpl"),quizzes:$("search-quizzes-tmpl"),wikis:$("search-wiki-tmpl"),sets:$("search-sets-tmpl"),empty:$("search-empty-tmpl"),card:{course:$("search-card-course-tmpl"),topic:$("search-card-topic-tmpl"),chapter:$("search-card-chapter-tmpl"),special:$("search-card-special-tmpl")}},z(e),function(){if(E.removeClass(q.join(" ")),E.addClass(O.search_type),(0,l.setAnalyticsEvents)(C),!E.hasClass("inited")){var e=(0,o.default)("#search-type a"),t=(0,o.default)("#search-level-list button"),n=(0,o.default)("#search-topics-list a");(0,l.track)("ui",{action:"click",element_type:"link",element_id:"user_searched"});var i=function(e,t){e.removeClass("active"),t.addClass("active")},a=function(){var t=e.filter("[data-opt-value="+O.search_type+"]");i(e,t)},r=function(){0<=["problems","quizzes"].indexOf(O.search_type)?(O.oldLevels&&(O.levels=O.oldLevels,O.oldLevels=null),O.oldTopics&&0===O.topics.length&&(O.topics=O.oldTopics,O.oldTopics=null)):(O.levels&&(O.oldLevels=O.levels,O.levels=""),O.topics&&(O.oldTopics=O.topics,O.topics=""))},s=function(e,t,n,o){if(o=!1!==o,n.hasClass("active"))!0===o&&(t.removeClass("active"),t.find("a").removeClass("active"),O[e]="",J());else{var a=n.data();i(t,n),O[e]=a.optValue,r(),J()}};E.addClass("inited"),a(),e.on("click",function(t){t.preventDefault(),s("search_type",e,(0,o.default)(this),!1)}),O.levels.length&&"string"==typeof O.levels&&(t.removeClass("active"),t.filter("[data-opt-value="+O.levels+"]").addClass("active")),t.on("click",function(e){e.preventDefault();var n=(0,o.default)(this),i=n.data("opt-value");n.hasClass("active")||(t.removeClass("active"),n.addClass("active"),O.levels=i,J())}),n.on("click",function(e){e.preventDefault();var t=(0,o.default)(this);t.hasClass("active")||((0,o.default)("#search-topic-active").html(t.html()),s("topics",n,t))}),x.on("click",".change-search-type",function(e){e.preventDefault(),O.search_type=(0,o.default)(this).data("opt-value"),r(),a(),J()})}}(),function(){var e=x.find(".load-page").last(),t=c.isMobile?c.$window:C.find(".search-results-wrapper"),n=function(){t.scrollTop()+t.outerHeight()+100>(c.isMobile?e.offset().top:e.position().top+(0,c.jqGetElemById)("header").outerHeight())&&A(e)};O.page===O.pages-1?e.remove():((0,c.jqOffOn)(t,"scroll",a.default.throttle(function(){e.hasClass("loaded")||n()},10)),n()),(0,c.jqOffOn)(x.find(".internal-link"),"click",function(e){e.preventDefault(),e.stopPropagation();var t=(0,o.default)(e.currentTarget).attr("href");e.metaKey?window.open(t):window.location.href=t})}(),W(),function(e){var t="/search/_analytics/",n=window.ga||function(){};t+="user-"+v+"/",t+=O.search_type+"/",t+="query-"+P(e.query,!0)+"/",0===O._filters.length&&O._filters.push("none"),t+="filters-"+P(O._filters.join(","))+"/",t+="total-"+e.nbHits+"/",n("send","event","search","search_result",t+="page-"+(e.page+1)+"-"+e.nbPages+"/");var i=e.userData&&e.userData.length?e.userData[0].card_type_name:"NONE";(0,l.track)("search_result",{search_type:O.search_type,query:P(e.query,!0),filters:P(O._filters.join(",")),hits:e.nbHits,page:e.page+1,pages:e.nbPages,path:window.location.pathname,is_android:c.isAndroid,custom_search_card_type:i})}(e)},N=function(e){var t;t=0<=e.message.indexOf("Cannot connect to the AlgoliaSearch API")?"You seem to be offline. Check your connection to continue searching.":"".concat(e.message," Try again later."),(0,f.showGenericModal)("Search error",t),s.default.captureMessage("Search error: ".concat(e.message))},$=function(e){return a.default.template((0,c.jqGetElemById)(e).text())},z=function(e){var t="";if(0===O.page){var n=I.data().enabledCardTypes;if(e.userData&&e.userData.length&&0<=n.indexOf(e.userData[0].card_type_name)){var i=e.userData[0];j[i.card_id]||null===j[i.card_id]?I.html(j[i.card_id]):(I.html(S.card[i.card_type_name.toLowerCase()](i)),o.default.get("/api/v1/search/grab_custom_search_card/"+i.card_id+"/").fail(function(){j[i.card_id]=null,I.empty()}).then(function(e){j[i.card_id]=e.rendered_html,I.html(e.rendered_html)}))}else I.empty()}0<e.hits.length?(E.removeClass("empty"),e.hits.forEach(function(e,n){var i=S[e.document_type],o=L(e);t+=i(o)})):0===O.page&&(E.addClass("empty"),t=S.empty(H(e))),O.page=e.page,O.pages=e.nbPages,0<t.length&&(t=S.page({page:O.page,html:B(t)}),0<O.page?x.append(t):x.html(t)),p.default.feeditem_modal(),x.find(".load-modal").not(".inited").each(function(){var e=(0,o.default)(this),t=e.data(),n=t.fullUrl,i=t.modalUrl;!0===e.data("clean-urls")&&(n="/"+n.split(/:\/\/.*?\//)[1],i&&(i="/"+i.split(/:\/\/.*?\//)[1])),e.hasClass("search-problem")?e.data("modal-url",n.replace(/\-problem\/(.)/,"-problem/modal/$1").replace("/problems/","/problems/modal/")):e.data("modal-url",i),e.addClass("inited"),p.default.modal_events.apply(this)}),d.checkOverflow(x)},B=function(e){return e.replace(/data-src=/g,"src=")},L=function(e){switch(e.document_type){case"wikis":return G(e);case"problems":return U(e);case"quizzes":return F(e);default:return e}},G=function(e){return e.processed_title=R(e),e.processed_blurb=V(e),e.is_low_quality=(e.quality_score||0)<O.wiki_quality_threshold,e},U=function(e){return e.level=0<e.level&&"None"!==e.level?e.level:0,e.concept_quiz_slug=e.concept_quiz_slug||!1,e.num_likes=e.num_likes||0,e.num_shares=e.num_shares||0,e.percent_solved=e.percent_solved||0,e.processed_title=R(e),e.processed_blurb=V(e),e.topic_name="Unknown"===e.topic_name?null:e.topic_name,e},F=function(e){return e.topic_name=e.topic_name||null,e.quiz_type=e.quiz_type||null,e.paid_quiz=e.paid_quiz&&!0===e.paid_quiz,e},H=function(e){var t=1,n={query:e.query};return q.forEach(function(e){if(e!==O.search_type){var i="alt_search_"+t;n[i]=e,n[i+"_text"]=e,t++}}),n},R=function(e){return e.rendered_title?e.rendered_title:e.title?a.default.escape(e.title):null},V=function(e,t){var n;if(t=!1!==t,e.rendered_blurb)n=e.rendered_blurb;else{if(!e.blurb)return null;n=t?a.default.escape(e.blurb):e.blurb}return n.replace(/<a\ /g,"<span ").replace(/<\/a>/g,"</span>")},W=function(){c.isMobile||((0,f.crop)(),c.$body.addClass("search-active")),C.hasClass("active")||C.hide().addClass("active").fadeIn(150),u.default.loadForElement(x)},K=function(){c.isMobile||((0,f.crop)(!1),c.$body.removeClass("search-active")),C.removeClass("active"),w.val(""),k.removeClass("loaded"),c.$window.off("scroll.searchpage")},J=function(e){e=e||w.val();var t,n,o,a,s=[],l={facets:"*",facetFilters:[],attributesToHighlight:[]};O.page&&0<O.page&&!0===O.use_page?(O.use_page=!1,l.page=O.page):O.page=0,"problems"===O.search_type?(t="hard"===O.levels?"rating>1800":"medium"===O.levels?"(rating:1400 to 1800, rating<0)":"rating:0 to 1400",l.numericFilters=t,s.push("levels-"+O.levels)):"wikis"!==O.search_type||m.isPrivilegedUser||(l.numericFilters="quality_score>="+O.wiki_quality_threshold),0<O.topics.length&&0<=["problems","quizzes"].indexOf(O.search_type)&&(l.facetFilters.push("topic_name:"+O.topics),s.push("topic-"+P(O.topics,!0))),O._filters=s,r.default.set("search_options",O),n=O.search_type,o="string"==typeof(o=e)?o:"<none>",a=(a=l)||{},(y[n]||0<=q.indexOf(n))&&(0<o.trim().length||O.allow_empty_queries)?(T?T=!1:w.val(o),O.search_type=n,null===_&&(_=(0,i.default)(y.application_id,y.readonly_api_key)),b[n]||(b[n]=_.initIndex(y.problems.index_name)),k.addClass("loading").removeClass("loaded"),0<=q.indexOf(n)&&a.facetFilters.push("document_type:"+n),b[n].search(o,a,D)):K()};g.controller=function(){if(w=(0,c.jqGetElemById)("site-search-input"),C=(0,c.jqGetElemById)("site-search-results"),I=(0,c.jqGetElemById)("site-search-custom-result"),0<w.length&&0<C.length&&(k=w.parent(),(m=(0,o.default)("#site-search-data").data()).isPrivilegedUser=!0===m.isPrivilegedUser,y=m.settings,v=m.user,t=null,w.on("keydown input",function(e){clearTimeout(t),13===e.which||e.forceSearch?(T=!0,J(w.val())):t=setTimeout(function(){T=!0,J(w.val())},1e3)}),C.add((0,c.jqGetElemById)("search-hide")).on("click",function(e){(0,o.default)(e.target).closest(".search-results-wrapper").length||(e.preventDefault(),K())}),(0,c.jqGetElemById)("search-input-btn").on("click",function(){w.focus()}),0<w.val().length)){var e=r.default.get("search_options")||null;null!==e&&e.version&&e.version===O.version&&(O=e),J(unescape(w.val()))}var t},e.exports=g},19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showStandardErrorModal=r,t.showTimeoutErrorModal=s,t.showBackendErrorModal=l,t.errorModalHandler=function(e){"abort"!==e.statusText&&(403===e.status?l(e):"timeout"===e.statusText?s():r())};var i=n(1),o=n(5);function a(){return(0,i.jqGetElemById)("default-ajax-error").data()}function r(){var e=a();e&&(0,o.showGenericModal)(e.errorTitle,e.errorContent)}function s(){var e=a();e&&(0,o.showGenericModal)(e.errorTitle,e.timeoutContent)}function l(e){if(e.responseJSON){var t=e.responseJSON.error;(0,o.showGenericModal)(t.title,t.message)}else console.log(e)}},190:function(e,t,n){"use strict";var i=c(n(0)),o=c(n(2)),a=n(1),r=n(3),s=n(7),l=n(9);function c(e){return e&&e.__esModule?e:{default:e}}var d={bdayExpl:function(e){var t={show:!1,trigger:"manual",placement:a.isMobile?"left":e.parents(".public-signup-modal").length?"bottom":"right"};a.isMobile&&e.hasClass("email-expl")&&(t.template='<div class="tooltip" id="email-expl-tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'),e.tooltip(t),e.on("click",o.default.throttle(function(t){t.preventDefault(),t.stopPropagation(),e.tooltip("toggle"),e.toggleClass("active")},200)),a.$body.on("click",function(){e.hasClass("active")&&e.click()})},showPassword:function(e){var t=e.data("field"),n=e.parentsUntil("form").parent().find(t),i=!1;e.on("click",function(){i=!i,e.toggleClass("active",i),n.attr("type",i?"text":"password")})},signUpModal:function(e){e.parent(".modal-bg").on("click",function(){e.parents(".solv-public-form").removeClass("open"),(0,i.default)(".btn-mcq.dim").removeClass("dim")}),e.on("click",function(e){e.stopPropagation()});var t=e.find("#position-dots").find(".position-dot"),n=e.find("#prev-position-dot"),a=e.find("#next-position-dot"),c=e.find("#slides").find(".slide"),d=c.length,u=1,f="active",p="disabled",h=function(e){c.removeClass(f),c.filter('[data-position="'.concat(u,'"]')).addClass(f),t.removeClass(f),e?e.addClass(f):t.filter('[data-position="'.concat(u,'"]')).addClass(f),n.removeClass(p),a.removeClass(p),u===d?a.addClass(p):1===u&&n.addClass(p),(0,r.track)("ui",{action:"viewed_prenux_slide",step_position:u,is_first_step:1===u,is_last_step:u===d,triggered_by:s.INTERACTION_TYPES[e?"STATUS_DOT":"PREV_NEXT_BUTTON"]})};t.on("click",function(e){var t=(0,i.default)(this),n=t.data("position");e.preventDefault(),n!=u&&(u=n,h(t))}),n.on("click",function(e){e.preventDefault(),(0,i.default)(this).hasClass(p)||(u--,h())}),a.on("click",function(e){e.preventDefault(),(0,i.default)(this).hasClass(p)||(u++,h())});var m=e.find(".public-signup-right");if(e.data("show-form")){var v=e.find("#signup-email"),g=e.find("#signup-form-container"),y=e.find("#problem-login-link"),_=e.find("#login-form-container"),b="show-form",w=v.data(),k=g.data(),C=!1,x=y.data(),E=_.data(),I=!1;v.on("click",function(e){e.preventDefault();var t="input#id_email";if(C)m.addClass(b),m.find(t).focus();else{var n=o.default.extend({page_key:k.pageKey},w);i.default.get(k.url,n).then(function(e){C=!0,g.html(e.actions.homepage_signup_form.new_html),(0,l.initGenericControllers)(g),m.addClass(b),m.find(t).focus()}).fail(function(e){window.location.href=v.attr("href")})}}),y.on("click",function(e){e.preventDefault();var t="input#id_login";if(I)m.addClass(b),m.find(t).focus();else{var n=o.default.extend({page_key:E.pageKey},x);i.default.get(E.url,n).then(function(e){I=!0,_.html(e.actions.homepage_login_form.new_html),(0,l.initGenericControllers)(_),m.addClass(b),m.find(t).focus()}).fail(function(e){window.location.href=y.attr("href")})}})}var j=e.find("#problem-signup-link-alternative"),T=e.find("#problem-login-link-alternative"),q="show-signup",O="show-login";j.on("click",function(e){e.preventDefault(),m.removeClass(b+" "+O).addClass(q)}),T.on("click",function(e){e.preventDefault(),m.removeClass(b+" "+q).addClass(O)})}};e.exports=d},191:function(e,t,n){"use strict";e.exports={ratings_correct_incorrect_over_time:function(e){e=e||!1;var t=[1e3,1045,1080,1143,1166,1227,1288,1283,1299,1338,1342,1319,1343,1350,1382,1480,1510,1480,1460,1556,1548,1605,1592,1650,1684,1736,1807,1863,1848,1941,1935,1995,1965,1957,1998,2052,2098,2164],n=[],i=(new Date).getTime(),o=new Date(i),a=2200,r=864e5,s=function(e,t){return~~(Math.random()*(t-e+1))+e};if(e)for(;!(i-o.getTime()>31536e6||1e3===a);)20,o=new Date(o.getTime()-s(1,20)*r),50,a-=s(1,100)-s(1,50),a=Math.max(a,1e3),a=Math.min(a,2200),n.unshift({date:o,rating:a});else for(;t.length;)10,o=new Date(o.getTime()-10*r),n.unshift({date:o,rating:t.pop()});return n}()}},192:function(e,t,n){"use strict";var i=r(n(0)),o=r(n(2)),a=n(1);function r(e){return e&&e.__esModule?e:{default:e}}var s,l,c={},d=[1e3,1250,1500,1750,2e3,2250],u="1-year",f=function(){if(!a.isBrilliantPremium)return o.default.noop;var e="tooltipped",t=function(){(0,i.default)(this).addClass(e)},n=function(){(0,i.default)(this).removeClass(e)};return a.isMobile?function(e){var i;e.on("click",function(){var e=this;e!==i&&(t.call(e),i=e,o.default.defer(function(){a.$body.one("click",function(){n.call(e),i=null})}))})}:function(e){e.on("mouseenter",t).on("mouseleave",n)}}(),p=function(e){return 864e5*e},h=function(e,t,n){var i=t.find("#canvas-graph"),a=n.ratings_correct_incorrect_over_time;if(1===(a=function(e){if("1-year"===u)return e;var t=new Date(e[e.length-1].date);if("1-week"===u)var n=t.getTime()-p(7);else"3-months"===u&&(n=t.getTime()-p(90));return e.filter(function(e){return new Date(e.date).getTime()>=n})}(a)).length){var r,s=(new Date).getTime();switch(u){case"1-year":r=s-p(365);break;case"3-months":r=s-p(90);break;case"1-week":r=s-p(7)}a.push({date:s,rating:a[0].rating,artificial:!0}),a[0].date=r}var l,c,f,h,m,v,g={width:i.width(),height:i.height(),gutter:parseInt(i.css("left")),dateFormatFull:e.timeFormat("%b. %e, %Y"),nodeTemplate:o.default.template('<div class="stat-tooltip dropup tipsy" style="top:<%= top %>;left:<%= left %>"><div class="dropdown-menu"><span class="arrow"></span><p><strong><%= dateFormatted %></strong></p><p>Level <%= level %></p></div></div>')};return g.scaleX=e.scaleTime().domain([new Date(a[0].date),new Date(a[a.length-1].date)]).range([0,g.width-0]),g.scaleY=(l=o.default.pluck(a,"rating"),c=d.slice(),f=o.default.min(l),h=o.default.max(l),m=c[0],v=c[c.length-1],f<m&&(m=f,c[0]=m),v<h&&(v=h,c[c.length-1]=v),g.ratingMilestones=c,e.scaleLinear().domain([m,v]).range([g.height,0])),g.ratings_over_time=a,g};c.render=(l=s=null,c.clean=function(){s&&s.find(".cleanable").each(function(){(0,i.default)(this).empty()})},function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];s=s||e,l=!0===r?t:l||t,Promise.all([Promise.all([n.e(1),n.e(4)]).then(n.bind(null,290)),Promise.all([n.e(1),n.e(4)]).then(n.bind(null,289)),Promise.all([n.e(1),n.e(4)]).then(n.bind(null,631)),Promise.all([n.e(1),n.e(4)]).then(n.bind(null,632)),Promise.all([n.e(1),n.e(4)]).then(n.bind(null,633))]).then(function(e){var t,n,r,d,p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,5),m=p[0].select,v=p[1],g=v.scaleLinear,y=v.scaleTime,_=p[2],b=_.timeMonth,w=_.timeDay,k=p[3].timeFormat,C=p[4],x={select:m,scaleLinear:g,scaleTime:y,timeMonth:b,timeDay:w,timeFormat:k,line:C.line,curveBasis:C.curveBasis,curveLinear:C.curveLinear},E=h(x,s,o.default.extend({},l));!0!==l.ignore&&(function(e,t){var n={},i=t.ratings_over_time.length,r={};function s(e){return r[e]||(r[e]=~~t.scaleX(new Date(e))),r[e]}e.select("#canvas-graph").selectAll("div.node").data(t.ratings_over_time).enter().append("div").classed("node",!0).classed("left",function(e){return 0<t.width/2-t.scaleX(new Date(e.date))}).style("left",function(e,i){if(0===i)n[i]=0;else{var o=s(t.ratings_over_time[i-1].date),a=s(e.date);n[i]=~~((a+o)/2)}return n[i]+"px"}).style("width",function(e,o){if(o===i-1)return t.width-n[o]+"px";var a=s(t.ratings_over_time[o+1].date);return~~((s(e.date)+a)/2)-n[o]+"px"}).html(function(e,i){for(var a,r=0;r<t.ratingMilestones.length;r++)if(e.rating<=t.ratingMilestones[r]){a=r;break}return t.nodeTemplate(o.default.extend(e,{top:~~t.scaleY(e.rating)+"px",left:s(e.date)-n[i]+"px",dateFormatted:t.dateFormatFull(new Date(e.date)),level:a}))}),f((0,a.jqGetElemById)("canvas-graph").find("div.node"))}(x,E),r=E,d=(n=x).line().x(function(e){return r.scaleX(new Date(e.date))}).y(function(e){return r.scaleY(e.rating)}).curve(n.curveBasis),n.select("#canvas-lines").append("path").attr("d",d(r.ratings_over_time)).classed("artificial",function(){return!0===r.ratings_over_time[1].artificial}),function(e,t){var n=t.ratings_over_time.slice(),i=o.default.extend({},n[0]);i.rating=0;var a=o.default.extend({},n[n.length-1]);a.rating=0,n.unshift(i),n.push(a);var r=e.line().x(function(e){return t.scaleX(new Date(e.date))}).y(function(e){return t.scaleY(e.rating)}).curve(e.curveLinear),s=e.select("#canvas-area"),l=s.append("svg:defs").append("svg:linearGradient").attr("id","area-gradient").attr("x1","100%").attr("y1","0%").attr("x2","100%").attr("y2","100%").attr("spreadMethod","pad");l.append("svg:stop").attr("offset","0%").attr("stop-color","#F7F7F7").attr("stop-opacity",0),l.append("svg:stop").attr("offset","100%").attr("stop-color","#F7F7F7").attr("stop-opacity",1),s.append("path").attr("d",r(n)).attr("fill","url(#area-gradient)")}(x,E),function(e,t){var n,i,o=t.ratingMilestones.slice(1,t.ratingMilestones.length-1),r=e.select("#canvas-legend");switch(r.selectAll("div.y-item").data(o).enter().append("div").classed("y-item",!0).style("top",function(e){return t.scaleY(e)+"px"}).text(function(e){return"Level "+((t=e)<1250?1:t<1500?2:t<1750?3:t<2e3?4:5);var t}),u){case"1-year":case"3-months":n=e.timeFormat("%b"),i=t.scaleX.ticks(e.timeMonth,1);break;case"1-week":n=e.timeFormat("%b %e"),i=t.scaleX.ticks(e.timeDay,1)}r.selectAll("div.x-item").data(i).enter().append("div").classed("x-item",!0).style("left",function(e){return"".concat(t.scaleX(e),"px")}).text(function(e,t){var i=n(e);return a.isMobile&&"1-year"===u&&t%2==0?"":i})}(x,E),(t=(0,a.jqGetElemById)("stat-btn-filters").find(".btn")).on("click",function(e){var n=(0,i.default)(e.currentTarget);n.hasClass("active")||(t.removeClass("active"),n.addClass("active"),u=n.data("value"),c.clean(),c.render())}),s.find(".spinner").hide(),(0,a.jqGetElemById)("percentile-text").text(l.percentile))})}),e.exports=c},193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(e){var t=e.data(),n=d[t.name];n?n.resume(e):d[t.name]=new h(e,t)};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(3),r=n(1),s=n(7);function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c={},d={},u=["potw_problemset","potw_problemset_default","quizzes_problemset","assessment_public_solvable_logged_in","quizzes_interstitial_pane"],f="stashed";function p(e){return(0,o.default)("<div />").html(e)}var h=function(){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.$container=t,this.$content=this.$container.find(".content"),this.data=n,this.load=this.load.bind(this),this.stash=this.stash.bind(this),this.initEventKeys(),this.bindEvents(),r.userIsAuthenticated?setTimeout(this.load,1):this.waitUntilVisible().then(this.load)}var t,n;return t=e,(n=[{key:"initEventKeys",value:function(){var e="viz".concat(this.data.name),t=u.map(function(t){return"".concat(s.EVT_VKEY_BEFORE_UPDATE,".").concat(t,".").concat(e)}).join(" "),n="".concat(s.EVT_QUIZ_POSITION_LOADING,".").concat(e),i="".concat(s.EVT_QUIZ_POSITION_WILL_CHANGE,".").concat(e);this.events={quizPositionDidChange:"".concat(s.EVT_QUIZ_POSITION_DID_CHANGE,".").concat(e),stashableEventGroup:[t,n,i].join(" ")}}},{key:"load",value:function(){var e=this;this.$container.css({width:this.$container.width()}),o.default.get(this.data.src).fail(function(){return e.$container.addClass("loading-error")}).then(function(t){return e.$content.html(function(e){var t=p(e);return t.find("script, link").each(function(e,t){return n=t,void(void 0!==(a=(i=(0,o.default)(n)).prop("src")||i.prop("href"))?c[a]?i.remove():(c[a]=!0,i.appendTo(r.$body)):i.appendTo(r.$body));var n,i,a}),t.html()}(t))})}},{key:"display",value:function(){this.$container.addClass("loaded"),this.$container.css({width:""}),this.trackVisualizationViewed()}},{key:"resume",value:function(e){this.unstash(e),this.trackVisualizationViewed()}},{key:"bindEvents",value:function(){r.userIsAuthenticated&&r.$window.on(this.events.stashableEventGroup,this.stash)}},{key:"unbindEvents",value:function(){r.userIsAuthenticated&&r.$window.off(this.events.stashableEventGroup)}},{key:"stash",value:function(){var e=this,t=p("");Object.keys(this.data).forEach(function(n){t.attr("data-".concat(n),e.data[n])}),this.$container.after(t),r.$body.append(this.$container),this.$container.addClass(f),this.$container.find('script[type="math/tex"]').remove(),this.unbindEvents()}},{key:"unstash",value:function(e){e.replaceWith(this.$container),this.$container.removeClass(f),this.bindEvents()}},{key:"isVisible",value:function(){var e=r.userIsAuthenticated?null:this.$container.parents(".prac-anon-item");return e&&e.length?e.hasClass("visible"):this.$container.is(":visible")}},{key:"waitUntilVisible",value:function(){var e=this;return new Promise(function(t){e.isVisible()?t():r.$window.on(e.events.quizPositionDidChange,function(){e.isVisible()&&(t(),r.$window.off(e.events.quizPositionDidChange))})})}},{key:"trackVisualizationViewed",value:function(){(0,a.track)("ui",{action:"viewed_visualization",visualization_name:this.data.name})}}])&&l(t.prototype,n),e}();window.bvisualizations={display:function(e){var t=d[e];t&&t.display()}}},194:function(e,t,n){"use strict";var i=n(1),o=n(14),a={};function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:550,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:440,o=i.$window.width()/2-t/2,a=i.$window.height()/2-n/2,r="width=".concat(t,",height=").concat(n);0<o&&0<a&&(r+=",left=".concat(o,",top=").concat(a)),window.open(e,"socialpopup",r)}var s=function(e){return-1===e.indexOf(encodeURIComponent("/"))?encodeURIComponent(e):e};a.facebook=function(e){e.on("click",function(t){t.preventDefault();var n=window.FB||null,a=e.data(),l={utm_content:a.axId,ref:a.axId};a.gifUrl&&0<a.gifUrl.length&&(l.gif_url=s(a.gifUrl)),a.ogType&&0<a.ogType.length&&(l.og_type=encodeURIComponent(a.ogType)),a.ogSharingMethod&&0<a.ogSharingMethod.length&&(l.og_sharing_method=encodeURIComponent(a.ogSharingMethod)),a.url=(0,o.appendGetParams)(a.url,l);var c=function(){window.location=(0,o.appendGetParams)("share://facebook",{link:s(a.url),caption:encodeURIComponent(a.title),elementId:a.axId})},d=function(){var e;if(null!==n){switch(e={method:a.method,display:"popup"},a.method){case"feed":e.link=a.url,e.description=a.title,a.image&&(e.picture=a.image);break;case"share_open_graph":e.action_type="og.shares",e.action_properties=JSON.stringify({object:a.url,ref:a.axId})}n.ui(e)}else{var t="https://www.facebook.com/v2.8/dialog/"+a.method;e={app_id:a.appId,display:"popup",redirect_uri:s(url)};var i=s(a.url);switch(a.method){case"feed":e.link=i,e.description=a.title,a.image&&(e.picture=encodeURIComponent(a.image));break;case"share_open_graph":e.action_type="og.shares",e.action_properties=JSON.stringify({object:i,ref:a.axId})}r((0,o.appendGetParams)(t,e),void 0,200)}};if(i.isAndroid&&i.appVersion.isGreaterThanOrEqualTo("1.10.0"))c();else if(i.isAndroid)try{Android.shareFacebook(a.url)}catch(t){d()}else i.isIos&&i.appVersion.isGreaterThanOrEqualTo("0.9.2")?c():d()})},a.twitter=function(e){e.on("click",function(t){t.preventDefault();var n=e.data(),i={text:encodeURIComponent(n.title)};n.url&&(i.url=s(n.url)),n.via&&(i.via="brilliantorg"),r((0,o.appendGetParams)("https://twitter.com/intent/tweet",i))})},a.remind=function(e){e.on("click",function(t){t.preventDefault();var n=e.data(),i=s(n.url);r("https://www.remind.com/v1/share?url="+i+"&referrer="+i+"&text="+encodeURIComponent(n.title),880,600)})},a.pinterest=function(e){e.on("click",function(t){t.preventDefault();var n=e.data();r("https://pinterest.com/pin/create/button/?url="+s(n.url)+"&media="+encodeURIComponent(n.media)+"&description="+encodeURIComponent(n.title)+" | via Brilliant.org",750,320)})},a.whatsapp=function(e){navigator.userAgent.match(/iPhone/i)&&!navigator.userAgent.match(/iPod/i)?e.removeClass("disabled"):(e.parent().addClass("whatsapp-removed"),e.remove())},a.nativeEmail=function(e){e.on("click",function(t){t.preventDefault(),window.location=(0,o.appendGetParams)(e.attr("href").replace("mailto:","share://email"),{elementId:e.data("ax-id")})})},-1!==window.location.href.indexOf("fb_close_window")&&window.self.close(),e.exports=a},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=window.Raven;t.default=i},228:function(e,t,n){"use strict";var i=c(n(0)),o=c(n(3)),a=n(7),r=n(1),s=n(5),l=n(19);function c(e){return e&&e.__esModule?e:{default:e}}n(53);var d={emailAddresses:function(e){var t=e.find(".verify"),n=e.find(".make-primary"),o=e.find(".remove"),a=e.find("[name=action_send]"),r=e.find("[name=action_primary]"),s=e.find("[name=action_remove]"),l=e.find(".add-email-link"),c=e.find(".add-email-form"),d=function(e,t){e.on("click",function(e){e.preventDefault(),(0,i.default)(e.currentTarget).parents("li").find("input[type=radio]").prop("checked",!0),t.click()})};d(t,a),d(n,r),d(o,s),s.on("click",function(){var t=e.find("input[type=radio]:checked").val();return confirm("Do you really want to remove ".concat(t,"?"))}),l.on("click",function(e){e.preventDefault(),(0,i.default)(e.currentTarget).parents("tr").hide(),c.removeClass("hide").find("input").focus(),l.addClass("hide")}),0<c.find(".errorlist").length&&l.click()},emailSettings:function(e){var t=function(e){o.default.track("email settings timeout error",{result:e})};e.find("form").each(function(e,n){var o=(0,i.default)(n);o.find("input.unsubscribe").each(function(e,n){var a=(0,i.default)(n),r=!1;a.on("click",function(){if(!r){r=!0;var e=o.attr("action"),n=0,s=a.prop("checked"),c={type:"POST",timeout:3e3};e=e.replace(/\/(un)?checked\//,s?"/checked/":"/unchecked/"),c.url=e,a.prop("disabled",!0);var d=function(){r=!1,a.prop("disabled",!1),a.prop("checked",!s)};!function e(){i.default.ajax(c).then(function(){r=!1,o.removeClass("opt-out"),a.prop("disabled",!1)}).fail(function(i,o){"timeout"===o?n<5?(n++,t("retry"),e()):((0,l.showTimeoutErrorModal)(),t("limit reached"),d()):((0,l.errorModalHandler)(i),d())})}()}})})});var n=(0,i.default)(".opt-out");if(0<n.length){var a=n.parents(".pref-group-row");r.isMobile&&(a=a.add(a.prev(".pref-group-row"))),a.addClass("highlighted"),(0,r.setScrollPosition)(n.offset().top-r.$window.height()/2,{animate:!0}),setTimeout(function(){a.addClass("transition").removeClass("highlighted")},5e3)}},paymentHistory:function(e){(0,r.jqGetElemById)("view-receipts").on("click",function(t){t.preventDefault();var n=(0,i.default)(t.currentTarget);e.toggleClass("expanded"),e.hasClass("expanded")?(n.removeClass("view-receipts"),n.addClass("hide-receipts")):(n.removeClass("hide-receipts"),n.addClass("view-receipts"))})},deactivateAccountForm:function(e){var t=e.find(":checkbox"),n=t.filter('[value="other"]'),i=e.find(".other-text"),o=i.find("textarea"),a=e.find(".second-step"),r=e.find('[name="deactivate_method"]'),l=e.find(".how-to-reactivate"),c=e.find(".password"),d=e.find(".btn-submit"),u=function(){i.toggleClass("hide",!n.prop("checked"))},f=function(){var e=t.filter(":checked").length,i=0===e||1===e&&n.prop("checked")&&""===o.val().trim();a.toggleClass("hide",i)},p=function(){var e=r.filter(":checked").val();l.toggleClass("hide","temporary"!==e),c.toggleClass("hide","permanent"!==e),e&&d.removeClass("hide")};t.on("change",function(){f(),"other"===this.value&&u()}),o.on("change click keyup",f),r.on("change",p),u(),f(),p(),e.on("submit",function(){d.addClass("disabled").prop("disabled",!0)}),e.find(".errorlist").length&&s.Anchors.scrollToTarget(e)},uploadAvatarFormDesktop:function(e){var t=e.find(".upload-avatar-field"),n=t.find("input"),i=t.find(".filename"),o=e.find(".btn-submit");i.data("defaultValue",i.text()),n.on("change",function(){var e=n.val();i.text(e?e.replace(/^.*[\\\/]/,""):i.data("defaultValue")),o.prop("disabled",!e)})},changeAvatarMobile:function(e){var t=e.find(".avatar-wrapper"),n=e.find(".upload-avatar-form"),i=e.find(".upload-avatar-link input"),o=e.find(".choose-avatar-form"),s=o.find('input[type="radio"]');i.on("change",function(){i.val()&&(t.addClass(a.CLASS_NAME_LOADING),n.submit())}),s.on("change",function(e){var t=e.target;s.prop("disabled",!0),(0,r.jqCreateElem)("input").attr({type:"hidden",name:t.name,value:t.value}).insertAfter(t),o.submit()})},deleteAvatarForm:function(e){var t=e.find('input[type="checkbox"]'),n=e.find(".btn");t.on("change",function(){n.prop("disabled",0===t.filter(":checked").length)})},b2DeactivationModal:function(e){(0,r.jqGetElemById)("deactivate-modal-trigger").on("click",function(){e.modal("show")})},pollExportState:function(e){var t,n=e.data("url");(function t(){i.default.get(n).then(function(n){"ready"===n.state&&"url"in n?((0,i.default)(".download").removeClass("hidden").find("a").attr("href",n.url),e.addClass("hidden")):setTimeout(t,6e4)})})(),e.attr("data-test-url")&&(t=e.data("test-url"),setTimeout(function(){i.default.get(t)},6e3))}};e.exports=d},229:function(e,t,n){},230:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reminders=function(e){var t,n,o,a,r="#set-reminders",c=e.find(".dp-reminder-set"),d=function(){c.modal(),(0,s.track)("ui",{action:"modal",element_type:"modal",element_id:"viewed_dailyproblems_reminders_modal"}),window.location.hash===r&&f()};if(e.find(".set-reminder-trigger").on("click",d),c.find(".errorlist").length&&d(),c.find("form").on("submit",function(){c.modal("hide");var e={action:"click",element_id:"clicked_dailyproblems_reminders_save"};c.find("[name=tracks]").each(function(t,n){e["track_".concat(n.dataset.track)]=n.checked}),(0,s.track)("ui",e)}),n=(t=e).find(".dp-reminder-snooze-form"),o=t.find(".dp-reminder-snooze-modal"),a=function(e){(0,s.track)("ui",{action:"click",element_id:"clicked_dailyproblems_snooze_reminders_save",snooze_days:e})},n.on("submit",function(){o.modal("hide");var e=parseInt(n.find("[name=snooze_days]:checked").val(),10);a(e)}),t.find(".snooze-disable-trigger").on("click",function(e){e.preventDefault();var i=t.data("page-key");(0,l.default)(i).form(n[0],{snooze_days:0}),o.modal("hide"),a(0)}),"#snooze-reminders"===window.location.hash&&(o.modal("show"),f()),window.location.hash===r){var u=(0,i.default)(".dailyproblems-nux"),p=u.hasClass("dp-reminder-nux");!p&&0<u.length?u.on("hide",d):p||d()}},t.mainbodySection=function(e){var t=(0,a.jqGetElemById)("dp-expand");if(t.length){var n=[];setTimeout(function(){e.find(".tail .viz-wrapper-newarch").each(function(e,t){var i=(0,d.getExistingVisualization)(t.dataset.visualizationkey);i.stash(),n.push(i)})},1),t.one("click",function(){e.addClass("expanded"),n.forEach(function(t){var n=e.find("[data-visualizationkey=".concat(t.key,"]"));t.resume(n)})})}var i="editing";(0,a.jqGetElemById)("dp-edit").on("click",function(){e.addClass(i),e.find("textarea").trigger("autosize.resize")}),(0,a.jqGetElemById)("dp-edit-cancel").on("click",function(){return e.removeClass(i)}),(0,a.jqGetElemById)("dp-edit-preview").on("click",function(){(0,a.jqGetElemById)("dp-edit-input-preview").val(1),e.find(".dp-mainbody-form").submit()}),(0,a.jqGetElemById)("dp-preview-save").on("click",function(){e.find(".dp-mainbody-form").submit()}),(0,o.default)(e.find("textarea"))},t.bodyEditor=function(e){var t=e.find("textarea");(0,c.wikiLinks)(t,!1)},t.hiddenField=function(e){e.find("button").on("click",function(t){t.preventDefault(),e.addClass("visible"),e.find("input").focus()})},t.problemAdminButtons=function(e){e.children(".edit-problem").on("click",function(){return(0,i.default)(".solv-edit-trigger").click()}),e.children(".edit-answer").on("click",function(){return(0,i.default)(".solvable-mcq-options-btn").click()})},t.categorizableInput=function(e){var t=e.data("field"),n=e.find("select");if((p[t]=n).on("change",function(){return h(t,n.val())}),3===Object.keys(p).length){var i=p.course.val();i&&h("course",i)}},t.expandableCalendar=function(e){e.find("h3").on("click",function(){e.toggleClass("expanded")})},t.nuxRedirect=function(e){e.find("a, button").on("click",function(t){t.preventDefault(),t.stopPropagation(),window.location.href=e.data("next")})};var i=u(n(0)),o=u(n(35)),a=n(1),r=n(38),s=n(3),l=u(n(8)),c=n(29),d=n(49);function u(e){return e&&e.__esModule?e:{default:e}}function f(){var e=window.location.pathname+window.location.search;window.history.replaceState({},document.title,e)}var p={};function h(e,t){if(t){var n,i,o,a,s=function(e,t){p[e].find("option").prop("disabled",!1).filter(function(e,n){var i=parseInt(n.value,10);return t.indexOf(i)<0}).prop("disabled",!0);var n=parseInt(p[e].val(),10);t.indexOf(n)<0&&p[e].val(null)};(n=e,i=t,o={category_type:n,selected_category_id:i},a={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8","X-CSRFToken":(0,r.getToken)()},credentials:"include",redirect:"follow",body:JSON.stringify(o)},fetch("/assessment/get_course_categorization_options/",a).then(function(e){return e.json()})).then(function(e){var t=e.data;["course","chapter","quiz"].forEach(function(e){var n,i=t["".concat(e,"_id")];i&&(n=i,p[e].val(n))}),t.chapters&&s("chapter",t.chapters),t.quizzes&&s("quiz",t.quizzes)})}}},231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modal=function(e){var t=e.closest(".educator-person"),n=(0,o.default)("#educator-bio-modal"),i=n.find("ul");e.on("click",function(){i.html(t.clone()),n.modal("show")})};var i,o=(i=n(0))&&i.__esModule?i:{default:i}},232:function(e,t,n){"use strict";var i=u(n(2)),o=u(n(35)),a=u(n(8)),r=n(25),s=n(1),l=n(5),c=n(9),d=n(29);function u(e){return e&&e.__esModule?e:{default:e}}var f={};function p(e){var t,n,a=e.parents(".modal");(t=a).is(":visible")&&0===t.find(".errorlist").length&&t.modal("hide"),n=a,(0,o.default)(n.find("textarea")),(0,d.mentions)(n.find("#id_invite_people")),n.on("show",function(){i.default.defer(function(){n.find("textarea").trigger("autosize.resize")})})}f.creationForm=p,f.featuredGroups=function(e){e.find(".see-more").on("click",function(){e.addClass("expanded")})},f.editGroup=function(){var e=(0,s.jqGetElemById)("group-header"),t="editing";e.removeClass(t),(0,s.jqGetElemById)("group-edit-trigger").on("click",function(){e.addClass(t),(0,o.default)(e.find("textarea")),(0,s.setScrollPosition)(0)}),e.find(".cancel-edit").on("click",function(n){n.preventDefault(),e.removeClass(t)}),e.find(".btn-expand").on("click",function(){e.addClass("expanded")})},f.inviteModal=p,f.confirmGroupAction=function(e){var t=e.find("form");(0,s.jqOffOn)(t,"submit",function(n){n.preventDefault();var i=e.data();(0,l.showConfirmationModal)({title:i.confirmModalTitle,text:i.confirmModalText,confirmBtnText:i.confirmModalOk,cancelBtnText:i.confirmModalCancel,classes:"group-confirm-modal"}).then(function(e){e&&(0,a.default)(t.find("#id_page_key").val()).form(t[0])})})},f.seeReport=function(e){var t=e.find(".group-report-modal");e.find(".group-report-trigger").on("click",function(){t.modal()})},window.vkey.groups_invite_members=function(e,t){var n=(0,s.jqGetElemByCmpName)(t),i=(0,s.jqGetElemById)("group-invite-modal");i.removeData("controller-inited").removeAttr("data-controller-inited"),n.html(e.new_html),(0,r.initAutosubmit)(n),(0,c.initGenericControllers)(i.parent())},e.exports=f},233:function(e,t,n){"use strict";var i=r(n(0)),o=r(n(2)),a=n(1);function r(e){return e&&e.__esModule?e:{default:e}}var s={},l=(0,a.jqGetElemById)("infiniti-challenge-confirmation-modal");s.timer=function(e){var t=e.data(),n=t.countDown,i=o.default.template(t.template),r=t.seconds,s=Math.round((new Date).getTime()/1e3),l=null,c=(0,a.jqGetElemById)("infiniti-challenge-timeout-modal"),d=function(e){return(e=e.toString())<10?"0"+e:e},u=function(t){var o=Math.round((new Date).getTime()/1e3)-s,a=n?r-o:r+o;if(0<o||t){a<0&&(a=0);var u=~~(a/86400),f=~~(a%86400/3600),p=~~(a%3600/60),h=a%60,m=i({days:u,hours:0<u?d(f):f,minutes:0<f?d(p):p,seconds:d(h)});m!==l&&(e.text(m),l=m),0==a&&c.modal()}};u(!0),setInterval(function(){u(!1)},250),c.find(".btn").on("click",function(){location.reload()})},s.rank=function(e){var t=e.data("percentile");setTimeout(function(){var n=Math.round(t/100*180-90),i=(50<t?100-t:t)/50*3,o="rotate("+Math.max(-82,n)+"deg)";0<i&&(o+=" translate(0, "+i+"px)"),e.find(".rank-needle").css({"-webkit-transform":o,transform:o})},250)},s.modals=function(e){var t=(0,a.jqGetElemById)("infiniti-challenge-modals");e.on("click",function(){t.removeClass("animate hide")}),t.on("click",function(){t.addClass("hide")}),t.find(".modal").on("click",function(e){e.stopPropagation()})},s.switchTestPosition=function(e){var t=(0,a.jqGetElemById)("prac-markers").find(".prac-marker"),n=(0,a.jqGetElemById)("prev-marker-btn"),o=(0,a.jqGetElemById)("next-marker-btn"),r=(0,a.jqGetElemById)("ec-problems").find(".ec-problem"),s=t.length,l="current",c="disabled",d=1,u=function(e){r.removeClass(l),r.filter('[data-position="'.concat(d,'"]')).addClass(l),t.removeClass(l),e?e.addClass(l):t.filter('[data-position="'.concat(d,'"]')).addClass(l),n.removeClass(c),o.removeClass(c),1==d?n.addClass(c):d==s&&o.addClass(c)};t.on("click",function(){var e=(0,i.default)(this),t=e.data("position");t!=d&&(d=t,u(e))}),n.on("click",function(){(0,i.default)(this).hasClass(c)||(d--,u())}),o.on("click",function(){(0,i.default)(this).hasClass(c)||(d++,u())})},s.saveAndContinue=function(e){5==e.parents(".ec-problem").data("position")&&e.html("Save"),e.hasClass("btn-submit")||e.on("click",function(){(0,a.jqGetElemById)("next-marker-btn").trigger("click")})},s.finishChallenge=function(e){e.on("click",function(){l.modal()}),l.find(".finish-competition-btn").on("click",function(){l.modal("hide")})},vkey.externalcompetition_competitionsolvablecomponent=function(e,t){var n=vkey.handle(e,t),i=n.find("#id_answer");i.length&&!i.hasClass("error")&&(0,a.jqGetElemById)("next-marker-btn").trigger("click");var o=n.find(".solv-form").data("num-unanswered");o?(l.find(".num-unanswered").html(o),l.removeClass("complete").addClass("incomplete")):l.removeClass("incomplete").addClass("complete")},e.exports=s},24:function(e,t,n){"use strict";var i=n(0),o={update:function(e,t,n){void 0===t&&(t=!0),n=n||function(){};var o=(t?"/profile/set_flag/":"/profile/unset_flag/")+e+"/";i.post(o).then(function(e){n(e)}).fail(function(e,t,i){n({success:!1,error:i,status:e.status})})},controller:function(e){var t=e.data("flag")||null;null!==t&&e.on("click",function(){o.update(t,!0)})}};e.exports=o},25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preventDefaultSubmitHandler=l,t.initAutosubmit=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.$body;window.django||e.find("form").each(function(e,t){var n=(0,i.default)(t);n.is(":not(.disable-auto-submit, ".concat(s.join(","),")"))&&((0,a.jqOffOn)(n,"submit.auto_submit",function(e){e.preventDefault(),(0,o.default)("assessment").form(t)}),n.not(".disable-submit-auto-disabling")&&l(n))})};var i=r(n(0)),o=r(n(8)),a=n(1);function r(e){return e&&e.__esModule?e:{default:e}}var s=['[action*="account/"]','[action*="avatar/"]'];function l(e){e.each(function(e,t){var n=(0,i.default)(t),o=[],r=[],s=i.default._data(t).events;s&&(r=(r=s.submit||[]).slice(0)),t.onsubmit&&o.push(t.onsubmit),r.forEach(function(e){o.push(e.handler)}),t.onsubmit=function(){},(0,a.jqOffOn)(n,"submit",function e(t){var i=t.target,r=!(!t.isDefaultPrevented||!t.isDefaultPrevented()),s=!1;return o.forEach(function(e){try{i.next_handler=e,!1===i.next_handler(t)&&(s=!0)}catch(e){}}),s||r||((0,a.jqOffOn)(n,"submit",function(e){e.preventDefault()}),(0,a.jqOffOn)(a.$window,"pageshow.auto_disable",function(t){t.originalEvent.persisted&&(0,a.jqOffOn)(n,"submit",e)})),!s})})}},269:function(e,t,n){"use strict";var i,o,a,r,s,l=n(0),c=(n(8),{});c.autorefresh=(o=[],a="reloading",r=function e(t){var n=o[t=t||0],i=n.find(".refreshable").data(),r={page_key:i.pageKey,component_key:i.componentKey,version:window.VERSIONS[i.pageKey]||1};n.addClass(a),l.get(i.url,r).fail(function(){n.removeClass(a).addClass("error")}).then(function(i){for(var r in i.actions)window.vkey.handle(i.actions[r],r);n.removeClass(a),t==o.length-1?s():e(t+1)})},s=function(){setTimeout(r,3e4)},function(e){o.push(e),clearTimeout(i),i=setTimeout(s,100)}),e.exports=c},271:function(e,t,n){"use strict";var i=p(n(0)),o=p(n(2)),a=n(3),r=n(1),s=n(5),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(14)),c=n(7),d=n(19),u=n(9),f=n(100);function p(e){return e&&e.__esModule?e:{default:e}}n(592);var h={subtopic:function(e){e.data();var t=(0,i.default)(".prac-subtopic").filter(".expanded");t.length&&o.default.defer(function(){s.Anchors.scrollToTarget(t)}),e.find(".prac-subtopic .trigger").on("click",function(){var e=(0,i.default)(this).parents(".prac-subtopic");if(e.toggleClass("expanded"),e.hasClass("expanded")){var t=e.data("subtopic-slug"),n=window.location.pathname+"?subtopic="+t,o={subtopic:t};try{window.history.replaceState(o,"",n)}catch(e){}}else try{window.history.replaceState({},"",window.location.pathname)}catch(e){}})},quizWikiFilter:function(e){var t=e.find(".btn-group, .btn-tabs").children(),n="active",o="";t.each(function(){o+=(0,i.default)(this).data("type")+" "}),t.on("click",function(){var a=(0,i.default)(this),r=a.data("type");a.hasClass(n)||(t.removeClass(n),a.addClass(n),e.removeClass(o).addClass(r))})},switchPaywallPosition:function(e){var t=(0,r.jqGetElemById)("prac-markers").find(".prac-marker"),n=(0,r.jqGetElemById)("prev-marker-btn"),l=(0,r.jqGetElemById)("next-marker-btn"),d=(0,r.jqGetElemById)("previews").length?(0,r.jqGetElemById)("previews"):e,u=d.find(".preview"),p=u.find(".btn-continue"),h=e.data(),m=h.changeState,v=u.length,g="show-paywall",y="disabled",_=h.paywallType,b=h.chapterId,w=d.data("initial-position")?d.data("initial-position"):1,k=function(e){var t={action:"viewed_paywall_slide",paywall_type:_,step_position:w,step_name:w===v?"features_list":"dynamic_content",is_first_step:1===w,is_last_step:w===v};b&&(t.slide_chapter_id=b),e&&(t.triggered_by=e),(0,a.track)("ui",t)},C=function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=i.$marker,a=i.changeState,s=void 0===a||a,c=i.triggeredBy,p=m&&s;u.removeClass("current"),u.filter('[data-position="'+w+'"]').addClass("current"),t.removeClass("current"),o?o.addClass("current"):t.filter('[data-position="'+w+'"]').addClass("current"),n.removeClass(y),l.removeClass(y),w===v?(r.userIsAuthenticated?(d.add(e.parent(".header")).add(e.parents(".course-quiz-paywall-wrapper")).addClass(g),(0,f.twinklingStars)(d.find(".premium-space-bg"))):u.filter(".current").find(".btn-continue").hide(),l.addClass(y)):(d.add(e.parent(".header")).add(e.parents(".course-quiz-paywall-wrapper")).removeClass(g),1==w&&n.addClass(y)),window.history.pushState&&p&&window.history.pushState({position:w},"","?p="+w),k(c)};m&&r.$window.on("popstate",function(e){var t=e.originalEvent.state;w=t&&t.position?t.position:1,C({changeState:!1,triggeredBy:c.INTERACTION_TYPES.URL_CHANGE})}),r.isMobile&&navigator.userAgent.toLowerCase().indexOf("android")<0&&(0,s.crop)(!1),t.on("click",function(e){var t=(0,i.default)(e.currentTarget),n=t.data("position");e.preventDefault(),n!==w&&(w=n,C({$marker:t,triggeredBy:c.INTERACTION_TYPES.STATUS_DOT}))}),n.on("click",function(e){e.preventDefault(),(0,i.default)(e.currentTarget).hasClass("disabled")||(w--,C({triggeredBy:"prev_next_button"}))}),l.add(p).on("click",function(e){e.preventDefault(),(0,i.default)(e.currentTarget).hasClass("disabled")||(w++,C({triggeredBy:e.currentTarget===l[0]?c.INTERACTION_TYPES.PREV_NEXT_BUTTON:c.INTERACTION_TYPES.CONTINUE_BUTTON}))}),1!==v&&o.default.defer(k)},loadChapterPaywall:function(e){var t,n=(0,r.jqGetElemByCmpName)("explorations_chapter").find(".exploration-quizzes a"),o=e.data(),a=e.attr("href"),s={page_key:o.pageKey};e.add(n).on("click",function(e){e.preventDefault(),t?t.modal():((t=(0,i.default)('<div class="chapter-paywall-modal modal"><span class="spinner"></span></div>')).modal(),i.default.get(a,s).then(function(e){t.html(e.actions.explorations_chapter_paywall.new_html),t.find(".close").on("click",function(){(0,r.jqGetElemById)("paypal-modal").find("> .visible").length||t.modal("hide")}),(0,u.initGenericControllers)(t)}).fail(function(){window.location.href=a}))})},explorationDescription:function(e){e.on("click",function(){e.parent().toggleClass("expanded")})},trackExplorationsComingSoon:function(e){var t,n,i=e.data(),o=i.topicSlug,r=i.chapterSlug;n=o?(t="clicked_exploration_topic_coming_soon",o):(t="clicked_exploration_chapter_coming_soon",r),e.on("click",function(){(0,a.track)("ui",{action:"click",element_type:"link",element_id:t,target:n})})},wikiListing:function(e){o.default.defer(function(){for(var t=e.height();e.width()<e[0].scrollWidth||e.height()<e[0].scrollHeight;)t+=100,e.css({height:t})})},notifyComingSoon:function(e){var t=e.find("form"),n=!1,o=function(){!1===n&&(n=!0,e.removeClass("with-form"),i.default.post(t.prop("action")).fail(d.errorModalHandler).fail(function(){n=!1,e.addClass("with-form")}))};t.on("submit",function(e){e.preventDefault(),o()}),e.on("click",o)},explorationsNav:function(e){if(e.find(".courses-item").on("click",function(){var e=(0,i.default)(this),t=e.data(),n={action:"click",element_id:"clicked_course_card_from_courses",nux_step:!!l.getParamsObject().tour,course_id:t.id,course_name:t.name,course_difficulty:t.difficulty,course_recommended:t.recommended,course_recent:t.recent,course_category:e.parents(".courses-category").find(".courses-category-name").text().trim(),course_category_number:e.parents(".courses-item-wrapper").index()+1};t.recommendedType&&(n.course_recommended_type=t.recommendedType),(0,a.track)("ui",n)}),!r.isMobile){var t=null,n=e.data("sidebarLinks")||"#nav-exploration-categories a",c=(0,i.default)(n),d=function(){var n=(0,i.default)(this),o=n.data("category"),a=e.data("offset")||40;t&&n.data("previous-category",t),t=o,new Waypoint({element:this,offset:n.is(":last-child")?"bottom-in-view":a,handler:function(e){var t,i,o="active";if("down"===e?(t=n.data("category"),i=window.location.pathname+window.location.search+"#"+t):(t=n.data("previous-category")||null,i=window.location.pathname+window.location.search,t&&(i+="#"+t)),c.removeClass("active"),t){var a=c.filter("[data-subcategory="+t+"]");a.length?(a.addClass(o),a.parents("ul").siblings("a").addClass(o)):c.filter("[data-category="+t+"]").addClass(o)}else(0,r.jqGetElemById)("exploration-sidebar-link").addClass(o);try{window.history.replaceState({},"",i)}catch(e){}}})};o.default.defer(function(){e.find("[data-category]").each(d)}),c.on("click",function(t){t.preventDefault();var n=(0,i.default)(t.currentTarget);s.Anchors.scrollToTarget(e.find("#".concat(n[0].href.split("#")[1])),function(){c.removeClass("active"),n.addClass("active"),n.parents("ul").siblings("[data-category]").addClass("active"),n.siblings("ul").find("[data-subcategory]").first().addClass("active")})})}},collapsedSummary:function(e){if(r.isMobile){var t=e.find("h3"),n=e.find(".text, .features, .less, .quantum-computing");e.find(".less").add(t).on("click",function(e){var i=e.currentTarget===t[0];t.toggleClass("expanded",i),n.toggleClass("hide",!i),i&&r.$window.trigger("courseFancyLinks.render")})}else e.find(".more, .less").on("click",function(){e.find(".text > div").toggleClass("hide")})},courseFancyLink:function(e){var t="course-fancy-link",n=e.parent(),a=e.text().trim(),s=function(e){var t="";return e.forEach(function(n,i){var o=i<e.length-1?"<br>":"";t+="<span>".concat(n.join(" "),"</span>").concat(o)}),t},l=function(){if(e.is(":visible")){var o=(0,i.default)("<div>").css({width:n.css("width"),padding:n.css("padding"),boxSizing:n.css("box-sizing"),fontSize:n.css("font-size"),position:"absolute",left:"-99999px",top:"-99999px"}).html(n.html()).appendTo(r.$body),l=o.find('[data-controller*="courseFancyLink"]');l.empty().addClass(t);var c=a.split(" "),d=c.shift(),u=[[d]];l.html(s(u));for(var f=o.height();0<c.length;)d=c.shift(),u[u.length-1].push(d),l.html(s(u)),f<o.height()&&(u[u.length-1].pop(),u.push([d]),l.html(s(u)),f=o.height());e.html(s(u)).addClass(t),o.remove()}};l(),r.$window.on("resize",o.default.debounce(l,250)).on("courseFancyLinks.render",l)},highlightActiveCourse:function(){if(window.location.hash){var e=(0,r.jqGetElemById)(window.location.hash.substr(1));e.length&&((0,i.default)(".course-chapter.first-unfinished").removeClass("first-unfinished").find(".start-btn").remove(),e.siblings(".course-chapter").addClass("highlight"))}},highlightActiveQuiz:function(e){if(window.location.hash){var t="highlighted";e.find(".quiz-gallery-card").removeClass(t),(0,r.jqGetElemById)(window.location.hash.substr(1)).parent().addClass(t)}},quizGalleryPremiumBanner:function(){setTimeout(function(){(0,a.track)("ui",{action:"displayed_paywall_quiz_gallery"})})},shareDropup:function(e){var t=(0,i.default)(".course-quiz-sidebar"),n=(0,i.default)(".codex-expand-toggle");e.on("open",function(){n.filter(".active").click(),t.addClass("above-quiz-content")}).on("close",function(){t.removeClass("above-quiz-content")})},courseGoalModal:function(e){var t=(0,i.default)(".course-goal-modal:visible"),n=1;t.length&&(t.modal("hide"),t.remove());var o=function(){var t=function(t){e.on(t,function(){var i=window.location.pathname,o="join_course_modal_".concat(t);r.isBrilliantPremium||(o+="_free"),(0,a.track)("ui",{element_id:o,full_path:i+window.location.search,path:i}),"hide"===t&&(e.toggleClass("step-".concat(n," step-1")),n=1)})};t("show"),t("hide"),e.modal()};(0,r.jqGetElemById)("course-goal-btn").on("click",o),"#join-course"===window.location.hash&&o(),e.find(".goal-continue").on("click",function(){e.toggleClass("step-".concat(n," step-").concat(n+1)),n++}),(0,r.jqGetElemById)("free-trial-option-premium").on("click",function(){e.modal("hide")})}};vkey.explorations_chapter_paywall=function(e,t){vkey.handle(e,t)},h.adminEditQuizModal=function(e){var t=e.find(".admin-edit-quiz-modal");e.find(".edit-quiz").on("click",function(){t.modal();var e=t.find("#id_published");(0,r.jqOffOn)(e,"click",function(t){t.preventDefault();var n=e.parent();n.append('<span class="confirm">are you sure? <button class="btn-link publish">yes</button> <button class="btn-link ignore">no</button></span>'),n.find("button.btn-link").on("click",function(t){t.preventDefault(),(0,i.default)(t.currentTarget).hasClass("publish")&&e.prop("checked",function(e,t){return!t}),n.find(".confirm").remove()})})})},h.saveForLater=function(e){var t=e.find("button"),n=e.parent().find("#first-time-save-modal"),o=function(){t.hasClass("saved")?t.on("mouseenter",function(){t.find("b").html("Remove")}).on("mouseleave",function(){t.find("b").html("Saved")}):t.off("mouseenter mouseleave")};o(),t.on("click",function(a){a.preventDefault(),i.default.post(e.attr("action"),e.serialize(),function(i){t.toggleClass("saved"),o(),i.saved?(t.html("<b>Saved</b>"),e.prop("form_action").value="unsave"):(t.html("Save"),e.prop("form_action").value="save"),i.show_first_time_modal&&n.modal()})})},e.exports=h},272:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postcheckout=function(e){var t=e.find(".slides"),n=e.find(".slide"),i=e.find(".b-markers span"),f=(0,r.jqGetElemById)("airtable-tmpl"),p="active",h=!1,m=null,v=function(a){var c=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!h){var f=n.filter(".slide-".concat(a)),m=function(){var t=f.data("slide"),m=d?a:a-1;m=Math.min(m,i.length-1),n.removeClass(p),f.addClass(p),i.removeClass(p),i.eq(m).addClass(p),h=!1,(0,r.setScrollPosition)(0),e.trigger(o.default.Event("".concat(s,".").concat(t))),l=a,e.addClass("in"),u(),c&&window.history.pushState({currentSlide:l},"",window.location.href)};setTimeout(function(){e.hasClass("in")?(t.one("transitionend",m),h=!0,e.removeClass("in")):m(),e.toggleClass("hide-footer",!0===f.data("hide-footer"))})}},g=(0,r.jqGetElemById)("btn-continue");g.on("click",function(){if(4<=l){var t=e.data(),n=function(){window.location.href=t.nextUrl};"email"===m?(g.prop("disabled",!0),o.default.post(t.emailUrl).then(n)):n()}else v(l+1)}),e.find(".pro-success-nav").on("click",function(e){v(parseInt(e.target.dataset.slide,10))}),(0,r.jqGetElemById)("communication-phone").on("click",function(){m=null}),(0,r.jqGetElemById)("communication-email").on("click",function(){m="email"}),(0,r.jqOffOn)(r.$window,"popstate",function(e){var t=e.originalEvent.state;null===t?v(c,!1):t.currentSlide&&v(t.currentSlide,!1)}),f.length&&e.one("".concat(s,".survey"),function(){var t,n,i=(0,r.jqCreateElem)("div");i.html(f.html()),f.replaceWith(i),t=Date.now(),(n=e.find(".airtable-embed")).on("load",function(){(0,a.track)("ui",{element_id:"pro_airtable_survey_form_loaded",load_time:Date.now()-t})}),n.prop("src",n.data("src"))}),null===l?(l=e.data("start-slide"),d=0===l,c=l,e.addClass("in"),setTimeout(u)):1<l?v(l):(e.addClass("in"),setTimeout(u))};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(3),r=n(1),s="showslide",l=null,c=null,d=!1;function u(){(0,a.track)("ui",{element_id:"pro_success_viewed_slide",slide_name:(0,o.default)(".slide-".concat(l)).data("slide"),slide_number:l})}},273:function(e,t,n){"use strict";var i=s(n(0)),o=s(n(35)),a=s(n(8)),r=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var l={},c=function(){u(),_()},d=function(e){(0,i.default)(this).parents("form").trigger("submit")},u=function(e){var t=(e=e||(0,i.default)("#profile,#prof-sidebar")).find(".multi .close"),n=e.find(".input").find("select,input[type=radio]"),s=e.find(".input.longtext form"),l=e.find(".input input[name=value]");(0,o.default)(e.find("textarea")),t.off("click"),t.on("click",function(e){e.preventDefault();var t=(0,i.default)(this);t.parents(".item").css({opacity:.5}),(0,a.default)("assessment").form(t.parents("form").get(0),{remove:t.data("value")||""})}),s.off("submit.saving").on("submit.saving",function(e){e.preventDefault(),(0,i.default)(this).find("button[type=submit]").addClass("disabled").text("Saving...")}),s.each(f),l.off("blur.blur_force_submit"),l.on("blur.blur_force_submit",d),l.off("keydown.enter_listen"),l.on("keydown.enter_listen",function(e){13===e.which&&(e.preventDefault(),d.call(this))}),(0,i.default)("a.add_or_edit_item").on("click",function(e){e.preventDefault();var t=(0,i.default)(this).data("name");(0,i.default)("#view_"+t+"_hider").hide(),(0,i.default)("#edit_"+t+"_hider").show(),(0,i.default)("#edit_"+t+"_hider").find("input[type=text], textarea").focus()}),e.find(".multi.display").each(function(){var e=(0,i.default)(this);e.height()<this.scrollHeight&&e.addClass("scrollable")}),e.find(".multi .add").on("click",function(e){e.preventDefault(),(0,i.default)(this).hide().parents(".multi").find("input[type=text]").show().trigger("focus")}),e.find('[data-provide="typeahead"]').each(p),(0,i.default)(".click_to_answer_trigger").on("click",function(e){e.preventDefault();var t=(0,i.default)(this);t.closest(".input").find(".click_to_answer_section").show(),t.hide()}),n.off("change"),n.on("change",d),v(e),function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r.$body,t=e.find(".auto-prompt"),n=e.find(".auto-prompt-cancel"),o=t.first().data("prompts");o&&0<o.length?(o=o.split(/\|/g),t.each(function(){var e=(0,i.default)(this),t=e.parents(".prompt").find("input,textarea");t.data("orig-value",t.val()),!0!==e.data("inited")&&(e.data("inited",!0),e.on("click",function(n){n.preventDefault();for(var i,a=t.val(),r=a;r==a;)i=Math.floor(Math.random()*(o.length-0)),r=o[i];e.removeClass("active"),e.siblings(".auto-prompt-cancel").addClass("active"),t.val(r),t.change()}))}),n.each(function(){var e=(0,i.default)(this),t=e.parents(".prompt").find("textarea");e.on("click",function(n){n.preventDefault(),e.removeClass("active"),e.siblings(".auto-prompt").addClass("active"),t.val(t.data("orig-value")),t.change()})})):t.hide()}(e),function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:r.$body).find(".free-resp-edit").not(".inited");e.on("click",function(e){e.preventDefault();var t=(0,i.default)(e.currentTarget).parents(".prof-field");t.toggleClass("editing"),t.find(".label-input").trigger("autosize.resize")}),e.addClass("inited")}(e)},f=function(){var e=(0,i.default)(this),t=e.find("textarea:last");if(!e.hasClass("added-counter")){e.addClass("added-counter");var n='<div class="counter"><span></span> [type]s left</div>',o=t.data(),a=o.wordLimit||null,r=/[\s\.,]+/,s=null,l=function(t){e.find(".footer").prepend(t)};null!==a?l(n.replace("[type]","word")):0<o.charLimit?(l(n.replace("[type]","character")),a=o.charLimit||140,r=""):(a=400,l(n.replace("[type]","word"))),s=e.find(".counter span");var c=function(){var e=0<t.val().length?i.default.trim(t.val()).split(r).length:0;e=a-e,s.parent().toggleClass("over",e<0),s.text(e)};c(),t.on("keyup",c)}},p=function(){var e=(0,i.default)(this),t=e.parents("form");0<e.data("source").length&&(e.off("blur").off("keydown.enter_listen"),e.on("blur",function(e){e.preventDefault();var n=(0,i.default)(this);n.data("typeahead").select(),n.data("has_blurred",!1),t.trigger("submit")}),e.off("menued"),e.on("menued",function(t){e.next(".save-new").remove()}),e.off("unmenued"),e.on("unmenued",function(t){e.off("keyup.unmenued").on("keyup.unmenued",function(){h(e)}),h(e,!0)}),t.off("submit"),t.on("submit",function(e){e.preventDefault();var n=(0,i.default)(this);clearTimeout(t.data("prof-timeout")),t.data("prof-timeout",setTimeout(function(){(0,a.default)("assessment").form(n.get(0),{remove:"",value:n.find("input[name=value]").val()})},10))}),e.off("change"),e.on("change",function(e){t.trigger("submit")}))},h=function(e,t){if(t=t||!1,0!==e.val().length){var n=e.data("new-item-text")||null;0<e.next(".save-new").length?e.next(".save-new").text(n.replace("[newtag]",'"'+e.val()+'"')).show():t&&null!==n&&(e.after('<a href="#" class="save-new">'+n.replace("[newtag]",'"'+e.val()+'"')+"</a>"),e.next(".save-new").on("click",function(e){e.preventDefault()}))}else e.next(".save-new").hide()},m=function(){var e=(0,i.default)("#prof-status");if(0<e.length&&e.hasClass("editable")&&!0!==e.data("inited")){e.data("inited",!0);var t=e.find(".edit-status"),n=(0,i.default)("#status-form"),o=(0,i.default)("#status-input"),a=(0,i.default)("#clear-status");t.on("click",function(t){t.preventDefault(),e.addClass("editing"),o.focus()}),a.on("click",function(t){t.preventDefault(),o.val(""),e.removeClass("editing")}),n.on("submit",function(){e.addClass("saving")}),o.on("keydown",function(t){27===t.which&&(o.val(""),e.removeClass("editing"))})}},v=function(e){var t=".multiline";0<(e=e.find(t)||(0,i.default)(t)).length&&e.each(g)},g=function(){var e=(0,i.default)(this);if(!0!==e.data("inited")){e.data("inited",!0);var t=e.find(".edit"),n=e.find(".btn-cancel"),o=e.find("form");t.on("click",function(t){t.preventDefault(),e.addClass("editing"),e.find("input:first").focus()}),n.on("click",function(t){t.preventDefault(),e.removeClass("editing")}),o.on("submit",function(t){t.preventDefault(),e.addClass("saving"),o.attr("disabled","disabled").addClass("disabled"),o.find(".btn").attr("disabled","disabled").addClass("disabled"),(0,a.default)("profile_profile").form((0,i.default)(this).get(0))})}},y=["profile_interests","profile_languages","profile_skills","profile_competitions"],_=function(){var e=(0,i.default)("#prof-empty");if(0<e.length){for(var t,n=0,o=y.length,a=!0,r=(0,i.default)("#multi-entries");n<o;n++)if((t=(0,i.default)("#cmp_"+y[n]+"_id").clone()).find(".debug_component_info").remove(),0<t.text().replace(/\s|\n/g,"").length){a=!1;break}a&&(e.show(),r.hide())}},b=function(e){0===e.children().length&&e.hide()};l.onload=function(){c(),m(),(0,i.default)("[id*=cmp_]").not(".nf-modal-content").not(".nf-set-modal-content").each(function(){var e=(0,i.default)(this);0===e.children().length&&e.hide()}),r.isMobile&&(0,i.default)("#see-prof-fields").removeClass("dim").on("click",function(e){e.preventDefault(),(0,i.default)(this).toggleClass("active");var t=(0,i.default)("#hidden-prof-fields"),n=t.hasClass("active");t.toggleClass("active",!n),t.toggle(!n)})},window.vkey.profile_stats_sidebar=function(e,t){var n=vkey.handle(e,t);n.find(".upvotes").tooltip(),b(n)};var w=function(e,t){var n=vkey.handle(e,t);if(c(),m(),0===n.find(".error").length){var i=n.find(".saved:not(.animating)");0<i.length&&(i.addClass("animating"),i.fadeIn(200).delay(3e3).fadeOut(200).removeClass("animating"))}n.find("input:not([type=submit]):not([type=radio]):visible:first").focus(),b(n)},k=function(e,t){w(e,t),_()};window.vkey.profile_about=w,window.vkey.profile_free_response_1=w,window.vkey.profile_free_response_2=w,window.vkey.profile_free_response_3=w,window.vkey.profile_high_school=w,window.vkey.profile_college=w,window.vkey.profile_company=w,window.vkey.profile_status_msg=w,window.vkey.profile_interests=k,window.vkey.profile_languages=k,window.vkey.profile_competitions=k,window.vkey.profile_skills=k,e.exports=l},274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sidebar=function(e){var t=e.data("prefix"),n="qanda-active",i=e.data("target"),o=e.data("show-free-trial"),c="course-feedback"===t,f=e.data("hide-questions"),h=0===e.find(".discsol-post").length&&0===(0,a.jqGetElemByCmpName)("qanda_questionadd").length,m=!c&&(f||h),y=function(){!0===(0<arguments.length&&void 0!==arguments[0]&&arguments[0])?(e.removeClass("in"),e.addClass("hide")):(e.one("transitionend",function(){return e.addClass("hide")}),e.removeClass("in")),a.$body.removeClass(n),a.$body.off(l.EVT_QUIZ_POSITION_WILL_CHANGE),(0,r.crop)(!1)},b=function(){e.removeClass("hide"),a.$body.addClass(n),(0,r.crop)();var i=e.find("#".concat(t,"-add-form textarea"));o?_(e,d):m||i.length&&0<i.val().length?_(e,u):c&&_(e,p),(0,s.hideBranchBanner)(),setTimeout(function(){e.addClass("in"),e.one("click",y),g(e),a.$body.on(l.EVT_QUIZ_POSITION_WILL_CHANGE,function(){return y(!0)})})};e.find(".close").on("click",y),e.find("#".concat(t,"-non-pro-premium-trigger-").concat(i)).on("click",function(t){t.preventDefault(),e.removeClass("free-trial"),_(e,m?u:p)}),(0,a.jqOffOn)(a.$body,"click.".concat(t),"#".concat(t,"-trigger-").concat(i),b),e.children().on("click",function(t){t.stopPropagation(),e.find(".dropdown, .dropup").removeClass("open")}),e.find("[data-toggle=dropdown]").dropdown(),m||function(e,t){if(!v){var n=e.data(),i=n.commentsSlug,o=n.commentsCmpKey,r=new RegExp("^#!\\/".concat(i,"\\/(\\d+)\\/?(\\d+)?\\/?$")),s=window.location.hash.match(r);if(s){var c=s[1],d=s[2],u=e.find(".discsol-list"),f=null,p=null,h=function(){var e=f||p;if(e){var t=u.offset().top,n=e.offset().top,i=u.height();0<n+e.height()-t-i&&(0,a.setScrollPosition)(n-t-50,{$container:u})}},m=function(e){var t="highlight";!0!==e.data(t)&&(e.addClass(t),setTimeout(function(){return e.removeClass(t)},3e3),e.data(t,!0))};if(c&&!d){var g=(0,a.jqGetElemById)("post-".concat(c));g&&(f=g,setTimeout(function(){return m(g)},500),h())}a.$window.on("".concat(l.EVT_VKEY_AFTER_UPDATE,".").concat(o),function(e){var t=e.$cmp;if(d){var n=t.find("[data-comment=".concat(d,"]"));n.length&&((p=n).is(":visible")||t.find(".cmmnt-container.level-0").addClass("show-all-replies"),m(n))}h()}),setTimeout(t),v=!0}}}(e,b)},t.addPost=function(e){var t=e.data(),n=t.prefix,i=t.success,r=(0,a.jqGetElemById)("".concat(n,"-wrapper")),s=(0,a.jqGetElemById)("".concat(n,"-add-form")),l=s.find("textarea"),c=s.find("button"),u=0,m=function(){if(0!==l.length){var e=l.val().length;0<e&&0===u?(s.prop("disabled",!1),c.prop("disabled",!1)):0===e&&0<=u&&(s.prop("disabled",!0),c.prop("disabled",!0)),u=e}};l.on("input",m),a.isMobile&&l.on("focus",function(){return a.$body.scrollTop(0)}),s.on("submit",function(){setTimeout(function(){return s.trigger(o.default.Event("autosave.clear"))})}),(0,a.jqGetElemById)("".concat(n,"-back")).on("click",function(){"qanda"===n&&r.data("show-free-trial")?_(r,d):_(r,p)}),!0===i?_(r,f):(y(n,h),l.select()),m()},t.postsList=function(e){var t=e.data("prefix");e.is(":visible")&&g(e),e.find("[data-toggle=dropdown]").dropdown(),(0,a.jqGetElemById)("".concat(t,"-add-post-trigger")).on("click",function(e){var n=(0,o.default)(e.currentTarget).data("paywall");n?window.location.href=n:_((0,a.jqGetElemById)("".concat(t,"-wrapper")),u)}),y(t,m)},t.commentsList=function(e){var t=e.find(".qanda-add-comment-trigger"),n=function(){t.parent().addClass("hide"),(0,a.jqGetElemById)(t.data("target")).removeClass("hide")};t.on("click",n),e.find("[data-toggle=dropdown]").dropdown(),e.find(".errorlist").length&&n()};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(1),r=n(5),s=n(111),l=n(7),c=n(127);n(53);var d=0,u=1,f=2,p=3,h=10,m=11,v=!1;function g(e){e.find(".discsol-post-wrapper").each(function(e,t){(0,c.showCommentsForSolution)((0,o.default)(t),!0)})}function y(e,t){var n=(0,a.jqGetElemById)("".concat(e,"-wrapper")),i=n.find(".qanda-add-form header:visible"),o=t===h?n.find("#".concat(e,"-add-form textarea")):n.find("#".concat(e,"-list .discsol-list")),r="";i.length&&(r=i.outerHeight()),o.css({top:r})}function _(e,t){var n=e.data("prefix"),i="add-question",a="add-question-success",r="free-trial";switch(t){case d:e.removeClass("".concat(i," ").concat(a)).addClass(r);break;case u:e.removeClass(a).addClass(i),0===e.find("#cmp_qanda_questionadd_id").length&&e.find("div.qanda-nonpro").show(),(0,o.default)("#qanda-add-form textarea").select(),y(n,h);break;case f:e.removeClass(i).addClass(a),y(n,m);break;case p:e.removeClass("".concat(i," ").concat(a," ").concat(r)),y(n,m);break;default:throw new Error("Unexpected Q&A sidebar state: ".concat(t))}}},275:function(e,t,n){"use strict";var i=g(n(0)),o=g(n(2)),a=g(n(35)),r=g(n(8)),s=n(3),l=n(1),c=n(5),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(14)),u=n(7),f=n(9),p=n(29),h=n(100),m=g(n(66)),v=n(58);function g(e){return e&&e.__esModule?e:{default:e}}var y={recommendConceptQuiz:function(e){var t=e.data("recommended-quiz");(0,l.jqGetElemById)("concept-quiz-".concat(t)).addClass("recommended")}},_=null;function b(){(0,l.jqOffOn)(_.$trigger,"click.quizendstate",function(){(0,_.originalController)(_.$container,_.$trigger)})}function w(e){return function(t){o.default.defer(function(){var n=(0,l.jqGetElemById)("endstate-trigger-btn");n.length&&(_={$trigger:n,$container:t,originalController:e}),null!==_&&_.$trigger.length&&(n.data("show-immediately")&&e(t,n),b())})}}var k,C=function(e,t){if(!e.length)return null;var n=o.default.template(e.data("tmpl")),i=(new Date).getTime(),a=setTimeout(function(){a=setInterval(function(){var o=10-Math.round(((new Date).getTime()-i)/1e3);e.text(n({s:o})),o<=0&&(clearInterval(a),t(e))},250)},500);return{stop:function(){clearInterval(a),clearTimeout(a)},reset:function(){e.text(n({s:10}))}}};function x(e){var t=e.find(".content"),n=function(){(0,c.getScrollHeight)(t)>t.outerHeight()&&t.addClass("scrollable")};t.find("img").on("load",n),n()}y.endstateModal=w(function(e){var t,n=(e=e.clone(!0)).data(),a=function(){"paywall"===n.nextAction?(e.addClass((0,l.supportsAnimation)()?"flipped":"force-flipped"),i.default.get(n.nextUrl,{element_id:"clicked_b2_next_quiz",target_object_id:n.targetObjectId,target_object_type:"quiz",target_object_referrer:encodeURIComponent(window.location.pathname+window.location.search)})):window.location.href=n.nextUrl};(t=C(e.find(".countdown span"),a))&&(e.on("hide",function(){t.stop(),t.reset()}),e.find("a,button").on("click",t.stop)),e.find(".flip").on("click",a),e.on("show",function(){o.default.defer(function(){e.parent().addClass("b2-endstate-modal-backdrop"),x(e)})}),e.modal(),(0,s.setAnalyticsEvents)(e)}),y.endstateTakeover=w(function(e){0===e.parents(".course-quiz-wrapper").length&&(0,i.default)(".course-quiz-wrapper").find(".prac-solvable").append(e),e.parents(".course-quiz-wrapper").addClass("show-quiz-endstate"),l.isMobile?(0,l.setScrollPosition)(0):(0,h.twinklingStars)(e.find(".endstate")),C(e.find(".countdown span"),function(){var t=e.data("next-url");t&&(window.location.href=t)})}),y.endstateModalMarketing=w(function(e){var t=e.children().clone();t.on("show",function(){o.default.defer(function(){x(t)})}),t.modal()}),y.preemptiveWiki=(k=!1,function(e){if(!k){var t=e.data("ax-prefix"),n=(0,l.jqGetElemById)("quiz-wrapper").data("set-number"),i=function(e){return function(){(0,s.track)("ui",{action:"modal",element_type:"modal",element_id:"".concat(t,"_").concat(e),path:window.location.pathname,full_path:window.location.pathname+window.location.search})}},o=e.find("a");o.attr("href",d.appendGetParam(o.attr("href"),"sn",n)),e.on("show",i("displayed")),e.on("hide",i("closed")),e.modal(),k=!0}}),y.editablePane=function(e){var t=e.find(".pane-edit-trigger");0===t.length&&(t=(0,i.default)(".pane-edit-trigger")),t.on("click",function(){e.toggleClass("editing"),e.find("[name=preview]").val("true");var t=e.find("textarea");(0,p.mentionsAndWikiLinks)(t),(0,a.default)(t)})},y.potwSwitchWeek=function(e){var t=function(e){(0,s.track)("ui",{element_id:e,path:window.location.pathname,full_path:window.location.pathname+window.location.search})};l.isMobile&&e.on("click",function(){t("potw_dropdown_open")}),e.on("change",function(){l.isMobile&&t("potw_dropdown_choice"),e.prop("disabled","disabled").addClass("dim"),window.location.href=e.val()})},y.replaceContinueButton=function(e){null!==_&&(b(),e.find(".solv-done-btn, .btn-next").filter(":visible").replaceWith(_.$trigger.clone(!0)))},y.chapterIntroQuiz=function(e){var t=e.data(),n=t.chapterId,a=(0,l.jqGetElemById)("chapter-intro-continue"),p=(0,l.jqGetElemById)("quiz-chapter-intro-markers").children("span"),h="slide-end",g=p.length+2,y=1,_=!1,b=!1;(0,c.crop)();var w=function(e,t){var i={action:"viewed_chapter_slide",step_position:e,is_first_step:1===e,is_last_step:e===g,slide_chapter_id:n};t&&(i.triggered_by=t),(0,s.track)("ui",i)},k=function(e){return 3<=e&&e<g},C=function(n,o){if(!(n<=0||_)){_=!0;var a,s,C,x="slide-"+y,E="slide-"+n;if(g<n)return a=e,s=(0,l.jqGetElemById)("quiz-wrapper-bg"),C=s.data(),a.one("transitionend",function(){a.find(".quiz-chapter-intro-panes").remove();var e=function e(t){0<l.$body.data(u.QUIZ_CHAPTER_INTRO_STATE).numContinuingPanes?setTimeout(function(){return e(t)},100):(l.$body.data(u.QUIZ_CHAPTER_INTRO_STATE,{active:!1}),a.one("transitionend",t),a.addClass("done"),window.history.replaceState({},"",C.quizUrl),(0,c.crop)(!1))};if(l.userIsAuthenticated)e(function(){a.remove(),m.default.convertDummyPreloader(s.find("#prac-preload-wrapper"),C.id)});else{var t=s.find("[data-cmp-main]").data(),n=t.cmpKey,o=t.cmpAltKey;vkey[o]=function(){return window.location.href=C.quizUrl},vkey[n]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];vkey.handle.apply(vkey,n),(0,v.practiceAnonWrapper)(s),e(function(){return a.remove()})},s.find("[data-cmp-id]").each(function(e,t){var n=(0,i.default)(t),o=n.data();n.attr("id",o.cmpId),o.cmpUrl&&o.cmpKey&&(0,r.default)(C.pageKey).get(o.cmpUrl,{component_key:o.cmpKey})})}}),void a.addClass("out");e.one("transitionend",function(){var o=!1,a=!1,r=n-3,s=function(){k(y)&&!k(n)&&setTimeout(function(){(0,l.jqGetElemById)("interstitial-pane-continue-form").submit()})};if(n<3)x+=" show-quiz "+h,s();else if(3<=n){if(E+=" show-quiz",n===g)E+=" "+h,s(),a=!0===t.locked;else if(x+=" "+h,k(n)){var c=(0,i.default)("#prac-markers-".concat(t.id," > *"));c.filter(".current").index()!==r&&(setTimeout(function(){return c.eq(r).click()}),o=!0)}p.removeClass("active"),p[r].classList.add("active")}e.removeClass(x).addClass(E);var m=function(){setTimeout(function(){e.one("transitionend",function(){_=!1}),e.removeClass("out")})};if(a)if(b)m();else{var v=(0,l.jqGetElemById)("course-intro-paywall"),w=d.getParamsObject(),C={page_key:v.data("cmp-page-key")};w.force_country&&w.forcepaytm&&(C.force_country=w.force_country,C.forcepaytm=w.forcepaytm);var I=function(){window.location.href=v.data("fallback")};i.default.get(v.data("url"),C).fail(I).then(function(e){try{var t=e.actions.course_chapter_intro_paywall_component;v.append(t.new_html),(0,f.initGenericControllers)(v)}catch(e){return void I()}m(),b=!0})}else o?l.$body.one(u.EVT_QUIZ_POSITION_DID_CHANGE,m):m();y=n}),e.addClass("out"),w(n,o)}};a.on("click",function(){C(y+1,u.INTERACTION_TYPES.CONTINUE_BUTTON)}),t.allowNav&&(p.on("click",function(e){var t=(0,i.default)(e.currentTarget).index()+3;C(t,u.INTERACTION_TYPES.STATUS_DOT)}),(0,c.keyboardNavigation)({guard:function(){return!(0,l.jqGetElemById)("signup-modal-generic").is(":visible")},left:function(){C(y-1,u.INTERACTION_TYPES.ARROW_KEY)},right:function(){y===g?t.locked||e.find("footer .btn:visible").click():C(y+1,u.INTERACTION_TYPES.ARROW_KEY)}})),l.$body.data(u.QUIZ_CHAPTER_INTRO_STATE,{active:!0,numContinuingPanes:0}),o.default.defer(function(){return w(1)})},y.courseQuizzesMenu=function(e){var t=e.parents(".course-quiz-sidebar"),n=e.find("#quizzes-menu"),i="show-menu",a=function(){n.one("transitionend",function(){e.removeClass(i),t.removeClass(i),t.css("height","auto")}),l.isMobile&&(0,c.crop)(!1),e.removeClass("in"),l.$body.off("click.quizzesmenu")};e.find("#quizzes-menu-close").on("click",a),e.find("#quizzes-menu-trigger").on("click",function(){l.isMobile&&(0,c.crop)(),e.addClass(i),t.addClass(i),o.default.defer(function(){e.addClass("in"),t.css("height",(0,c.getScrollHeight)(n))}),(0,l.jqOffOn)(n,"click.quizzesmenu",function(e){e.stopPropagation()}),o.default.defer(function(){l.$body.one("click.quizzesmenu",a)})})},e.exports=y},276:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.navigation=function(e){var t=e.find("a");t.on("click",function(){t.toggleClass("active")})}},277:function(e,t,n){"use strict";var i=c(n(0)),o=c(n(2)),a=n(1),r=n(19),s=c(n(191)),l=c(n(192));function c(e){return e&&e.__esModule?e:{default:e}}var d={},u={ratingsGraph:l.default},f=null;function p(e){(f=f||(0,a.jqGetElemById)("stats-topic-links")).toggleClass("disabled",e)}d.graph=function(){var e=[];(0,a.jqOffOn)(a.$window,"resize",o.default.debounce(function(){e.forEach(function(e){return e()})},200));var t=(0,a.jqGetElemById)("stats-webview-wrapper").data("is-webview");return function(n){var o,s,l;p(!0),s=function(i){setTimeout(function(){var o=(0,a.jqGetElemById)("stat-empty"),r=(0,a.jqGetElemById)("stat-btn-filters");if(0===i.ratings_correct_incorrect_over_time.length)o.show(),r.hide(),n.find(".spinner").hide();else{var s=u[n.data("graph")];i.isWebview=t,o.hide(),r.show(),s.render(n,i,!0),e.push(function(){s.clean(n),s.render(n,i)})}p(!1)},200)},l=(o=n).data("source")||null,i.default.get(l).then(s).fail(function(e){(0,r.errorModalHandler)(e),o.find(".spinner").hide(),p(!1)})}}(),d.graphTopicSwitcher=function(e){var t=(f=f||(0,a.jqGetElemById)("stats-topic-links")).find("a"),n=(0,a.jqGetElemById)("stats-topic-name"),o=(0,a.jqGetElemById)("canvas"),r=e.data(),s="current";function l(i,r){if(null===i&&a.isMobile)return e.modal("show"),void a.$window.trigger("resize");if(t.removeClass(s),t.filter('[data-topic-name="'.concat(i.topicName,'"]')).addClass(s),o.find(".cleanable").html(""),o.find(".spinner").show(),o.data("source",i.topicDataUrl),n.text(i.topicName),(0,a.jqGetElemById)("stat-empty").hide(),a.isMobile&&e.modal("show"),d.graph(o),!0!==r)try{window.history.pushState(i,null,i.href)}catch(i){}}e.modal({show:!1}),t.on("click",function(e){e.preventDefault();var t=(0,i.default)(e.currentTarget);if(t.hasClass(s)||f.hasClass("disabled"))a.isMobile&&l(null);else{var n=t.data();n.href=t.attr("href"),l(n)}}),a.isMobile||a.$window.on("popstate",function(e){var t=e.originalEvent.state;t&&t.href!==window.location.href?l(t,!0):t||l(r,!0)})},d.exampleGraphModal=function(){var e=(0,a.jqGetElemById)("stats-topic-links").find("a"),t=(0,a.jqGetElemById)("stat-graph-container"),n=(0,a.jqGetElemById)("canvas");t.modal({show:!1}),e.on("click",function(e){e.preventDefault(),t.modal(),u[n.data("graph")].clean(n),d.exampleLineGraph(n)})},d.exampleLineGraph=function(e){var t=u.ratingsGraph;t.render(e,s.default),(0,a.jqOffOn)(a.$window,"resize",o.default.debounce(function(){t.clean(e),t.render(e,s.default)},200))},d.attemptPunchcard=function(e){var t=e.find(".clickable"),n=(0,a.jqGetElemById)("attempt-table"),s=(0,a.jqGetElemById)("attempt-table-content"),l=(0,a.jqGetElemById)("attempt-table-date"),c=n.find(".btn"),d=o.default.template((0,a.jqGetElemById)("attempt-table-row").text()),u=null;a.isMobile&&e.find(".calendar").scrollLeft(1500),0!==t.length?t.on("click",function(e){var o=(0,i.default)(this);if(!o.hasClass("active")){var f=o.data();null!==u&&u.abort(),t.removeClass("active"),o.addClass("active"),c.addClass("hide"),n.removeClass("hide"),s.html('<tr><td colspan="4"><span class="spinner"></span></td></tr>'),l.text(f.date),(u=i.default.ajax({url:f.details})).fail(r.errorModalHandler).then(function(e){u=null;var t=e.details.map(function(e){return e.r=(0,a.commaFormat)(e.r),d(e)}).join("");s.html(t),c.removeClass("hide")})}}):(0,a.jqGetElemById)("stat-punchard-nodata").show()},e.exports=d},278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleFeatured=function(e){var t=e.parent().find("a");e.click(function(n){n.preventDefault(),e.hasClass(a)||(r=1,s=e.text().toLowerCase(),d({view:s,page:r}),t.removeClass(a),e.addClass(a))})},t.loadMore=function(e){e.toggle(!e.hasClass("hidden")),e.click(function(e){e.preventDefault(),d({view:s,page:r+=1})})};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a="active",r=1,s=(0,o.default)("a.active").text().toLowerCase(),l=(0,o.default)(".testimonials-reviews ul"),c=(0,o.default)(".testimonials-reviews a.load"),d=function(e){e.page_key="flatpage_testimonials",e.version=1,o.default.get("/testimonials/",e).done(function(t){var n=(0,o.default)(t.actions.flatpage_testimonials.new_html);1===e.page?l.html(n.find("li")):l.append(n.find("li")),c.toggle(0===n.filter("a.load.hidden").length)})}},279:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loggedOut=function(){var e=(0,a.jqGetElemById)("lvllist").find(".lvl"),t=(0,a.jqGetElemById)("lvlcontent").find(".lvl"),n=t.find(".selectors a"),i="active",s=".".concat(i);e.on("click",function(n){n.preventDefault();var a=(0,o.default)(n.currentTarget);if(!a.hasClass(i)){e.filter(s).removeClass(i),a.addClass(i),t.filter(":visible").hide();var l=t.eq(a.index()+1);"undefined"!=typeof MathJax?(r.updateMathjax(l),l.show()):l.css({visibility:"visible"}).show()}}),n.on("click",function(e){e.preventDefault();var t=(0,o.default)(e.currentTarget);if(!t.hasClass(i)){var n=t.parents(".lvl").find(".problem"),a=n.eq(t.index());t.siblings(s).removeClass(i),t.addClass(i),n.filter(":visible").hide(),"undefined"!=typeof MathJax?(r.updateMathjax(a),a.show()):a.css({visibility:"visible"}).show()}});var l=window.location.hash||null;if(null!==l){var c=parseInt(l.replace(/[#!\/]/g,""),10)||null;null!==c&&(window.location="/levels/".concat(c,"/"))}else try{var d=window.location.pathname.match(/\/levels\/([^\/]*)/)[1];d&&e.filter(".lvl").eq(d-1).trigger("click")}catch(n){}};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(1),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(18))},280:function(e,t,n){"use strict";var i=y(n(0)),o=y(n(2)),a=y(n(35)),r=y(n(87)),s=y(n(8)),l=n(3),c=y(n(88)),d=n(7),u=g(n(39)),f=n(1),p=g(n(18)),h=y(n(89)),m=n(5),v=n(29);function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var _,b,w,k={},C=function(e){b||(b=(0,f.jqGetElemById)("outdated-wiki-modal")),o.default.defer(function(){e.find("textarea").on("input",o.default.once(function(){var t=e.data(),n=t.autosaveUser+"_"+t.autosaveKey,o=c.default.getEditHash(n);!function e(){i.default.get(t.hashUrl).then(function(e){e.summary_hash&&e.summary_hash!=o&&(b.modal(),c.default.discardEdit(n),clearTimeout(_))}),_=setTimeout(e,3e4)}()}))}),b.find(".discard-btn").on("click",function(){window.location.reload()})},x=function(e){var t=e.parents("form"),n=t.find(".preview-button"),o=function(){t.hasClass("summary-text-editor")&&(0,i.default)(".wiki-main-column").removeClass("editing"),n.val(""),t.submit()};if(_){w||(w=(0,f.jqGetElemById)("save-outdated-wiki-modal")),clearTimeout(_);var a=e.data(),r=a.autosaveUser+"_"+a.autosaveKey,s=c.default.getEditHash(r);i.default.get(a.hashUrl).then(function(e){e.summary_hash&&e.summary_hash!=s?w.modal():o()}),w.find(".save-btn").on("click",o)}else o()},E=function(e){if(e.hasClass("stuck")){var t=e.parent();e.css({width:t.width(),left:t.offset().left-f.$document.scrollLeft(),margin:0})}else e.css({width:"",left:"",margin:""})};k.editSummary=function(e){var t;e.data("is-logged-out")?t=function(){(0,i.default)(".signup-modal").removeClass("hide")}:(t=function(){(0,i.default)(".wiki-main-column").addClass("editing");var e=(0,i.default)(".edit-summary-container").data();(0,s.default)(e.pageKey).get(e.url,{component_key:e.componentKey})},p.updateMathjax((0,i.default)(".summary"))),e.on("click",t)};var I=function(e,t){var n,i=[],o=!1;e.on("keydown.timecheck",function(){n=(new Date).getTime()}),e.on("input.timecheck",function(){if(n){var a=(new Date).getTime();if(30<=i.length&&i.shift(),i.push(a-n),!o&&30<=i.length){var r=(c=0,(s=i).forEach(function(e){c+=e}),c/s.length);30<=r&&(o=!0,e.off(".timecheck"),(0,l.track)("ui",{element_id:"input_timings_wiki",path:window.location.pathname,input_timing_avg:Math.round(r),input_timing_content_length:e.val().length,input_timing_form_type:t,input_timing_threshold:30}))}}var s,c})};k.editSummaryForm=function(e){var t=e.data(),n=t.isPreview,o=t.hasErrors,r=t.isUnchanged,s=(0,i.default)(".wiki-main-column"),l=(0,f.jqGetElemById)("summary_text_editor"),c=l.find(".button-container"),d=l.find("textarea"),u=(0,f.jqGetElemById)("summary_text_preview"),m=u.find(".button-container"),g=l.find(".preview-button"),y=l.find(".cancel-button"),_=u.find(".edit-button"),b=u.find(".save-button"),w=function(){(0,a.default)(d),(0,v.wikiLinks)(d,!0),h.default.stick(c,{bottom:c.offset().top+e.outerHeight(),handler:E}),I(d,"wiki_summary")};n||o||r?n?((0,f.setScrollPosition)(0),p.updateMathjax(u),setTimeout(function(){h.default.stick(m,{bottom:m.offset().top+e.outerHeight(),handler:E})},100),(0,v.wikiLinks)(d)):r&&s.removeClass("editing"):(w(),C(l)),g.on("click",function(){b.val("")}),y.on("click",function(){s.removeClass("editing")}),_.on("click",function(){e.addClass("editing"),(0,f.setScrollPosition)(0),w()}),b.on("click",function(e){e.preventDefault(),x(l)})},k.editSection=function(e){var t=e.data(),n=t.id,a=t.heading,r=(0,f.jqGetElemById)("wiki-sidebar"),l=(0,f.jqGetElemById)("section-".concat(n)),c=l.find(".edit-section-container"),d=c.data(),u=(0,f.jqGetElemById)("edit-another-section-modal"),p=function(){if(l.length&&r.length){var e=r.offset().top+r.outerHeight();l.offset().top<e&&r.addClass("hide")}l.addClass("editing"),c.addClass("cmp_"+d.componentKey+"_id"),(0,s.default)(d.pageKey).get(d.url,{component_key:d.componentKey,heading:a})};e.on("click",function(){var e=(0,i.default)(".cmp_wiki_canonical_edit_section_id");if(e.length){var t=e.find("#id_old_heading").val(),n=o.default.template((0,f.jqGetElemById)("discard-changes-text").text());u.find(".modal-body").html(n({currentHeading:t,buttonHeading:a})),u.modal(),u.find(".discard-btn").on("click",function(){var e=(0,i.default)(".cmp_wiki_canonical_edit_section_id"),t=e.parent(".section"),n=t.prev(".skill-heading");e.removeClass("cmp_wiki_canonical_edit_section_id"),t.removeClass("editing"),n.removeClass("hide"),p()})}else p()})},k.editSectionForm=function(e){var t=e.data(),n=t.isPreview,i=t.isUnchanged,o=e.parents(".section"),r=o.prev(".skill-heading"),s=e.parent(".edit-section-container"),l=e.find(".section-text-editor"),c=e.children(".button-container"),d=l.find(".autosave-field"),u=l.find("textarea"),f=e.find(".section-preview"),m=f.find(".button-container"),g=e.find(".preview-button"),y=e.find(".cancel-button"),_=e.find(".edit-button"),b=e.find(".save-button"),w=function(){s.removeClass("cmp_wiki_canonical_edit_section_id"),o.removeClass("editing"),r.removeClass("hide")};n||i?n?(p.updateMathjax(f),setTimeout(function(){h.default.stick(m,{bottom:m.offset().top+e.outerHeight(),handler:E})},100),(0,v.wikiLinks)(u)):i&&w():(o.addClass("editing"),r.addClass("hide"),(0,a.default)(u),(0,v.wikiLinks)(u,!0),h.default.stick(c,{bottom:c.offset().top+e.outerHeight(),handler:E}),I(u,"wiki_section"),C(d)),g.on("click",function(){b.val(""),e.removeClass("editing")}),y.on("click",function(){w()}),_.on("click",function(){e.addClass("editing"),(0,a.default)(u),(0,v.wikiLinks)(u),h.default.stick(c,{bottom:c.offset().top+e.outerHeight(),handler:E})}),b.on("click",function(e){e.preventDefault(),x(d)})},k.expandOrCollapse=function(e){var t=e.find("header"),n=e.attr("id"),i=window.location.hash.substr(1);t.on("click",function(){var t=e.next(".section");e.hasClass("collapsed")?(e.removeClass("collapsed"),t.removeClass("collapsed"),p.checkOverflow(t)):(e.addClass("collapsed"),t.addClass("collapsed"))}),f.isMobile&&i===n&&(t.trigger("click"),o.default.delay(function(){m.Anchors.scrollToTarget(t)},100))},k.summary=function(){var e=(0,i.default)(".skill-heading");f.isMobile&&1===e.length&&o.default.defer(function(){e.find("header").trigger("click")});var t=function(){var e=window.location.hash;"citation-"===e.substr(1,9)&&(0,f.jqGetElemById)(e.substr(1)).addClass("highlight-citation")};t(),(0,i.default)(".citation-link").on("click",function(){o.default.defer(t)})},k.rateWiki=function(e){var t=e.find("li"),n=e.data("rating"),o=!1;n?t.find("input[value="+n+"]").parents("li").addClass("selected"):t.on("click",function(){var n=(0,i.default)(this);o||(o=!0,t.find("input:checked").prop("checked",!1),n.addClass("selected"),n.find("input").prop("checked",!0),e.submit())})},k.reportDisputedWiki=function(e){e.find("#submit").on("click",function(){e.submit(),(0,i.default)(".disputed-container").addClass("hide")})},k.confirmModeratorAction=function(e){e.on("click",function(){var t=e.data(),n=(0,i.default)("#".concat(t.logId));(0,f.jqGetElemById)("wiki-logs-confirm").prop("checked")?(0,m.showConfirmationModal)({title:t.confirmModalTitle,text:t.confirmModalText}).then(function(i){i&&(n.val(t.value),e.parents("form").submit())}):(n.val(t.value),e.parents("form").submit())})},k.logsPager=function(e){e.on("click",function(){var t=e.data("page");(0,i.default)("#pagination_page_id").val(t),e.parents("form").submit()})},k.showStaffActions=function(e){var t=(0,i.default)(".wiki-staff-container"),n=(0,i.default)(".wiki-overlay");e.on("click",function(e){e.stopPropagation(),t.show(),n.show()}),(0,i.default)("body").on("click",function(e){t.hide(),n.hide()}),t.on("click",function(e){e.stopPropagation()})},k.feedback=function(e){var t=(0,f.jqGetElemById)("wiki-feedback-trigger"),n=e.hasClass(d.CLASS_NAME_ACTIVE),o=function(t,o){(n=!n)&&(!0!==o&&m.Anchors.scrollToTarget(e),e.find(".cmp-deferred").each(function(e,t){u.load((0,i.default)(t))})),e.toggleClass(d.CLASS_NAME_ACTIVE,n)};t.on("click",o),-1!==window.location.hash.indexOf("feedback")&&o(0,!0)},k.getCitationTime=function(e){var t=o.default.template((0,f.jqGetElemById)("retrieval-time-content").text()),n=new Date;e.find(".retrieval-time").html(t({hour:"0".concat(n.getHours()).slice(-2),minute:"0".concat(n.getMinutes()).slice(-2),month:["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()],day:n.getDate(),year:n.getFullYear()}))},k.wikiFooter=function(e){var t=(0,f.jqGetElemById)("footer").outerHeight();t&&o.default.defer(function(){var n=0;f.$window.on("scroll",o.default.throttle(function(){var i=f.$window.scrollTop()-((0,m.getScrollHeight)(f.$body)-t-f.$window.height());0<i?e.css({transform:"translate(0, -".concat(i,"px)")}):0<n&&e.css({transform:"translate(0, 0)"}),n=i},16))});var n=e.data("ax-id");n&&o.default.defer(function(){(0,l.track)("ui",{element_id:n,path:window.location.pathname,full_path:window.location.pathname+window.location.search})})},k.showSignUpModal=function(e){var t=(0,f.jqGetElemById)("signup-modal-wiki"),n="numLoggedOutWikiViews",i=r.default.get(n),a=function(){t.modal("show");var e=t.find(".public-signup-left");e.length&&!e.data("already-opened")&&(e.data("already-opened",!0),e.attr("data-already-opened",!0),(0,l.track)("ui",{action:"viewed_prenux_slide",step_position:1,is_first_step:!0,is_last_step:!1}))};i?(i++,r.default.set(n,i)):r.default.set(n,1),2<=i&&o.default.delay(a,3e3),e.find(".signup-btn").on("click",function(e){e.preventDefault(),a()})},k.examplesContribModal=function(e){e.modal()},k.expandableSidebar=function(e){e.find(".header").on("click",function(){e.toggleClass("expanded")})},k.sidebarAfterSummary=function(e){var t=(0,f.jqGetElemById)("section-pre-header-section");e.insertAfter(t).removeClass("hide")},k.editLog=function(e){setInterval(function(){var t=[];e.find("#log_entry_list li.unreviewed").each(function(e){t.push((0,i.default)(this).data("log_entry_id"))}),0<t.length&&i.default.ajax({url:"/wiki/__edit_logs/check_status/",type:"POST",data:{log_entry_ids:t},dataType:"json",success:function(e){var t,n;e.reviewed_ids.forEach(function(e,o){console.log("Reviewed:",e),t="/wiki/__edit_logs/"+e+"/",n={param_key:(0,i.default)('li[data-log_entry_id="'+e+'"]').data("param_key")},(0,s.default)("wiki_all_edit_log").get(t,n)})}})},1e3)},e.exports=k},281:function(e,t,n){"use strict";var i=h(n(0)),o=h(n(2)),a=h(n(35)),r=h(n(8)),s=n(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(18)),c=n(5),d=n(14),u=h(n(44)),f=n(9),p=n(29);function h(e){return e&&e.__esModule?e:{default:e}}var m={},v=window.vkey||{},g=null,y={};m.justAddedViaModal="";var _,b,w,k,C,x,E=null,I=null,j="mcq";function T(e){setTimeout(function(){"mcq"===j?(e.find("label.multi-select-extra span").html("Correct answer"),0===e.find("input:checked").length&&e.find("input[type=checkbox]:first").prop("checked",!0)):e.find("label.multi-select-extra span").html("Required answer"),e.find("input[type=text]").removeClass("correct").attr("placeholder",E),e.find("input:checked").each(function(){(0,i.default)(this).parents(".mcq-field").find("input[type=text]").addClass("correct").attr("placeholder",I)})})}m.clickHandler=function(e){var t=e.data(),n=null;e.on("click",function(e){if(!e.metaKey){if(n=y[t.target]||(0,s.jqGetElemByCmpName)(t.target),!(y[t.target]=n).data("modal-loaded")){if(!n.find(".cmp-deferred").length)return!0;n.data("modal-loaded",!0)}e.preventDefault(),function(e,t){var n=e.find(".cmp-deferred"),i=(t.post_to_set_name||"<none>")+"|"+(t.clone_from_problem||"<none>")+"|"+(t.pre_filled_skill||"<none>")+"|"+(t.pre_filled_topic||"<none>")+"|"+(t.wiki||"<none>");if(n.length?(n.appendTo(s.$body),e.data("orig-deferred",n)):n=e.data("orig-deferred"),e.data("last-update")!==i){n=n.clone(),e.empty().append(n);var a=o.default.pick(t,"group","post_to_set_name","clone_from_problem","pre_filled_skill","pre_filled_topic","wiki");if(o.default.keys(a).length){var r=n.data("cmp_url"),l=o.default.extend({},a,{is_modal:!0}),c=(0,d.appendGetParams)(r,l);n.data("cmp_url",c)}e.data("last-update",i)}}(n,t),n.data("modal")?n.modal():(n.on("shown",function(){t.target}),n.modal("show"))}return!0})},m.redirectHandler=function(e,t){window.location=e},m.form=function(e){var t=e.find("textarea"),n=e.find("#type-select"),l=e.find("#numerical-answer-field"),d=l.find("input"),u=e.find(".field-difficulty_level, .field-level"),f=e.find(".fields");g=e;var h=function(){var t="";e.find("[type=file]").each(function(){t+=(0,i.default)(this).val()}),t.length?e.submit():(0,r.default)("").form(e[0])};(0,a.default)(t),t.each(function(e,t){var n=(0,i.default)(t),o=n.is("#id_summary");(0,p.wikiLinks)(n,o)}),e.find("#btn-preview-post").on("click",function(t){t.preventDefault(),e.addClass("loading"),h()}),e.find("#btn-edit").on("click",function(t){t.preventDefault(),e.removeClass("previewing"),(0,i.default)(".publish-list, .publish-wiki-container").removeClass("hide"),e.find("textarea").trigger("autosize.resize"),o.default.defer(function(){c.Anchors.scrollToTarget((0,i.default)(".publish-wiki-form"))})}),e.find("#formatting-btn").on("click",function(e){e.preventDefault();var t=(0,i.default)("#formatting-guide");t.fadeToggle(100,function(){t.is(":visible")&&(0,s.setScrollPosition)(t.offset().top-(0,s.jqGetElemById)("header").height(),{animate:!0,delay:100})})}),e.find("#btn-confirm").on("click",function(t){t.preventDefault(),(0,i.default)("#preview-post-field,#preview-solvable-field,#preview-wiki-field").val(""),e.addClass("loading"),(0,i.default)(this).addClass("dim"),h()});var v=function(){if((0,s.jqGetElemById)("nf-answer-field").hasClass("number")){var e=d.val(),t="invalid";/[^\-\d|\.|e|E]/.test(e)?l.removeClass("usage").addClass(t):/\.|e|E/.test(e)?l.removeClass(t).addClass("usage"):l.removeClass(t+" usage"),u.toggleClass("disabled",0===e.length)}};d.on("keyup change",v),d.length&&u.toggleClass("disabled",0===d.val().length);var y=function(e){switch(j=e.val(),n.find(".active").removeClass("active"),e.parents("label").addClass("active"),e.closest("#nf-answer-field").removeClass("number mcq multi_select").addClass(j),j){case"mcq":case"multi_select":T(f),m.variableNumChoices.checkForBlankFields();break;case"number":var t=parseFloat((0,s.jqGetElemById)("id_mcq_answer_1").val());isNaN(t)||(0,s.jqGetElemById)("id_number_answer").val(t),v()}};n.find("input").on("change",function(e){y((0,i.default)(this))});var _=n.find("input:checked");0===_.length?n.find("input").first().prop("checked","checked"):y(_)},m.variableNumChoices=(b=4,w=[],k=[],C=[],x=null,(_={}).checkForBlankFields=function(){if(!w.length&&(0,s.jqGetElemById)("nf-answer-field").hasClass("mcq")&&x){var e=w.filter(function(e){return null!==e&&0<e.length});x.toggleClass("disabled",0===e.length)}},_.controller=function(e){w=[],k=[];var t=!(C=[]),n=e.find(".add-choice"),a=e.find(".fields"),r=o.default.template(e.find(".field-template").text()),s=e.parents("form").find("#id_num_mcq_answers"),l=e.data();E=l.dummyText,I=l.correctText,x=e.parents("form").find(".field-difficulty_level,.field-level"),a.find("input[type=text]").each(function(e,t){w.push(t.value)}),a.find("input[type=checkbox]").each(function(e,t){k.push(t.checked)});for(var c=1;c<=8;c++){var d=a.find("#edit-mcq-message-".concat(c));d&&d.val()&&C.push(d.val())}b=parseInt(s.val(),10)||b;var u=function o(){var l="";w.forEach(function(n,i){var o="null"===n?null:n,s="";C&&C[i]&&"null"!==C[i]&&(s=C[i]),null===o&&i<b?w[i]="":null!==o&&0===o.length&&b<=i&&(w[i]=null);var c=a.children("#mcq-choice-".concat(i+1)).find(".errorlist"),d=null===w[i];l+=r({fieldNumber:i+1,value:o,message:s,tabindex:i+2,hidden:d,error:c.length&&!d?c[0].outerHTML:"",passive:t,deletable:2<b,multiSelectSelected:k[i],user:e.data("user")})}),a.html(l),n.toggleClass("hide",8===b),(0,f.initGenericControllers)(a,{callback:function(){if(t)a.find("input").each(function(e,t){(0,i.default)(t).trigger("autosave.save")});else{a.find("input[type=text]").each(function(e,t){var n=t.value;w[e]=0===n.length&&3<e?null:n});for(var e=null,n=w.length-1;0<=n;n--)if(null!==w[n]&&w[n].length){e=n;break}t=!0,null!==e&&e!==b-1&&(b=0===e?2:e+1,s.val(b),o()),_.checkForBlankFields()}}}),a.find(".delete").on("click",function(e){e.preventDefault();var t=(0,i.default)(e.currentTarget);if(!t.hasClass("disabled")){var n=t.parents(".mcq-field").index();w.splice(n,1),w.push(null),k.splice(n,1),k.push(!1),b--,s.val(b),o()}}),a.find("input[type=text]").on("keyup change input",function(e){var t=(0,i.default)(e.currentTarget);w[t.parents(".mcq-field").index()]=t.val(),_.checkForBlankFields()}),a.find("input[type=checkbox]").on("change",function(e){var t=e.currentTarget,n=(0,i.default)(t).parents(".mcq-field");if("mcq"===j&&t.checked){var o=a.find("input[type=checkbox]").not(t);o.prop("checked",!1),o.parents(".mcq-field").find("input[type=text]").removeClass("correct").attr("placeholder",E)}k[n.index()]=t.checked,n.find("input[type=text]").toggleClass("correct",t.checked).attr("placeholder",t.checked?I:E)}),T(a)};n.on("click",function(e){e.preventDefault(),b++,s.val(b),u()}),u(),_.checkForBlankFields()},_),m.guidelines=function(e){e.find(".btn-guidelines").on("click",function(e){e.preventDefault(),g.toggleClass("guidelines"),o.default.defer(function(){g.toggleClass("in")})})},m.problemContribModal=function(e){var t=e.data("modal-classes");e.find(".btn-contrib").on("click.contribmodal",function(e){e.preventDefault();var n=(0,i.default)(this),o=n.data();i.default.get(o.modalUrl).then(function(e){(0,s.jqCreateElem)("div").html(e).addClass(t).modal().find(".btn-continue").on("click",function(){window.location=n.attr("href")})}).fail(function(){window.location=n.attr("href")})})},m.notesExamples=function(e){u.default.feeditem_modal(e.parent()),e.find(".modal-target").each(u.default.modal_events)},m.progressiveFields=function(e){var t=e.data("fields").split(",").map(function(t){return e.find(t)}).filter(function(e){return 0<e.length}),n=function(){for(var e=0,n=!1;e<t.length;e++)t[e].parents(".field").toggleClass("disabled",n),n=n||""===t[e].val().trim()};o.default.defer(function(){t.forEach(function(e,t){e.on("change",n),e.siblings("input").on("focus",function(){e.parents(".field").hasClass("disabled")&&(0,i.default)(this).blur()})})}),n()},m.filterWikis=function(e){var t=e.find(".btn-filter"),n=e.find(".see-more-btn");t.on("click",function(n){n.preventDefault();var o=(0,i.default)(this),a=o.data("value");e.removeClass("needs-writers needs-feedback needs-examples").addClass(a),t.removeClass("active"),o.addClass("active")}),n.on("click",function(){(0,i.default)(this).parents(".publish-wiki-list").addClass("expanded")})};var q=function(e,t){var n=v.handle(e,t);l.updateMathjax(n),y[t]&&y[t].find("form").data("redirect-handler","util/creation_modal:redirectHandler"),(0,i.default)(".publish-list, .publish-wiki-container").addClass("hide")};v.newsfeed_create_post=q,v.newsfeed_create_solvable=q,v.newsfeed_create_wiki=q,e.exports=m},282:function(e,t,n){"use strict";var i=c(n(0)),o=c(n(2)),a=n(1),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(39)),s=n(12),l=c(n(57));function c(e){return e&&e.__esModule?e:{default:e}}var d={loadDeferredComponents:function(e){(0,s.onDOMReady)(function(){a.$window.off("scroll.deferred");var t,n,s,c=0,d=(0,i.default)(".cmp-deferred").toArray(),u=function(){if(d.length)for(;c<3;)c++,d[0]?r.load((0,i.default)(d.shift())):d.shift()},f=(t=[],n=d.length,s=0,function(e){t.push(e),(5<=t.length||s+t.length>=n)&&(t.forEach(function(e,t){o.default.defer(function(){l.default.init(e())}),s++}),t=[])}),p=function(e,t){c--,u(),f(function(){return window.vkey.handle(e,t)})};e.forEach(function(e){window.vkey[e]=p}),u()})},solutionDiscussions:function(e){l.default.init(),l.default.add_form(),a.isAndroid||d.loadDeferredComponents(["solutiondiscussions_publicsolvablesolutioncomments"])},disputeDiscussions:function(e){l.default.init(),l.default.add_form(),a.isAndroid||d.loadDeferredComponents(["disputediscussions_publicsolvabledisputelist"])},editProblem:function(){setTimeout(function(){var e=(0,a.jqGetElemByCmpName)("assessment_webview_edit_problem");(0,a.jqGetElemById)("question-text-edit").click(),e.addClass("in"),window.vkey.assessment_webview_edit_problem=function(t,n){-1!==t.new_html.indexOf("webview_solvable_saved")?(e.hide(),window.location="problem://saved"):window.vkey.handle(t,n)}},100)}};e.exports=d},29:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mentions=function(e){null!==(l=(0,r.jqGetElemById)("mentions-data").data()||null)&&(l["".concat(l.type,"_id")]=l.id);var t=c;t.existingMentions=t.existingMentions||[],t.mentionsStorage={get:function(){return t.existingMentions},set:function(e){t.existingMentions=e}},e.each(function(e,n){(0,a.mentionsInput)((0,i.default)(n),t)})},t.wikiLinks=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=d;t&&(n.highlightFunction=u),e.each(function(e,t){(0,a.mentionsInput)((0,i.default)(t),n)})},t.mentionsAndWikiLinks=function(e){null!==(l=(0,r.jqGetElemById)("mentions-data").data()||null)&&(l["".concat(l.type,"_id")]=l.id);var t=c;t.existingMentions=t.existingMentions||[],t.mentionsStorage={get:function(){return t.existingMentions},set:function(e){t.existingMentions=e}};var n={elastic:!1,onCaret:!0,mentions:t,wikiLinks:d};e.each(function(e,t){(0,a.mentionsInput)((0,i.default)(t),n)})};var i=s(n(0)),o=s(n(2)),a=n(506),r=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var l=null,c={stopTriggerRegex:/\n/,elastic:!1,templates:{mentionItemSyntax:o.default.template("mention[<%= id %>:<%= value %>]"),autocompleteListItem:o.default.template('<li data-ref-id="<%= id %>" data-ref-type="" data-display="<%= display %>"><strong><%= content %></strong> <%= age %><%= country %></li>')},mentionRegex:/mention\[[\d]+:(.*?)]/g,onDataRequest:function(e,t,n){var o=this;l.prefix=t,i.default.getJSON(l.url,l,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];e.map(function(e){return e.id=e.user_id,e.name="".concat(e.first_name," ").concat(e.last_name),e.age=null!==e.age?e.age.toString():"",e.country=e.country||"",e.age=e.age.length&&e.country.length?"".concat(e.age,", "):e.age,e.isUser=!0,e}),n.call(o,e)})}},d={triggerChar:"[[wiki-",stopTriggerRegex:/[|\]]/,allowRepeat:!0,showAvatars:!0,elastic:!1,onCaret:!0,templates:{mentionItemSyntax:o.default.template("<%= value %>"),mentionItemHighlight:o.default.template("<%= value %>")},onDataRequest:function(e,t,n){var o=this,a={prefix:t};i.default.getJSON("/wiki/wiki_suggestions/",a,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];e.map(function(e){return e.icon="wiki-icon",e.isWiki=!0,e}),n.call(o,e)})}};function u(e){return e.replace(/\[\[(start|end)(.*?)(]]|<br \/>)/g,function(e){var t='<span class="wiki-syntax-highlight start-end">'.concat(e);return-1===t.indexOf("<br />")?t+="</span>":t=t.replace("<br />","</span><br />"),t})}},3:function(e,t,n){"use strict";var i=c(n(0)),o=c(n(2)),a=c(n(48)),r=c(n(21)),s=n(1),l=n(14);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u,f={},p=function(){},h=function(e){f.segmentKey=e.segmentKey,a.default.initialize({Amplitude:{apiKey:e.amplitudeKey,eventUploadThreshold:30,saveParamsReferrerOncePerSession:!0,trackCategorizedPages:!1,trackGclid:!0,trackReferrer:!0,eventUploadPeriodMillis:3e4,deviceIdFromUrlParam:!1,trackAllPages:!1,trackNamedPages:!1,trackSessionEvents:!1,trackUtmProperties:!0,batchEvents:!1,mapQueryParams:{},useLogRevenueV2:!0,forceHttps:!0},"Segment.io":{apiKey:e.segmentKey,segmentUrl:e.segmentUrl,addBundledMetadata:!0,unbundledIntegrations:[]}}),y()},m=(u=[],function(e,t){var n={google_conversion_id:f.googleAdPixelId,google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff"};n.google_remarketing_only=!!t,e=o.default.extend({},n,e),window.google_trackConversion?(u.length&&(u.forEach(function(e){window.google_trackConversion(e)}),u=[]),window.google_trackConversion(e)):u.push(e)}),v=o.default.once(function(){p("loadCustomerio",f.cioKey);var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.async=!0,e.id="cio-tracker",e.setAttribute("data-site-id",f.cioKey),e.src="https://assets.customer.io/assets/track.js",t.parentNode.insertBefore(e,t)}),g=function(e){e.loggingEnabled&&(p=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=["[analytics][".concat(e,"]")].concat(n);window.mobileNativeLog?window.mobileNativeLog.apply(null,o):console.log.apply(console,o)})},y=function(){if(-1!==window.location.search.search(/(utm|ga)_/)){var e=(0,l.getParamsObject)(),t={},n={};["utm_source","utm_medium","utm_campaign","utm_content","utm_term","ga_referrer","ga_match"].forEach(function(i){t[i+"_latest"]=e[i]||"-",i in e&&(n[i+"_current"]=e[i])}),f.setSuperProperties(t),f.setTemporaryProperties(n)}};function _(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){r.default.captureMessage("Error parsing analytics JSON: "+e),e={}}for(var t in e)"string"==typeof e[t]&&(e[t]=e[t].replace(/\[QUOTE\]/g,'"'),e[t]=e[t].replace(/\[SINGLEQUOTE\]/g,"'"));return e}function b(e,t){window.dataLayer||function(e,t,n,i,o){e[i]=e[i]||[],e[i].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName("script")[0],r=t.createElement("script");r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-5RMLTZ4",a.parentNode.insertBefore(r,a)}(window,document,0,"dataLayer");var n="gtag_value__",i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i,o,a;i=e,a=n[o=t],o in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a})}return e}({event:e.replace("gtag__","")},Object.entries(t).filter(function(e){return 0===d(e,1)[0].indexOf(n)}).reduce(function(e,t){var i=d(t,2),o=i[0],a=i[1];return e[o.replace(n,"")]=a,e},{}));window.dataLayer.push(i),p("track:gtag",i)}f.init=function(e){if(!window.nativeAnalyticsDisabled){var t,n,o,a,l,c,d=window.nativeAnalytics;f.userIsAuthenticated=d?(f.analyticsLive=!0,f.mobileNative=!0,f.superProperties=_(d.initialSuperProperties),f.userProperties={},f.identity=f.superProperties.indentity,f.cioIdentifyData=d.cioIdentifyData,f.cioKey=d.cioKey,f.displayedContinuePracticingBanner=!1,f.displayedRecommendedCourseBanner=!1,f.recommendedCourseId=null,d.userIsAuthenticated):(t=e.data(),f.analyticsLive=t.analyticsLive,f.identity=t.analyticsIdentity,f.cioIdentifyData=_(t.cioIdentifyData),f.cioKey=t.cioKey,f.superProperties=_(t.analyticsSuperProperties),f.userProperties=_(t.analyticsUserProperties),f.displayedContinuePracticingBanner=!0===t.displayedContinuePracticingBanner,f.displayedRecommendedCourseBanner=!0===t.displayedRecommendedCourseBanner,f.recommendedCourseId=t.recommendedCourseId,s.userIsAuthenticated);try{0===Object.keys(f.superProperties).length&&r.default.captureMessage("Missing backend superProperties")}catch(e){}f.superProperties.user_agent=f.superProperties.user_agent||window.navigator.userAgent,f.temporaryProperties={},f.analyticsLive&&(d?(g(d),h(d)):(g(t),h(t),t.isNative&&0!==window.location.pathname.indexOf("/wiki/")?window.ga=function(){}:(o=window,a=document,o.GoogleAnalyticsObject="ga",o.ga=o.ga||function(){(o.ga.q=o.ga.q||[]).push(arguments)},o.ga.l=1*new Date,l=a.createElement("script"),c=a.getElementsByTagName("script")[0],l.async=1,l.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(l,c),window.ga("create","UA-33841253-1","auto"),window.ga("require","displayfeatures"),window.ga("send","pageview")),function(e){if(!e.isNative&&e.isTrackedUser){if(n=window,o=document,n.fbq||(a=n.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},n._fbq||(n._fbq=a),(a.push=a).loaded=!0,a.version="2.0",a.queue=[],(r=o.createElement("script")).async=!0,r.src="//connect.facebook.net/en_US/fbevents.js",(s=o.getElementsByTagName("script")[0]).parentNode.insertBefore(r,s)),window.fbq("init",e.facebookAdPixelId),window.fbq("track","PageView"),e.signedUp?window.fbq("track","CompleteRegistration"):e.viewedPaywall?window.fbq("trackCustom","BViewPaywall"):e.contentType&&window.fbq("track","ViewContent",{type:e.contentType,slug:e.slug,topic:e.topic}),e.ltvEventId){var t={value:e.ltvEventLtv,currency:e.ltvEventCurrency};window.fbq("track","Purchase",t),f.track("facebook_pixel_purchase",t),i.default.get(e.ltvEventConfirmUrl,function(e){p("ltvEvent:confirm",e.success)})}}else window.fbq=function(){};var n,o,a,r,s}(t),!(n=t).isNative&&n.isTrackedUser&&(f.googleAdPixelId=n.googleAdPixelId,i.default.getScript("https://www.googleadservices.com/pagead/conversion_async.js").then(function(){var e={google_conversion_label:"MKTlCLCW5mYQlcS-4AM"};n.tries&&(e.google_custom_params={tries_made:n.tries,max_level:n.level}),m(e,!0),m({google_conversion_label:"aSZbCPfA1G4QlcS-4AM"}),n.signedUp?(m({google_conversion_label:"hB7HCPSF6WYQlcS-4AM"},!0),m({google_conversion_label:"V4rMCOzSwG4QlcS-4AM"})):n.viewedPaywall?(m({google_conversion_label:"wsH9CLmN5mYQlcS-4AM"},!0),m({google_conversion_label:"sXGXCOzVwG4QlcS-4AM"})):n.contentType&&(m({google_conversion_label:"t-2DCIvQ2GYQlcS-4AM",google_custom_params:{type:n.contentType,slug:n.slug,topic:n.topic}},!0),m({google_conversion_label:"1wqUCOeO2m4QlcS-4AM"})),n.ltvEventId&&(m({google_conversion_label:"mpVwCOaK5mYQlcS-4AM",google_conversion_value:n.ltvEventLtv,google_conversion_currency:n.ltvEventCurrency},!0),m({google_conversion_label:"ByXkCJSJ2m4QlcS-4AM",google_conversion_value:n.ltvEventLtv,google_conversion_currency:n.ltvEventCurrency}))}))),function(){var e,t,n;for(window._cio=window._cio||[],e=function(e){return function(){_cio.push([e].concat(Array.prototype.slice.call(arguments,0)))}},t=["load","identify","sidentify","track","page"],n=0;n<t.length;n++)_cio[t[n]]=e(t[n])}(),f.identify(),d||e.children(".ax-event").each(function(){var e=(0,i.default)(this).data();f.track(e.axName,e.axProperties)}))}},f.track=function(e,t){if(!window.nativeAnalyticsDisabled){var n=t.action;null!=t.suffix&&void 0!==n&&(n+=t.suffix),void 0===n&&(n="none");var i=window.location.pathname,o={full_path:i+window.location.search,path:i},r=Object.assign({},o,f.superProperties,f.temporaryProperties,t);if("sign_of_life"===e){if(r.displayed_continue_practicing_banner=f.displayedContinuePracticingBanner,r.displayed_recommended_course_banner=f.displayedRecommendedCourseBanner,f.displayedContinuePracticingBanner){var l=(0,s.jqGetElemById)("continue-practicing-notif").data();l&&(r.continue_practicing_quiz_id=l.targetQuizId,r.continue_practicing_problems_left=l.problemsLeft)}f.displayedRecommendedCourseBanner&&(r.recommended_course_id=f.recommendedCourseId),Object.assign(r,{window_width:s.$window.width(),window_height:s.$window.height(),screen_width:window.screen.width,screen_height:window.screen.height})}if(0<=e.indexOf("gtag__"))return b(e,r),void delete t.gtag_value;if(p("track",e,n,r),f.analyticsLive){try{a.default.track(e,r)}catch(e){}window.ga&&"sign_of_life"!==e&&"ui"!==e&&window.ga("send","event",e,n),f.cioIdentifyData.created_at&&"ui"===e&&(window._cio.track(e,r),v())}}},f.setSuperProperties=function(e){p("setSuperProperties",e),f.analyticsLive&&(f.superProperties=o.default.extend({},f.superProperties,e))},f.setTemporaryProperties=function(e){f.temporaryProperties=o.default.extend({},f.temporaryProperties,e)},f.identify=function(){if(f.analyticsLive&&(f.userIsAuthenticated?a.default.identify(f.identity,f.userProperties):(a.default.identify(null,f.userProperties,{integrations:{All:!1,Amplitude:!0}}),p("identify:segment/amplitude",null,f.userProperties),a.default.identify(f.identity,f.userProperties,{integrations:{All:!0,Amplitude:!1}})),p("identify:segment/all",f.identity,f.userProperties),f.cioIdentifyData.created_at)){var e={};for(var t in f.cioIdentifyData)e[t]=f.cioIdentifyData[t];for(var t in f.superProperties)e[t]=f.superProperties[t];var n=navigator.userAgent.toLowerCase();-1!==n.indexOf("android")&&(e.ever_visited_with_android=!0),-1!==/iphone|ipad/gi.test(n)&&(e.ever_visited_with_ios=!0),s.isAndroid&&(e.has_installed_android_app=!0),s.isIos&&(e.has_installed_ios_app=!0),window._cio.identify(e),p("identify:cio",e)}},f.trackNativeBtn=function(e){e.on("click",function(){var t=function(e){return e.split("?")[0]},n=e.data();delete n.controller,n.target=t(n.target),n.from=t(n.from),f.track("mobile_native_ui",n)})},f.setAnalyticsEvents=function(e){(e=e||(0,i.default)("body")).find(".ax-click").on("click.axclick",function(e){var t=(0,i.default)(this),n=t.data(),o=n.axRequire,a=n.axForbid,r=t.hasClass("ax-once");if(!0!==n.ax_active&&(t.data("ax_active",!0),(!o||t.hasClass(o))&&(!a||!t.hasClass(a)))){var s,l,c,d={element_type:n.axType,element_id:n.axId,path:window.location.pathname,full_path:window.location.pathname+window.location.search};d.action=n.axAction?n.axAction:"click",n.gifUrl&&(d.gif_content=n.gifContent),r?(this,s="click_analytics","ui",l=d,(c=(0,i.default)(this)).data("sent_"+s)||(f.track("ui",l),c.data("sent_"+s,!0))):f.track("ui",d)}})},f.trackFacebookPixel=function(e,t,n){window.fbq&&window.fbq(e?"trackCustom":"track",t,n||{})},f.trackPixelController=function(e){var t=e.data();t.tracked||(o.default.defer(function(){t.facebookEventName&&f.trackFacebookPixel(!0,t.facebookEventName,{slug:t.slug}),t.googleLabelRemarketing&&m({google_conversion_label:t.googleLabelRemarketing},!0),t.googleLabelConversions&&m({google_conversion_label:t.googleLabelConversions})}),e.data("tracked","true"),e.attr("data-tracked","true"))},f.setAnalyticsEvents(),window.banalytics=f,e.exports=f},31:function(e,t,n){"use strict";var i={},o={BrilliantLightBlue:"#95D3FE",BrilliantBlue:"#3D99F6",BrilliantDarkBlue:"#0C6AC7",BrilliantSeaGreen:"#1E93A5",BrilliantAqua:"#27D2E7",BrilliantLightGreen:"#67D94C",BrilliantGreen:"#20A900",BrilliantDarkGreen:"#456461",BrilliantYellow:"#CEBB00",BrilliantLightYellow:"#FEDF53",BrilliantYellowOrange:"#FCA04A",BrilliantOrange:"#EC7300",BrilliantRedOrange:"#FF664D",BrilliantRed:"#D61F06",BrilliantPink:"#E81990",BrilliantRosePink:"#F970BF",BrilliantViolet:"#BA33D6",BrilliantAmethyst:"#625CDB",BrilliantIndigo:"#302B94",BrilliantPurple:"#69047E",BrilliantPaleYellow:"#FFF7E6",BrilliantBeige:"#FBE6B8",BrilliantSandyBrown:"#FEDABE",BrilliantPeachy:"#FCC9A1",BrilliantTan:"#DBA97F",BrilliantLightBrown:"#B4825D",BrilliantMediumLightBrown:"#AA7956",BrilliantBronze:"#815331",BrilliantBrown:"#624F41",BrilliantWhite:"#FFFFFF",BrilliantLightGray:"#FBFBFB",BrilliantMediumLightGray:"#F0F0F0",BrilliantMediumGray:"#D8D8D8",BrilliantGray:"#BBBBBB",BrilliantMediumDarkGray:"#919191",BrilliantDarkGray:"#777777",BrilliantBlack:"#333333",BrilliantDarkBlack:"#161616"},a=!1,r=!1,s=[],l=[],c=/\\\(.*?\\\)/,d=/\\\[.*?\\\]/,u=[/<script[\s\S]*?<\/script>/gm,/title=".*?"/g,/data-answers-list=".*?"/g,/data-registered-choice=".*?"/g,/<textarea[\s\S]*?<\/textarea>/gm,/<span>\\(\(|\)|\[|\])<\/span>/g],f=function(e){for(var t=0;t<u.length;t++)e=e.replace(u[t],"");return c.test(e)||d.test(e)},p=function(e){r?h(e):(s.push(e),a||m())},h=function(e){try{window.MathJax.Hub.Queue(["Typeset",MathJax.Hub,e])}catch(e){}},m=function(){if(!r&&!a){a=!0;var e=document.createElement("script");e.type="text/javascript",e.src=document.body.dataset.mediaHost+"/site_media/version-99mq9F5EZ8d8/js/mathjax/MathJax.js?config=TeX-AMS_HTML",e.onload=e.onreadystatechange=function(){var e=!this.readyState||"loaded"===this.readyState||"complete"===this.readyState;!r&&e&&(r=!(a=!1),window.MathJax.Hub.Config({messageStyle:"none",jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["\\(","\\)"]],displayMath:[["\\[","\\]"]],processEnvironments:!1,ignoreClass:"mentions-input-box"},TeX:{extensions:["color.js","mhchem.js","siunitx.js"],Macros:{bra:["{\\mathinner{\\langle{#1}|}}",1],ket:["{\\mathinner{|{#1}\\rangle}}",1],braket:["{\\mathinner{\\langle{#1}\\rangle}}",1],Bra:["{\\left\\langle#1\\right|}",1],Ket:["{\\left|#1\\right\\rangle}",1],ketbra:["{\\ket{#1}\\bra{#2}}",2]},Augment:{Definitions:{macros:{overparen:["UnderOver","23DC"],underparen:["UnderOver","23DD"]}}}},"HTML-CSS":{imageFont:null},showMathMenu:!1,positionToHash:!1}),window.MathJax.Hub.processSectionDelay=0,window.MathJax.Hub.Register.StartupHook("TeX color Ready",function(){Object.assign(window.MathJax.Extension["TeX/color"].colors,o)}),l.forEach(function(e){return e()}),s.forEach(h),s=[])},setTimeout(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},0)}};i.formPreloader=function(e){var t=e.find("input[type=text],textarea"),n="keydown.mjxpreload";t.on(n,function(){t.off(n),m()})},i.loadForElement=function(e,t){t=!0===t,e.each(function(){(t||f(this.innerHTML))&&p(this)})},i.controller=function(){var e=function(){p(document.body)};window.isLoaded?e():window.addEventListener("load",e)},i.onLoad=function(e){r?e():l.push(e)},i.textContainsUnrenderedMath=f,window.bmathjaxLoader=i,e.exports=i},35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.length){var n=a.default.extend({},r,t||{});l.parentNode!==document.body&&(0,a.default)(document.body).append(l),e.each(function(e,t){var i,r,c=(0,a.default)(t),d={height:t.style.height,overflow:t.style.overflow,overflowY:t.style.overflowY,wordWrap:t.style.wordWrap,resize:t.style.resize},u=c.css("resize"),f=0,p=c.width();if(!c.data("autosize")){c.data("autosize",!0),"border-box"===c.css("box-sizing")&&(f=c.outerHeight()-c.height());var h=Math.max(parseFloat(c.css("minHeight"))-f||0,c.height());c.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===u?c.css("resize","none"):"both"===u&&c.css("resize","horizontal");var m=function(){clearTimeout(r),r=setTimeout(function(){var e=c.width();e!==p&&(p=e,g())},parseInt(n.resizeDelay,10))};"onpropertychange"in t?"oninput"in t?c.on("input.autosize keyup.autosize",g):c.on("propertychange.autosize",function(e){"value"===e.propertyName&&g()}):c.on("input.autosize",g),!1!==n.resizeDelay&&(0,a.default)(window).on("resize.autosize",m),c.on("autosize.resize",g),c.on("autosize.resizeIncludeStyle",function(){o=null,g()}),c.on("autosize.destroy",function(){o=null,clearTimeout(r),(0,a.default)(window).off("resize",m),c.off("autosize").off(".autosize").css(d).removeData("autosize")}),g()}function v(){var e,n=window.getComputedStyle?window.getComputedStyle(t,null):null;n?(e=parseFloat(n.width),"border-box"!==n.boxSizing&&"border-box"!==n.webkitBoxSizing&&"border-box"!==n.mozBoxSizing||["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"].forEach(function(t){e-=parseFloat(n[t])})):e=c.width(),l.style.width="".concat(Math.max(e,0),"px")}function g(){var e;o!==t?function(){var e={};if(o=t,l.className=n.className,l.id=n.id,i=parseFloat(c.css("maxHeight")),s.forEach(function(t){e[t]=c.css(t)}),(0,a.default)(l).css(e).attr("wrap",c.attr("wrap")),v(),window.chrome){var r=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=r}}():v(),!t.value&&n.placeholder?l.value=c.attr("placeholder")||"":l.value=t.value,l.value+=n.append||"",l.style.overflowY=t.style.overflowY;var r=parseFloat(t.style.height)||0;l.scrollTop=0,l.scrollTop=9e4,e=l.scrollTop,i&&i<e?(t.style.overflowY="scroll",e=i):(t.style.overflowY="hidden",e<h&&(e=h)),e+=f,.01<Math.abs(r-e)&&(t.style.height="".concat(e,"px"),l.className=l.className,"function"==typeof n.callback&&n.callback.call(t,t),c.trigger("autosize.resized"))}})}};var i,o,a=(i=n(0))&&i.__esModule?i:{default:i},r={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},s=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],l=(0,a.default)('<textarea tabindex="-1"/>').data("autosize",!0)[0];l.style.cssText="position: absolute;top: -999px;left: 0;right: auto;bottom: auto;border: 0;padding: 0;box-sizing: content-box;word-wrap: break-word;height: 0 !important;min-height: 0 !important;overflow: hidden;transition: none;-webkit-transition: none;",(l.style.lineHeight="99px")===(0,a.default)(l).css("lineHeight")&&s.push("lineHeight"),l.style.lineHeight=""},37:function(e,t,n){"use strict";function i(e){if(e)if(e.substring){var t=e.split(".");try{this.major=parseInt(t[0],10)}catch(e){this.major=0}try{this.minor=parseInt(t[1],10)}catch(e){this.minor=0}try{this.patch=parseInt(t[2],10)}catch(e){this.patch=0}}else e.toFixed&&(this.major=e)}i.prototype.major=0,i.prototype.minor=0,i.prototype.patch=0,i.prototype.toString=function(){return this.major+"."+this.minor+"."+this.patch},i.prototype.compare=function(e){return this.major==e.major?this.minor==e.minor?this.patch==e.patch?0:this.patch>e.patch?1:-1:this.minor>e.minor?1:-1:this.major>e.major?1:-1},i.prototype.isGreaterThanOrEqualTo=function(e){var t=new i(e);return 0<=this.compare(t)},e.exports=i},38:function(e,t,n){"use strict";var i;function o(){var e=!1;return document.cookie.split(";").forEach(function(t){0<=t.indexOf("csrftoken")&&(e=t.split("=")[1].trim())}),e||null}function a(e){var t=document.location,n=t.host,i=t.protocol,o="//".concat(n),a=i+o;return e===a||e.slice(0,a.length+1)==="".concat(a,"/")||e===o||e.slice(0,o.length+1)==="".concat(o,"/")||!/^(\/\/|http:|https:).*/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getToken=o,t.isSameOrigin=a,(0,((i=n(0))&&i.__esModule?i:{default:i}).default)(document).ajaxSend(function(e,t,n){var i,r;i=n.type,r=n.url,!/^(GET|HEAD|OPTIONS|TRACE)$/.test(i)&&a(r)&&t.setRequestHeader("X-CSRFToken",o())})},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load=p,t.add=function(e){c.test(navigator.userAgent)?p(e):e.is(":visible")?(0,s.isInViewport)(e)?p(e):(d.push(e),u++,f||(f=!0,r.$window.on("scroll.deferred",o.default.throttle(function(){for(var e=d.length,t=!1,n=0;n<e;n++)!1!==(t=d[n])&&(0,s.isInViewport)(t)&&(p(t),d[n]=!1,0==--u&&(f=!1,r.$window.off("scroll.deferred")))},16)))):h()},t.addCmpsInContainer=function(e,t){for(var n=d.length,i=n-u,o=t,a=!1;i<n;i++)!1!==(a=d[i])&&(0,s.isVisibleInContainer)(a,e)&&(p(a),d[i]=!1,u--,0==--o&&e.off("scroll.deferred"))};var i=l(n(0)),o=l(n(2)),a=l(n(8)),r=n(1),s=n(5);function l(e){return e&&e.__esModule?e:{default:e}}var c=/opera mini|series40/i,d=[],u=0,f=!1;function p(e){var t=e.data();e.find(".js").addClass("spinner"),(0,a.default)(t.cmp_page_key).get(t.cmp_url,{param_key:t.cmp_param_key,deferred:!0})}var h=o.default.once(function(){var e=i.default.fn.show;i.default.fn.show=function(t,n){return(0,i.default)(this).each(function(o,a){var r=(0,i.default)(a);e.apply(r,[t,n]),r.find(".cmp-deferred").each(function(e,t){var n=(0,i.default)(t);n.is(":visible")&&p(n)})})}})},408:function(e,t,n){"use strict";n(409),n(504);var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(9),r=n(25),s=n(39);(0,n(12).onDOMReady)(function(){(0,a.initGenericControllers)(),(0,o.default)(".cmp-deferred").each(function(e,t){(0,s.add)((0,o.default)(t))});var e=(0,o.default)("form:not(.disable-submit-auto-disabling, #_fb_login)");(0,r.preventDefaultSubmitHandler)(e),(0,o.default)("form").each(function(e,t){var n=(0,o.default)(t);""===n.attr("action")&&n.attr("action",window.location.href)}),(0,r.initAutosubmit)()})},409:function(e,t,n){"use strict";n(410),n(415),n(419),n(422),n(425),n(429),n(433),n(441),n(445),n(448),n(452),n(455),n(460),n(476),n(480),n(53),n(87),n(35),n(48),n(1),n(5),n(3),n(111),n(38),n(153),n(18),n(88),n(89),n(24),n(112),n(154),n(31),n(155),n(37),n(14),n(54),n(12)},44:function(e,t,n){"use strict";var i=p(n(0)),o=p(n(2)),a=p(n(8)),r=n(25),s=n(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(18)),c=n(5),d=n(19),u=n(9),f=n(114);function p(e){return e&&e.__esModule?e:{default:e}}var h,m,v,g,y={urlStack:[]},_=(window.vkey,null),b=!1,w=!1,k=!1,C=null,x=[],E="assessment_modal_public_solvable_component",I="discussions_modal_single_component",j=!1,T={},q={},O=function(){var e=(0,i.default)(this),t=e.data(),n=t.modalUrl||null;e.addClass("inited"),h&&0!==h.length&&null!==n&&(0,s.jqOffOn)(e.find(".modal-link"),"click",function(o){if(!o.metaKey){o.preventDefault();var a=e.parents(".nf-feed-item");if(a.data("just-dragged"))return void a.removeData("just-dragged");if(_=e,A(t),b=t.isSolvable,w=t.isSet,t.refreshable,h.addClass("loading"),h.removeClass("loaded"),b?h.addClass("solvable").removeClass("note set"):w?h.addClass("set").removeClass("solvable note"):h.addClass("note").removeClass("solvable set"),q[n])z(n,t);else if(T[n])var r=setInterval(function(){q[n]&&(clearInterval(r),z(n,t))},200);else C=i.default.ajax({url:n,data:{force_full_page:"true"},success:S,error:P})}})},S=function(e){if(C=null,e.redirect)window.location=e.redirect;else{h.toggleClass("loading loaded");var t=g.modalUrl.replace("/modal","").replace("/_modal","").replace("-thread","/thread");if(t&&window.history.pushState){var a=(0,s.getRelativeUrl)();if(t!==a){var r={modalContent:!0};g.isPost||g.isSolvable?(r.isPostOrSolvable=!0,window.history.state&&window.history.state.isPostOrSolvable?window.history.replaceState(r,"",t):(y.urlStack.push(a),window.history.pushState(r,"",t))):(y.urlStack.push(a),window.history.pushState(r,"",t))}}b?(m.html(e),v.html("")):(v.html(e),(0,u.initGenericControllers)(v),m.html("")),$(),l.updateMathjax(h),l.checkOverflow(h);var c=h.find(".mini-profile");h.on("scroll",o.default.throttle(function(){c.each(function(e,t){(0,f.toggleMiniProfile)((0,i.default)(t),"hide")})},16)),b?n(58)[E](m):n(116)[I](v)}},P=function(e,t){"abort"!==t&&(404===e.status?(C=null,D(),(0,i.default)(".cmp_"+_.data("param_key")+"_id").parents(".nf-feed-item").remove()):(k=!0,C=null,D(),(0,d.errorModalHandler)(e)))},A=function(e){w&&h.is(":visible")&&(x.push({view:h.clone(),data:g,current_open_feed_item:_}),h.addClass("sub-view")),g=e,h.show().addClass("clearfix"),(0,c.crop)(),(0,s.jqOffOn)(s.$window,"keydown.nfmodal",function(e){27===e.which&&D()})},D=function(e){e=e||{};var t=!1;if(null!==C&&(C.abort(),t=!(C=null)),!k&&_&&_.data("refreshable")){var n=_.data(),o={version:n.version,deferred:n.deferred,page_key:n.page_key,cmp_url:n.cmp_url,individual_reload:n.individual_reload,param_key:n.param_key},l=new a.default(o.page_key);l.error=function(e){404===e.status?(0,i.default)(".cmp_"+o.param_key+"_id").parents(".nf-feed-item").remove():0<e.status&&(0,d.errorModalHandler)(e)},setTimeout(function(){l.get(o.cmp_url,o)},100)}if(!e.backButtonClicked&&window.history&&window.history.pushState&&!t&&(j=!0,window.history.back()),x.length){var f=x.pop();_=f.current_open_feed_item,h.replaceWith(f.view),h=(0,s.jqGetElemById)("nf-feeditem-modal").removeClass("inited"),w=!0,(0,r.initAutosubmit)(),M(h),(0,u.initGenericControllers)(h)}else _=null,k=!1,h.hide().removeClass("clearfix"),(0,c.crop)(!1),s.$window.off("keydown.nfmodal")},M=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.$body,t=1<arguments.length?arguments[1]:void 0;h=(0,s.jqGetElemById)("nf-feeditem-modal"),m=(0,s.jqGetElemByCmpName)(E),v=(0,s.jqGetElemByCmpName)(I),!0!==t&&0<h.length&&(e.find(".modal-feed-item").each(O),h.hasClass("inited")||(h.addClass("inited"),h.on("click",function(e){e.target===h[0]?D():w||x.length?(e.target===m[0]||e.target===v[0]||e.target===(0,s.jqGetElemById)("setview-header")[0])&&D():(0,i.default)(e.target).hasClass("refresh")&&(e.preventDefault(),(0,i.default)(e.target).parents("form").submit(),setTimeout(function(){window.location.href=window.location.href},1e3))}),h.on("click",".close-modal",function(e){e.preventDefault(),D()}),(0,i.default)("#nf-modal-close").on("click",D)))},N=function(e){if(0!==e.length){var t=e.data().modalUrl;t&&!0!==T[t]&&(T[t]=!0,i.default.get(t,{is_preloading:!0,force_full_page:!0}).then(function(e){q[t]=e}).fail(function(){T[t]=!1}))}},$=function(){var e=m.add(v).find(".modal-target");e.length&&e.each(function(){N((0,i.default)(this))})},z=function(e,t){if(S(q[e]),delete q[e],delete T[e],t.isSolvable&&s.userIsAuthenticated){var n=e.replace("?","start_attempt/?");t.version=window.VERSIONS[t.page_key]||1,i.default.post(n,t).fail(d.errorModalHandler)}};y.preloadFirstItem=function(e){N(e.find(".modal-feed-item").first())},y.popstateHandlerHook=function(){if(j)return j=!1,y.urlStack.pop(),!0;var e=y.urlStack;return 0<e.length&&(0,s.getRelativeUrl)()===e[e.length-1]&&(y.urlStack.pop(),D({backButtonClicked:!0}),!0)},y.modal_events=O,y.feeditem_modal=M,y.feeditem_modal_close=D,e.exports=y},48:function(module,exports,__webpack_require__){"use strict";(function(process){var __WEBPACK_AMD_DEFINE_RESULT__,IGa;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}IGa=function e(t,n,i){var o=function(){return this}();function a(o){if(n[o])return n[o].exports;if(t[o])return function(o,a){var r=n[o]={exports:{}},s=t[o],l=s[2],c=s[0],d=!0;try{c.call(r.exports,function(e){var n=t[o][1][e];return a(n||e)},r,r.exports,e,t,n,i),d=!1}finally{d?delete n[o]:l&&(n[l]=n[o])}return n[o].exports}(o,a);throw new Error('cannot find module "'+o+'"')}for(var r in i)i[r]?o[i[r]]=a(r):a(r);return a.duo=!0,a.cache=n,a.modules=t,a}({1:[function(e,t,n){var i=e("segmentio/analytics.js-core"),o=e("./integrations"),a=e("each");t.exports=n=i,i._require=e,n.VERSION=e("../bower.json").version,a(o,function(e,t){i.use(t)})},{"segmentio/analytics.js-core":2,"./integrations":3,each:4,"../bower.json":5}],2:[function(e,t,n){var i=e("./analytics");(t.exports=n=new i)._require=e,n.VERSION=e("../bower.json").version},{"./analytics":6,"../bower.json":7}],6:[function(e,t,n){var i=window.analytics,o=e("emitter"),a=e("facade"),r=e("after"),s=e("bind"),l=e("callback"),c=e("clone"),d=e("./cookie"),u=e("debug"),f=e("defaults"),p=e("each"),h=e("./group"),m=e("is"),v=e("is-meta"),g=e("object").keys,y=e("./memory"),_=e("./normalize"),b=e("event").bind,w=e("./pageDefaults"),k=e("pick"),C=e("prevent"),x=e("querystring"),E=e("object").length,I=e("./store"),j=e("./user"),T=a.Alias,q=a.Group,O=a.Identify,S=a.Page,P=a.Track;function A(){this._options({}),this.Integrations={},this._integrations={},this._readied=!1,this._timeout=300,this._user=j,this.log=u("analytics.js"),s.all(this);var e=this;this.on("initialize",function(t,n){n.initialPageview&&e.page(),e._parseQuery()})}(n=t.exports=A).cookie=d,n.store=I,n.memory=y,o(A.prototype),A.prototype.use=function(e){return e(this),this},A.prototype.addIntegration=function(e){var t=e.prototype.name;if(!t)throw new TypeError("attempted to add an invalid integration");return this.Integrations[t]=e,this},A.prototype.init=A.prototype.initialize=function(e,t){e=e||{},t=t||{},this._options(t),this._readied=!1;var n=this;p(e,function(t){n.Integrations[t]||delete e[t]}),p(e,function(e,t){var i=new n.Integrations[e](c(t));n.log("initialize %o - %o",e,t),n.add(i)});var i=this._integrations;j.load(),h.load();var o=r(E(i),function(){n._readied=!0,n.emit("ready")});return p(i,function(e,i){t.initialPageview&&!1===i.options.initialPageview&&(i.page=r(2,i.page)),i.analytics=n,i.once("ready",o),i.initialize()}),this.initialized=!0,this.emit("initialize",e,t),this},A.prototype.setAnonymousId=function(e){return this.user().anonymousId(e),this},A.prototype.add=function(e){return this._integrations[e.name]=e,this},A.prototype.identify=function(e,t,n,i){m.fn(n)&&(i=n,n=null),m.fn(t)&&(i=t,t=n=null),m.object(e)&&(n=t,t=e,e=j.id()),j.identify(e,t);var o=this.normalize({options:n,traits:j.traits(),userId:j.id()});return this._invoke("identify",new O(o)),this.emit("identify",e,t,n),this._callback(i),this},A.prototype.user=function(){return j},A.prototype.group=function(e,t,n,i){if(!arguments.length)return h;m.fn(n)&&(i=n,n=null),m.fn(t)&&(i=t,t=n=null),m.object(e)&&(n=t,t=e,e=h.id()),h.identify(e,t);var o=this.normalize({options:n,traits:h.traits(),groupId:h.id()});return this._invoke("group",new q(o)),this.emit("group",e,t,n),this._callback(i),this},A.prototype.track=function(e,t,n,i){m.fn(n)&&(i=n,n=null),m.fn(t)&&(i=t,t=n=null);var o=this.options.plan||{},a=o.track||{},r=this.normalize({properties:t,options:n,event:e});if(o=a[e]){if(this.log("plan %o - %o",e,o),!1===o.enabled)return this._callback(i);f(r.integrations,o.integrations||{})}return this._invoke("track",new P(r)),this.emit("track",e,t,n),this._callback(i),this},A.prototype.trackClick=A.prototype.trackLink=function(e,t,n){if(!e)return this;m.element(e)&&(e=[e]);var i=this;return p(e,function(e){if(!m.element(e))throw new TypeError("Must pass HTMLElement to `analytics.trackLink`.");b(e,"click",function(o){var a=m.fn(t)?t(e):t,r=m.fn(n)?n(e):n,s=e.getAttribute("href")||e.getAttributeNS("http://www.w3.org/1999/xlink","href")||e.getAttribute("xlink:href");i.track(a,r),s&&"_blank"!==e.target&&!v(o)&&(C(o),i._callback(function(){window.location.href=s}))})}),this},A.prototype.trackSubmit=A.prototype.trackForm=function(e,t,n){if(!e)return this;m.element(e)&&(e=[e]);var i=this;return p(e,function(e){if(!m.element(e))throw new TypeError("Must pass HTMLElement to `analytics.trackForm`.");function o(o){C(o);var a=m.fn(t)?t(e):t,r=m.fn(n)?n(e):n;i.track(a,r),i._callback(function(){e.submit()})}var a=window.jQuery||window.Zepto;a?a(e).submit(o):b(e,"submit",o)}),this},A.prototype.page=function(e,t,n,i,o){m.fn(i)&&(o=i,i=null),m.fn(n)&&(o=n,i=n=null),m.fn(t)&&(o=t,i=n=t=null),m.object(e)&&(i=t,n=e,t=e=null),m.object(t)&&(i=n,n=t,t=null),m.string(e)&&!m.string(t)&&(t=e,e=null),n=c(n)||{},t&&(n.name=t),e&&(n.category=e);var a=w();f(n,a);var r=k(g(a),n);m.empty(r)||((i=i||{}).context=i.context||{},i.context.page=r);var s=this.normalize({properties:n,category:e,options:i,name:t});return this._invoke("page",new S(s)),this.emit("page",e,t,n,i),this._callback(o),this},A.prototype.pageview=function(e){var t={};return e&&(t.path=e),this.page(t),this},A.prototype.alias=function(e,t,n,i){m.fn(n)&&(i=n,n=null),m.fn(t)&&(i=t,t=n=null),m.object(t)&&(n=t,t=null);var o=this.normalize({options:n,previousId:t,userId:e});return this._invoke("alias",new T(o)),this.emit("alias",e,t,n),this._callback(i),this},A.prototype.ready=function(e){return m.fn(e)&&(this._readied?l.async(e):this.once("ready",e)),this},A.prototype.timeout=function(e){this._timeout=e},A.prototype.debug=function(e){!arguments.length||e?u.enable("analytics:"+(e||"*")):u.disable()},A.prototype._options=function(e){return e=e||{},this.options=e,d.options(e.cookie),I.options(e.localStorage),j.options(e.user),h.options(e.group),this},A.prototype._callback=function(e){return l.async(e,this._timeout),this},A.prototype._invoke=function(e,t){return this.emit("invoke",t),p(this._integrations,function(n,i){t.enabled(n)&&i.invoke.call(i,e,t)}),this},A.prototype.push=function(e){var t=e.shift();this[t]&&this[t].apply(this,e)},A.prototype.reset=function(){this.user().logout(),this.group().logout()},A.prototype._parseQuery=function(){var e=x.parse(window.location.search);return e.ajs_uid&&this.identify(e.ajs_uid),e.ajs_event&&this.track(e.ajs_event),e.ajs_aid&&j.anonymousId(e.ajs_aid),this},A.prototype.normalize=function(e){return(e=_(e,g(this._integrations))).anonymousId&&j.anonymousId(e.anonymousId),e.anonymousId=j.anonymousId(),e.context.page=f(e.context.page||{},w()),e},A.prototype.noConflict=function(){return window.analytics=i,this}},{emitter:8,facade:9,after:10,bind:11,callback:12,clone:13,"./cookie":14,debug:15,defaults:16,each:4,"./group":17,is:18,"is-meta":19,object:20,"./memory":21,"./normalize":22,event:23,"./pageDefaults":24,pick:25,prevent:26,querystring:27,"./store":28,"./user":29}],8:[function(e,t,n){var i=e("indexof");function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}(t.exports=o).prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},o.prototype.once=function(e,t){var n=this;function i(){n.off(e,i),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},t._off=i,this.on(e,i),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;var o=i(n,t._off||t);return~o&&n.splice(o,1),this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var i=0,o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,t);return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{indexof:30}],30:[function(e,t,n){t.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],9:[function(e,t,n){var i=e("./facade");(t.exports=i).Alias=e("./alias"),i.Group=e("./group"),i.Identify=e("./identify"),i.Track=e("./track"),i.Page=e("./page"),i.Screen=e("./screen")},{"./facade":31,"./alias":32,"./group":33,"./identify":34,"./track":35,"./page":36,"./screen":37}],31:[function(e,t,n){var i=e("isodate-traverse"),o=e("./is-enabled"),a=e("./utils").clone,r=e("./utils").type,s=e("./address"),l=e("obj-case"),c=e("new-date");function d(e){(e=a(e)).hasOwnProperty("timestamp")?e.timestamp=c(e.timestamp):e.timestamp=new Date,i(e),this.obj=e}function u(e){return a(e)}s((t.exports=d).prototype),d.prototype.proxy=function(e){var t=e.split("."),n=this[e=t.shift()]||this.field(e);return n?("function"==typeof n&&(n=n.call(this)||{}),0===t.length?u(n):u(n=l(n,t.join(".")))):n},d.prototype.field=function(e){return u(this.obj[e])},d.proxy=function(e){return function(){return this.proxy(e)}},d.field=function(e){return function(){return this.field(e)}},d.multi=function(e){return function(){var t=this.proxy(e+"s");if("array"==r(t))return t;var n=this.proxy(e);return n&&(n=[a(n)]),n||[]}},d.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var n=this.proxy(e+"s");return"array"==r(n)?n[0]:void 0}},d.prototype.json=function(){var e=a(this.obj);return this.type&&(e.type=this.type()),e},d.prototype.context=d.prototype.options=function(e){var t=a(this.obj.options||this.obj.context)||{};if(!e)return a(t);if(this.enabled(e)){var n=this.integrations(),i=n[e]||l(n,e);return"boolean"==typeof i&&(i={}),i||{}}},d.prototype.enabled=function(e){var t=this.proxy("options.providers.all");"boolean"!=typeof t&&(t=this.proxy("options.all")),"boolean"!=typeof t&&(t=this.proxy("integrations.all")),"boolean"!=typeof t&&(t=!0);var n=t&&o(e),i=this.integrations();if(i.providers&&i.providers.hasOwnProperty(e)&&(n=i.providers[e]),i.hasOwnProperty(e)){var a=i[e];n="boolean"!=typeof a||a}return!!n},d.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},d.prototype.active=function(){var e=this.proxy("options.active");return null==e&&(e=!0),e},d.prototype.sessionId=d.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},d.prototype.groupId=d.proxy("options.groupId"),d.prototype.traits=function(e){var t=this.proxy("options.traits")||{},n=this.userId();for(var i in e=e||{},n&&(t.id=n),e){var o=null==this[i]?this.proxy("options.traits."+i):this[i]();null!=o&&(t[e[i]]=o,delete t[i])}return t},d.prototype.library=function(){var e=this.proxy("options.library");return e?"string"==typeof e?{name:e,version:null}:e:{name:"unknown",version:null}},d.prototype.userId=d.field("userId"),d.prototype.channel=d.field("channel"),d.prototype.timestamp=d.field("timestamp"),d.prototype.userAgent=d.proxy("options.userAgent"),d.prototype.ip=d.proxy("options.ip")},{"isodate-traverse":38,"./is-enabled":39,"./utils":40,"./address":41,"obj-case":42,"new-date":43}],38:[function(e,t,n){var i,o=e("is"),a=e("isodate");try{i=e("each")}catch(t){i=e("each-component")}t.exports=function e(t,n){return void 0===n&&(n=!0),o.object(t)?(s=n,i(r=t,function(t,n){a.is(n,s)?r[t]=a.parse(n):(o.object(n)||o.array(n))&&e(n,s)}),r):o.array(t)?(c=n,i(l=t,function(t,n){o.object(t)?e(t,c):a.is(t,c)&&(l[n]=a.parse(t))}),l):t;var r,s,l,c}},{is:44,isodate:45,each:4}],44:[function(e,t,n){var i=e("is-empty");try{var o=e("type")}catch(t){o=e("component-type")}for(var a,r=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"],s=0;a=r[s];s++)n[a]=l(a);function l(e){return function(t){return e===o(t)}}n.fn=n.function,n.empty=i,n.nan=function(e){return n.number(e)&&e!=e}},{"is-empty":46,type:47,"component-type":47}],46:[function(e,t,n){t.exports=function(e){if(null==e)return!0;if("number"==typeof e)return 0===e;if(void 0!==e.length)return 0===e.length;for(var t in e)if(i.call(e,t))return!1;return!0};var i=Object.prototype.hasOwnProperty},{}],47:[function(e,t,n){var i=Object.prototype.toString;t.exports=function(e){switch(i.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":_typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}},{}],45:[function(e,t,n){var i=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;n.parse=function(e){var t=[1,5,6,7,11,12],n=i.exec(e),o=0;if(!n)return new Date(e);for(var a,r=0;a=t[r];r++)n[a]=parseInt(n[a],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "==n[4]?o=(new Date).getTimezoneOffset():"Z"!==n[9]&&n[10]&&(o=60*n[11]+n[12],"+"==n[10]&&(o=0-o));var s=Date.UTC(n[1],n[2],n[3],n[5],n[6]+o,n[7],n[8]);return new Date(s)},n.is=function(e,t){return(!t||!1!==/^\d{4}-\d{2}-\d{2}/.test(e))&&i.test(e)}},{}],4:[function(e,t,n){var i=e("type"),o=Object.prototype.hasOwnProperty;function a(e,t){for(var n=0;n<e.length;++n)t(e[n],n)}t.exports=function(e,t){switch(i(e)){case"array":return a(e,t);case"object":return"number"==typeof e.length?a(e,t):function(e,t){for(var n in e)o.call(e,n)&&t(n,e[n])}(e,t);case"string":return function(e,t){for(var n=0;n<e.length;++n)t(e.charAt(n),n)}(e,t)}}},{type:47}],39:[function(e,t,n){var i={Salesforce:!0};t.exports=function(e){return!i[e]}},{}],40:[function(e,t,n){try{n.inherit=e("inherit"),n.clone=e("clone"),n.type=e("type")}catch(t){n.inherit=e("inherit-component"),n.clone=e("clone-component"),n.type=e("type-component")}},{inherit:48,clone:49,type:47}],48:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],49:[function(e,t,n){var i;try{i=e("component-type")}catch(t){i=e("type")}t.exports=function e(t){switch(i(t)){case"object":var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o]));return n;case"array":n=new Array(t.length);for(var a=0,r=t.length;a<r;a++)n[a]=e(t[a]);return n;case"regexp":var s="";return s+=t.multiline?"m":"",s+=t.global?"g":"",s+=t.ignoreCase?"i":"",new RegExp(t.source,s);case"date":return new Date(t.getTime());default:return t}}},{"component-type":47,type:47}],41:[function(e,t,n){var i=e("obj-case");t.exports=function(e){function t(e,t){return function(){var n=this.traits(),o=this.properties?this.properties():{};return i(n,"address."+e)||i(n,e)||(t?i(n,"address."+t):null)||(t?i(n,t):null)||i(o,"address."+e)||i(o,e)||(t?i(o,"address."+t):null)||(t?i(o,t):null)}}e.zip=t("postalCode","zip"),e.country=t("country"),e.street=t("street"),e.state=t("state"),e.city=t("city")}},{"obj-case":42}],42:[function(e,t,n){function i(e){return function(t,n,i,o){var a,s=o&&"function"==typeof o.normalizer?o.normalizer:r;n=s(n);for(var l=!1;!l;)c();function c(){for(a in t){var e=s(a);if(0===n.indexOf(e)){var i=n.substr(e.length);if("."===i.charAt(0)||0===i.length){n=i.substr(1);var o=t[a];return null==o?void(l=!0):n.length?void(t=o):void(l=!0)}}}l=!(a=void 0)}if(a)return null==t?t:e(t,a,i)}}function o(e,t){return e.hasOwnProperty(t)&&delete e[t],e}function a(e,t,n){return e.hasOwnProperty(t)&&(e[t]=n),e}function r(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}t.exports=i(function(e,t){if(e.hasOwnProperty(t))return e[t]}),t.exports.find=t.exports,t.exports.replace=function(e,t,n,o){return i(a).call(this,e,t,n,o),e},t.exports.del=function(e,t,n){return i(o).call(this,e,t,null,n),e}},{}],43:[function(e,t,n){var i=e("is"),o=e("isodate"),a=e("./milliseconds"),r=e("./seconds");t.exports=function(e){return i.date(e)?e:i.number(e)?new Date((t=e)<315576e5?1e3*t:t):o.is(e)?o.parse(e):a.is(e)?a.parse(e):r.is(e)?r.parse(e):new Date(e);var t}},{is:50,isodate:45,"./milliseconds":51,"./seconds":52}],50:[function(e,t,n){for(var i,o=e("is-empty"),a=e("type"),r=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"],s=0;i=r[s];s++)n[i]=l(i);function l(e){return function(t){return e===a(t)}}n.fn=n.function,n.empty=o,n.nan=function(e){return n.number(e)&&e!=e}},{"is-empty":46,type:47}],51:[function(e,t,n){var i=/\d{13}/;n.is=function(e){return i.test(e)},n.parse=function(e){return e=parseInt(e,10),new Date(e)}},{}],52:[function(e,t,n){var i=/\d{10}/;n.is=function(e){return i.test(e)},n.parse=function(e){var t=1e3*parseInt(e,10);return new Date(t)}},{}],32:[function(e,t,n){var i=e("./utils").inherit,o=e("./facade");function a(e){o.call(this,e)}i(t.exports=a,o),a.prototype.type=a.prototype.action=function(){return"alias"},a.prototype.from=a.prototype.previousId=function(){return this.field("previousId")||this.field("from")},a.prototype.to=a.prototype.userId=function(){return this.field("userId")||this.field("to")}},{"./utils":40,"./facade":31}],33:[function(e,t,n){var i=e("./utils").inherit,o=(e("./address"),e("is-email")),a=e("new-date"),r=e("./facade");function s(e){r.call(this,e)}i(t.exports=s,r),s.prototype.type=s.prototype.action=function(){return"group"},s.prototype.groupId=r.field("groupId"),s.prototype.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return a(e)},s.prototype.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();return o(t)?t:void 0},s.prototype.traits=function(e){var t=this.properties(),n=this.groupId();for(var i in e=e||{},n&&(t.id=n),e){var o=null==this[i]?this.proxy("traits."+i):this[i]();null!=o&&(t[e[i]]=o,delete t[i])}return t},s.prototype.name=r.proxy("traits.name"),s.prototype.industry=r.proxy("traits.industry"),s.prototype.employees=r.proxy("traits.employees"),s.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}}},{"./utils":40,"./address":41,"is-email":53,"new-date":43,"./facade":31}],53:[function(e,t,n){t.exports=function(e){return i.test(e)};var i=/.+\@.+\..+/},{}],34:[function(e,t,n){e("./address");var i=e("./facade"),o=e("is-email"),a=e("new-date"),r=e("./utils"),s=e("obj-case"),l=e("trim"),c=r.inherit,d=(r.clone,r.type);function u(e){i.call(this,e)}c(t.exports=u,i),u.prototype.type=u.prototype.action=function(){return"identify"},u.prototype.traits=function(e){var t=this.field("traits")||{},n=this.userId();for(var i in e=e||{},n&&(t.id=n),e){var o=null==this[i]?this.proxy("traits."+i):this[i]();null!=o&&(t[e[i]]=o,i!==e[i]&&delete t[i])}return t},u.prototype.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();return o(t)?t:void 0},u.prototype.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return a(e)},u.prototype.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return a(e)},u.prototype.name=function(){var e=this.proxy("traits.name");if("string"==typeof e)return l(e);var t=this.firstName(),n=this.lastName();return t&&n?l(t+" "+n):void 0},u.prototype.firstName=function(){var e=this.proxy("traits.firstName");if("string"==typeof e)return l(e);var t=this.proxy("traits.name");return"string"==typeof t?l(t).split(" ")[0]:void 0},u.prototype.lastName=function(){var e=this.proxy("traits.lastName");if("string"==typeof e)return l(e);var t=this.proxy("traits.name");if("string"==typeof t){var n=l(t).indexOf(" ");if(-1!==n)return l(t.substr(n+1))}},u.prototype.uid=function(){return this.userId()||this.username()||this.email()},u.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},u.prototype.age=function(){var e=this.birthday(),t=s(this.traits(),"age");return null!=t?t:"date"==d(e)?(new Date).getFullYear()-e.getFullYear():void 0},u.prototype.avatar=function(){var e=this.traits();return s(e,"avatar")||s(e,"photoUrl")||s(e,"avatarUrl")},u.prototype.position=function(){var e=this.traits();return s(e,"position")||s(e,"jobTitle")},u.prototype.username=i.proxy("traits.username"),u.prototype.website=i.one("traits.website"),u.prototype.websites=i.multi("traits.website"),u.prototype.phone=i.one("traits.phone"),u.prototype.phones=i.multi("traits.phone"),u.prototype.address=i.proxy("traits.address"),u.prototype.gender=i.proxy("traits.gender"),u.prototype.birthday=i.proxy("traits.birthday")},{"./address":41,"./facade":31,"is-email":53,"new-date":43,"./utils":40,"obj-case":42,trim:54}],54:[function(e,t,n){(n=t.exports=function(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.trimLeft?e.trimLeft():e.replace(/^\s*/,"")},n.right=function(e){return e.trimRight?e.trimRight():e.replace(/\s*$/,"")}},{}],35:[function(e,t,n){var i=e("./utils").inherit,o=(e("./utils").clone,e("./utils").type),a=e("./facade"),r=e("./identify"),s=e("is-email"),l=e("obj-case");function c(e){a.call(this,e)}i(t.exports=c,a),c.prototype.type=c.prototype.action=function(){return"track"},c.prototype.event=a.field("event"),c.prototype.value=a.proxy("properties.value"),c.prototype.category=a.proxy("properties.category"),c.prototype.id=a.proxy("properties.id"),c.prototype.sku=a.proxy("properties.sku"),c.prototype.tax=a.proxy("properties.tax"),c.prototype.name=a.proxy("properties.name"),c.prototype.price=a.proxy("properties.price"),c.prototype.total=a.proxy("properties.total"),c.prototype.coupon=a.proxy("properties.coupon"),c.prototype.shipping=a.proxy("properties.shipping"),c.prototype.discount=a.proxy("properties.discount"),c.prototype.description=a.proxy("properties.description"),c.prototype.plan=a.proxy("properties.plan"),c.prototype.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.orderId")},c.prototype.subtotal=function(){var e,t=l(this.properties(),"subtotal"),n=this.total();return t||(n?((e=this.tax())&&(n-=e),(e=this.shipping())&&(n-=e),(e=this.discount())&&(n+=e),n):0)},c.prototype.products=function(){var e=this.properties(),t=l(e,"products");return"array"==o(t)?t:[]},c.prototype.quantity=function(){return(this.obj.properties||{}).quantity||1},c.prototype.currency=function(){return(this.obj.properties||{}).currency||"USD"},c.prototype.referrer=a.proxy("properties.referrer"),c.prototype.query=a.proxy("options.query"),c.prototype.properties=function(e){var t=this.field("properties")||{};for(var n in e=e||{}){var i=null==this[n]?this.proxy("properties."+n):this[n]();null!=i&&(t[e[n]]=i,delete t[n])}return t},c.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},c.prototype.email=function(){var e=this.proxy("traits.email");if(e=e||this.proxy("properties.email"))return e;var t=this.userId();return s(t)?t:void 0},c.prototype.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event();return!e&&t&&t.match(/completed ?order/i)&&(e=this.proxy("properties.total")),function(e){if(e){if("number"==typeof e)return e;if("string"==typeof e)return e=e.replace(/\$/g,""),e=parseFloat(e),isNaN(e)?void 0:e}}(e)},c.prototype.cents=function(){var e=this.revenue();return"number"!=typeof e?this.value()||0:100*e},c.prototype.identify=function(){var e=this.json();return e.traits=this.traits(),new r(e)}},{"./utils":40,"./facade":31,"./identify":34,"is-email":53,"obj-case":42}],36:[function(e,t,n){var i=e("./utils").inherit,o=e("./facade"),a=e("./track");function r(e){o.call(this,e)}i(t.exports=r,o),r.prototype.type=r.prototype.action=function(){return"page"},r.prototype.category=o.field("category"),r.prototype.name=o.field("name"),r.prototype.title=o.proxy("properties.title"),r.prototype.path=o.proxy("properties.path"),r.prototype.url=o.proxy("properties.url"),r.prototype.referrer=function(){return this.proxy("properties.referrer")||this.proxy("context.referrer.url")},r.prototype.properties=function(){var e=this.field("properties")||{},t=this.category(),n=this.name();return t&&(e.category=t),n&&(e.name=n),e},r.prototype.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t},r.prototype.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"},r.prototype.track=function(e){var t=this.properties();return new a({event:this.event(e),timestamp:this.timestamp(),context:this.context(),properties:t})}},{"./utils":40,"./facade":31,"./track":35}],37:[function(e,t,n){var i=e("./utils").inherit,o=e("./page"),a=e("./track");function r(e){o.call(this,e)}i(t.exports=r,o),r.prototype.type=r.prototype.action=function(){return"screen"},r.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"},r.prototype.track=function(e){var t=this.properties();return new a({event:this.event(e),timestamp:this.timestamp(),context:this.context(),properties:t})}},{"./utils":40,"./page":36,"./track":35}],10:[function(e,t,n){t.exports=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}}},{}],11:[function(e,t,n){try{var i=e("bind")}catch(t){i=e("bind-component")}var o=e("bind-all");t.exports=n=i,n.all=o,n.methods=function(e,t){t=[].slice.call(arguments,1);for(var n,o=0;n=t[o];o++)e[n]=i(e,e[n]);return e}},{bind:55,"bind-all":56}],55:[function(e,t,n){var i=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() _requires a function");var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}},{}],56:[function(e,t,n){try{var i=e("bind"),o=e("type")}catch(t){i=e("bind-component"),o=e("type-component")}t.exports=function(e){for(var t in e){var n=e[t];"function"===o(n)&&(e[t]=i(e,e[t]))}return e}},{bind:55,type:47}],12:[function(e,t,n){var i=e("next-tick");function o(e){"function"==typeof e&&e()}(t.exports=o).async=function(e,t){if("function"==typeof e)return t?void setTimeout(e,t):i(e)},o.sync=o},{"next-tick":57}],57:[function(e,t,n){if("function"==typeof setImmediate)t.exports=function(e){setImmediate(e)};else if(void 0!==process&&"function"==typeof process.nextTick)t.exports=process.nextTick;else if("undefined"==typeof window||window.ActiveXObject||!window.postMessage)t.exports=function(e){setTimeout(e)};else{var i=[];window.addEventListener("message",function(){for(var e=0;e<i.length;)try{i[e++]()}catch(t){throw i=i.slice(e),window.postMessage("tic!","*"),t}i.length=0},!0),t.exports=function(e){i.length||window.postMessage("tic!","*"),i.push(e)}}},{}],13:[function(e,t,n){var i;try{i=e("type")}catch(t){i=e("type-component")}t.exports=function e(t){switch(i(t)){case"object":var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o]));return n;case"array":n=new Array(t.length);for(var a=0,r=t.length;a<r;a++)n[a]=e(t[a]);return n;case"regexp":var s="";return s+=t.multiline?"m":"",s+=t.global?"g":"",s+=t.ignoreCase?"i":"",new RegExp(t.source,s);case"date":return new Date(t.getTime());default:return t}}},{type:47}],14:[function(e,t,n){var i=e("bind"),o=e("clone"),a=e("cookie"),r=e("debug")("analytics.js:cookie"),s=e("defaults"),l=e("json"),c=e("top-domain");function d(e){this.options(e)}d.prototype.options=function(e){if(0===arguments.length)return this._options;e=e||{};var t="."+c(window.location.href);"."===t&&(t=null),this._options=s(e,{maxage:31536e6,path:"/",domain:t}),this.set("ajs:test",!0),this.get("ajs:test")||(r("fallback to domain=null"),this._options.domain=null),this.remove("ajs:test")},d.prototype.set=function(e,t){try{return t=l.stringify(t),a(e,t,o(this._options)),!0}catch(e){return!1}},d.prototype.get=function(e){try{var t=a(e);return t?l.parse(t):null}catch(e){return null}},d.prototype.remove=function(e){try{return a(e,null,o(this._options)),!0}catch(e){return!1}},t.exports=i.all(new d),t.exports.Cookie=d},{bind:11,clone:13,cookie:58,debug:15,defaults:16,json:59,"top-domain":60}],58:[function(e,t,n){var i=e("debug")("cookie");function o(){return function(e){var t,n={},i=document.cookie.split(/ *; */);if(""==i[0])return n;for(var o=0;o<i.length;++o)n[r((t=i[o].split("="))[0])]=r(t[1]);return n}()}function a(e){try{return encodeURIComponent(e)}catch(t){i("error `encode(%o)` - %o",e,t)}}function r(e){try{return decodeURIComponent(e)}catch(t){i("error `decode(%o)` - %o",e,t)}}t.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return function(e,t,n){n=n||{};var i=a(e)+"="+a(t);null==t&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(i+="; path="+n.path),n.domain&&(i+="; domain="+n.domain),n.expires&&(i+="; expires="+n.expires.toUTCString()),n.secure&&(i+="; secure"),document.cookie=i}(e,t,n);case 1:return i=e,o()[i];default:return o()}var i}},{debug:15}],15:[function(e,t,n){"undefined"==typeof window?t.exports=e("./lib/debug"):t.exports=e("./debug")},{"./lib/debug":61,"./debug":62}],61:[function(e,t,n){var i=e("tty");t.exports=function(e){function t(){}t.enabled=!1;var n=a.some(function(t){return t.test(e)});if(n)return t;if(!(n=o.some(function(t){return t.test(e)})))return t;var i=r[l++%r.length];function u(t){t=d(t);var n,o=new Date,a=o-(s[e]||o);s[e]=o,t="  [9"+i+"m"+e+" [3"+i+"m[90m"+t+"[3"+i+"m +"+(36e5<=(n=a)?(n/36e5).toFixed(1)+"h":6e4<=n?(n/6e4).toFixed(1)+"m":1e3<=n?(n/1e3|0)+"s":n+"ms")+"[0m",console.error.apply(this,arguments)}function f(t){t=d(t),t=(new Date).toUTCString()+" "+e+" "+t,console.error.apply(this,arguments)}return u.enabled=f.enabled=!0,c||process.env.DEBUG_COLORS?u:f};var o=[],a=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(e){"-"===(e=e.replace("*",".*?"))[0]?a.push(new RegExp("^"+e.substr(1)+"$")):o.push(new RegExp("^"+e+"$"))});var r=[6,2,3,4,5,1],s={},l=0,c=i.isatty(2);function d(e){return e instanceof Error?e.stack||e.message:e}},{}],62:[function(e,t,n){function i(e){return i.enabled(e)?function(t){var n;t=(n=t)instanceof Error?n.stack||n.message:n;var o=new Date,a=o-(i[e]||o);i[e]=o,t=e+" "+t+" +"+i.humanize(a),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}(t.exports=i).names=[],i.skips=[],i.enable=function(e){try{localStorage.debug=e}catch(e){}for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;o<n;o++)"-"===(e=t[o].replace("*",".*?"))[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$"))},i.disable=function(){i.enable("")},i.humanize=function(e){return 36e5<=e?(e/36e5).toFixed(1)+"h":6e4<=e?(e/6e4).toFixed(1)+"m":1e3<=e?(e/1e3|0)+"s":e+"ms"},i.enabled=function(e){for(var t=0,n=i.skips.length;t<n;t++)if(i.skips[t].test(e))return!1;for(t=0,n=i.names.length;t<n;t++)if(i.names[t].test(e))return!0;return!1};try{window.localStorage&&i.enable(localStorage.debug)}catch(e){}},{}],16:[function(e,t,n){t.exports=function e(t,n,i){for(var o in n)i&&t[o]instanceof Object&&n[o]instanceof Object?t[o]=e(t[o],n[o],!0):o in t||(t[o]=n[o]);return t}},{}],59:[function(e,t,n){var i=window.JSON||{},o=i.stringify,a=i.parse;t.exports=a&&o?JSON:e("json-fallback")},{"json-fallback":63}],63:[function(_require,module,exports){!function(){var JSON=module.exports={},cx,escapable,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,o,a,r,s=gap,l=t[e];switch(l&&"object"===_typeof(l)&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),_typeof(l)){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,n=0;n<a;n+=1)r[n]=str(n,l)||"null";return o=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+s+"]":"["+r.join(",")+"]",gap=s,o}if(rep&&"object"===_typeof(rep))for(a=rep.length,n=0;n<a;n+=1)"string"==typeof rep[n]&&(o=str(i=rep[n],l))&&r.push(quote(i)+(gap?": ":":")+o);else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(o=str(i,l))&&r.push(quote(i)+(gap?": ":":")+o);return o=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+s+"}":"{"+r.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var i;if(indent=gap="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if((rep=t)&&"function"!=typeof t&&("object"!==_typeof(t)||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(e,t){var n,i,o=e[t];if(o&&"object"===_typeof(o))for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(i=walk(o,n))?o[n]=i:delete o[n]);return reviver.call(e,t,o)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},{}],60:[function(e,t,n){var i=e("url").parse,o=e("cookie");function a(e){for(var t=n.cookie,i=n.levels(e),o=0;o<i.length;++o){var a="__tld__",r=i[o],s={domain:"."+r};if(t(a,1,s),t(a))return t(a,null,s),r}return""}(n=t.exports=a).cookie=o,a.levels=function(e){var t=i(e).hostname.split("."),n=t[t.length-1],o=[];if(4==t.length&&parseInt(n,10)==n)return o;if(t.length<=1)return o;for(var a=t.length-2;0<=a;--a)o.push(t.slice(a).join("."));return o}},{url:64,cookie:65}],64:[function(e,t,n){n.parse=function(e){var t=document.createElement("a");return t.href=e,{href:t.href,host:t.host||location.host,port:"0"===t.port||""===t.port?function(e){switch(t.protocol){case"http:":return 80;case"https:":return 443;default:return location.port}}():t.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:"/"!=t.pathname.charAt(0)?"/"+t.pathname:t.pathname,protocol:t.protocol&&":"!=t.protocol?t.protocol:location.protocol,search:t.search,query:t.search.slice(1)}},n.isAbsolute=function(e){return 0==e.indexOf("//")||!!~e.indexOf("://")},n.isRelative=function(e){return!n.isAbsolute(e)},n.isCrossDomain=function(e){e=n.parse(e);var t=n.parse(window.location.href);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol}},{}],65:[function(e,t,n){var i=e("debug")("cookie");function o(){var e;try{e=document.cookie}catch(e){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e.stack||e),{}}return function(e){var t,n={},i=e.split(/ *; */);if(""==i[0])return n;for(var o=0;o<i.length;++o)n[r((t=i[o].split("="))[0])]=r(t[1]);return n}(e)}function a(e){try{return encodeURIComponent(e)}catch(t){i("error `encode(%o)` - %o",e,t)}}function r(e){try{return decodeURIComponent(e)}catch(t){i("error `decode(%o)` - %o",e,t)}}t.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return function(e,t,n){n=n||{};var i=a(e)+"="+a(t);null==t&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(i+="; path="+n.path),n.domain&&(i+="; domain="+n.domain),n.expires&&(i+="; expires="+n.expires.toUTCString()),n.secure&&(i+="; secure"),document.cookie=i}(e,t,n);case 1:return i=e,o()[i];default:return o()}var i}},{debug:15}],17:[function(e,t,n){var i=e("./entity"),o=e("bind"),a=e("debug")("analytics:group"),r=e("inherit");function s(e){this.defaults=s.defaults,this.debug=a,i.call(this,e)}s.defaults={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},r(s,i),t.exports=o.all(new s),t.exports.Group=s},{"./entity":66,bind:11,debug:15,inherit:67}],66:[function(e,t,n){var i=e("clone"),o=e("./cookie"),a=e("debug")("analytics:entity"),r=e("defaults"),s=e("extend"),l=e("./memory"),c=e("./store"),d=e("isodate-traverse");function u(e){this.options(e),this.initialize()}(t.exports=u).prototype.initialize=function(){if(o.set("ajs:cookies",!0),o.get("ajs:cookies"))return o.remove("ajs:cookies"),void(this._storage=o);c.enabled?this._storage=c:(a("warning using memory store both cookies and localStorage are disabled"),this._storage=l)},u.prototype.storage=function(){return this._storage},u.prototype.options=function(e){if(0===arguments.length)return this._options;this._options=r(e||{},this.defaults||{})},u.prototype.id=function(e){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(e)}},u.prototype._getId=function(){var e=this._options.persist?this.storage().get(this._options.cookie.key):this._id;return void 0===e?null:e},u.prototype._setId=function(e){this._options.persist?this.storage().set(this._options.cookie.key,e):this._id=e},u.prototype.properties=u.prototype.traits=function(e){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(e)}},u.prototype._getTraits=function(){var e=this._options.persist?c.get(this._options.localStorage.key):this._traits;return e?d(i(e)):{}},u.prototype._setTraits=function(e){e=e||{},this._options.persist?c.set(this._options.localStorage.key,e):this._traits=e},u.prototype.identify=function(e,t){t=t||{};var n=this.id();null!==n&&n!==e||(t=s(this.traits(),t)),e&&this.id(e),this.debug("identify %o, %o",e,t),this.traits(t),this.save()},u.prototype.save=function(){return!!this._options.persist&&(o.set(this._options.cookie.key,this.id()),c.set(this._options.localStorage.key,this.traits()),!0)},u.prototype.logout=function(){this.id(null),this.traits({}),o.remove(this._options.cookie.key),c.remove(this._options.localStorage.key)},u.prototype.reset=function(){this.logout(),this.options({})},u.prototype.load=function(){this.id(o.get(this._options.cookie.key)),this.traits(c.get(this._options.localStorage.key))}},{clone:13,"./cookie":14,debug:15,defaults:16,extend:68,"./memory":21,"./store":28,"isodate-traverse":38}],68:[function(e,t,n){t.exports=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),i=0;t=n[i];i++)if(t)for(var o in t)e[o]=t[o];return e}},{}],21:[function(e,t,n){var i=e("bind"),o=e("clone"),a=Object.prototype.hasOwnProperty;function r(){this.store={}}t.exports=i.all(new r),r.prototype.set=function(e,t){return this.store[e]=o(t),!0},r.prototype.get=function(e){if(a.call(this.store,e))return o(this.store[e])},r.prototype.remove=function(e){return delete this.store[e],!0}},{bind:11,clone:13}],28:[function(e,t,n){var i=e("bind"),o=e("defaults"),a=e("store.js");function r(e){this.options(e)}r.prototype.options=function(e){if(0===arguments.length)return this._options;o(e=e||{},{enabled:!0}),this.enabled=e.enabled&&a.enabled,this._options=e},r.prototype.set=function(e,t){return!!this.enabled&&a.set(e,t)},r.prototype.get=function(e){return this.enabled?a.get(e):null},r.prototype.remove=function(e){return!!this.enabled&&a.remove(e)},t.exports=i.all(new r),t.exports.Store=r},{bind:11,defaults:16,"store.js":69}],69:[function(e,t,n){var i,o=e("json"),a={},r=window,s=r.document,l="localStorage",c="__storejs__";if(a.disabled=!1,a.set=function(e,t){},a.get=function(e){},a.remove=function(e){},a.clear=function(){},a.transact=function(e,t,n){var i=a.get(e);null==n&&(n=t,t=null),void 0===i&&(i=t||{}),n(i),a.set(e,i)},a.getAll=function(){},a.serialize=function(e){return o.stringify(e)},a.deserialize=function(e){if("string"==typeof e)try{return o.parse(e)}catch(t){return e||void 0}},function(){try{return l in r&&r[l]}catch(e){return!1}}())i=r[l],a.set=function(e,t){return void 0===t?a.remove(e):(i.setItem(e,a.serialize(t)),t)},a.get=function(e){return a.deserialize(i.getItem(e))},a.remove=function(e){i.removeItem(e)},a.clear=function(){i.clear()},a.getAll=function(){for(var e={},t=0;t<i.length;++t){var n=i.key(t);e[n]=a.get(n)}return e};else if(s.documentElement.addBehavior){var d,u,f=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(i),d.appendChild(i),i.addBehavior("#default#userData"),i.load(l);var n=e.apply(a,t);return d.removeChild(i),n}},p=function(e){return e.replace(h,"___")};try{(u=new ActiveXObject("htmlfile")).open(),u.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),u.close(),d=u.w.frames[0].document,i=d.createElement("div")}catch(e){i=s.createElement("div"),d=s.body}var h=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");a.set=f(function(e,t,n){return t=p(t),void 0===n?a.remove(t):(e.setAttribute(t,a.serialize(n)),e.save(l),n)}),a.get=f(function(e,t){return t=p(t),a.deserialize(e.getAttribute(t))}),a.remove=f(function(e,t){t=p(t),e.removeAttribute(t),e.save(l)}),a.clear=f(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(l);for(var n,i=0;n=t[i];i++)e.removeAttribute(n.name);e.save(l)}),a.getAll=f(function(e){for(var t,n=e.XMLDocument.documentElement.attributes,i={},o=0;t=n[o];++o){var r=p(t.name);i[t.name]=a.deserialize(e.getAttribute(r))}return i})}try{a.set(c,c),a.get(c)!=c&&(a.disabled=!0),a.remove(c)}catch(e){a.disabled=!0}a.enabled=!a.disabled,t.exports=a},{json:59}],67:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],18:[function(e,t,n){var i=e("is-empty");try{var o=e("type")}catch(t){o=e("component-type")}for(var a,r=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"],s=0;a=r[s];s++)n[a]=l(a);function l(e){return function(t){return e===o(t)}}n.fn=n.function,n.empty=i,n.nan=function(e){return n.number(e)&&e!=e}},{"is-empty":46,type:47,"component-type":47}],19:[function(e,t,n){t.exports=function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return!0;var t=e.which,n=e.button;return t||void 0===n?2===t:1&!n&&2&!n&&4&n}},{}],20:[function(e,t,n){var i=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],22:[function(e,t,n){var i=e("debug")("analytics.js:normalize"),o=e("defaults"),a=e("each"),r=e("includes"),s=e("is"),l=e("component/map"),c=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=l(t,function(e){return e.toLowerCase()}),u=e.options||{},f=u.integrations||{},p=u.providers||{},h=u.context||{},m={};return i("<-",e),a(u,function(e,t){v(e)&&(c.call(f,e)||(f[e]=t),delete u[e])}),delete u.providers,a(p,function(e,t){v(e)&&(s.object(f[e])||c.call(f,e)&&"boolean"==typeof p[e]||(f[e]=t))}),a(u,function(e){r(e,d)?m[e]=u[e]:h[e]=u[e]}),delete e.options,m.integrations=f,m.context=h,m=o(m,e),i("->",m),m;function v(e){return!(!r(e,t)&&"all"!==e.toLowerCase()&&!r(e.toLowerCase(),n))}};var d=["integrations","anonymousId","timestamp","context"]},{debug:15,defaults:16,each:4,includes:70,is:18,"component/map":71}],70:[function(e,t,n){var i;try{i=e("@ndhoule/each")}catch(t){i=e("each")}var o=String.prototype.indexOf;t.exports=function(e,t){var n=!1;return"string"==typeof t?-1!==o.call(t,e):(i(function(t){if((i=t)===(o=e)?0!==i||1/i==1/o:i!=i&&o!=o)return!(n=!0);var i,o},t),n)}},{each:72}],72:[function(e,t,n){var i;try{i=e("@ndhoule/keys")}catch(t){i=e("keys")}var o=Object.prototype.toString,a="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===o.call(e)};t.exports=function(e,t){return(function(e){return null!=e&&(a(e)||"function"!==e&&("number"===(n=_typeof(t=e.length))||"object"===n&&"[object Number]"===o.call(t)));var t,n}(t)?function(e,t){for(var n=0;n<t.length&&!1!==e(t[n],n,t);n+=1);}:function(e,t){for(var n=i(t),o=0;o<n.length&&!1!==e(t[n[o]],n[o],t);o+=1);}).call(this,e,t)}},{keys:73}],73:[function(e,t,n){var i=String.prototype.charAt,o=function(e,t){return i.call(e,t)},a=Object.prototype.hasOwnProperty,r=Object.prototype.toString,s=function(e,t){return a.call(e,t)},l=function(e,t){t=t||s;for(var n=[],i=0,o=e.length;i<o;i+=1)t(e,i)&&n.push(String(i));return n};t.exports=function(e){return null==e?[]:(t=e,"[object String]"===r.call(t)?l(e,o):null!=(n=e)&&"function"!=typeof n&&"number"==typeof n.length?l(e,s):function(e,t){t=t||s;var n=[];for(var i in e)t(e,i)&&n.push(String(i));return n}(e));var t,n}},{}],71:[function(e,t,n){var i=e("to-function");t.exports=function(e,t){var n=[];t=i(t);for(var o=0;o<e.length;++o)n.push(t(e[o],o));return n}},{"to-function":74}],74:[function(e,t,n){var i;try{i=e("props")}catch(t){i=e("component-props")}function o(e){return function(t){return e===t}}function a(e,t,n){return t.replace(new RegExp("(\\.)?"+e,"g"),function(e,t){return t?e:n})}t.exports=function e(t){switch({}.toString.call(t)){case"[object Object]":return function(t){var n={};for(var i in t)n[i]="string"==typeof t[i]?o(t[i]):e(t[i]);return function(e){if("object"!==_typeof(e))return!1;for(var t in n){if(!(t in e))return!1;if(!n[t](e[t]))return!1}return!0}}(t);case"[object Function]":return t;case"[object String]":return/^ *\W+/.test(r=t)?new Function("_","return _ "+r):new Function("_","return "+function(e){var t,n,o,r=i(e);if(!r.length)return"_."+e;for(n=0;n<r.length;n++)e=a(o=r[n],e,t="('function' == typeof "+(t="_."+o)+" ? "+t+"() : "+t+")");return e}(r));case"[object RegExp]":return n=t,function(e){return n.test(e)};default:return o(t)}var n,r}},{props:75,"component-props":75}],75:[function(e,t,n){var i=/\b(this|Array|Date|Object|Math|JSON)\b/g;t.exports=function(e,t){var n,o,a,r=function(e){for(var t=[],n=0;n<e.length;n++)~t.indexOf(e[n])||t.push(e[n]);return t}(e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^\/]+)\//g,"").replace(i,"").match(/[$a-zA-Z_]\w*/g)||[]);return t&&"string"==typeof t&&(n=t,t=function(e){return n+e}),t?(o=r,a=t,e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^\/]+)\/|[a-zA-Z_]\w*/g,function(e){return"("==e[e.length-1]?a(e):~o.indexOf(e)?a(e):e})):r}},{}],23:[function(e,t,n){n.bind=function(e,t,n,i){return e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent("on"+t,n),n},n.unbind=function(e,t,n,i){return e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent("on"+t,n),n}},{}],24:[function(e,t,n){var i=e("canonical"),o=e("includes"),a=e("url");t.exports=function(){return{path:(e=i(),e?a.parse(e).pathname:window.location.pathname),referrer:document.referrer,search:location.search,title:document.title,url:function(e){var t=i();if(t)return o("?",t)?t:t+e;var n=window.location.href,a=n.indexOf("#");return-1===a?n:n.slice(0,a)}(location.search)};var e}},{canonical:76,includes:70,url:77}],76:[function(e,t,n){t.exports=function(){for(var e,t=document.getElementsByTagName("link"),n=0;e=t[n];n++)if("canonical"==e.getAttribute("rel"))return e.getAttribute("href")}},{}],77:[function(e,t,n){n.parse=function(e){var t=document.createElement("a");return t.href=e,{href:t.href,host:t.host||location.host,port:"0"===t.port||""===t.port?function(e){switch(t.protocol){case"http:":return 80;case"https:":return 443;default:return location.port}}():t.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:"/"!=t.pathname.charAt(0)?"/"+t.pathname:t.pathname,protocol:t.protocol&&":"!=t.protocol?t.protocol:location.protocol,search:t.search,query:t.search.slice(1)}},n.isAbsolute=function(e){return 0==e.indexOf("//")||!!~e.indexOf("://")},n.isRelative=function(e){return!n.isAbsolute(e)},n.isCrossDomain=function(e){e=n.parse(e);var t=n.parse(window.location.href);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol}},{}],25:[function(e,t,n){var i=Object.prototype.toString,o=function(e){return"string"==typeof e||"[object String]"===i.call(e)};t.exports=function(e,t){if(null==t||null==(n=t)||"object"!==_typeof(n))return{};var n,a;o(e)&&(e=[e]),a=e,"[object Array]"!==i.call(a)&&(e=[]);for(var r={},s=0;s<e.length;s+=1)o(e[s])&&e[s]in t&&(r[e[s]]=t[e[s]]);return r}},{}],26:[function(e,t,n){t.exports=function(e){return(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1}},{}],27:[function(e,t,n){var i=e("trim"),o=e("type"),a=/(\w+)\[(\d+)\]/,r=function(e){try{return encodeURIComponent(e)}catch(t){return e}},s=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}};n.parse=function(e){if("string"!=typeof e)return{};if(""==(e=i(e)))return{};"?"==e.charAt(0)&&(e=e.slice(1));for(var t={},n=e.split("&"),o=0;o<n.length;o++){var r,l=n[o].split("="),c=s(l[0]);(r=a.exec(c))?(t[r[1]]=t[r[1]]||[],t[r[1]][r[2]]=s(l[1])):t[l[0]]=null==l[1]?"":s(l[1])}return t},n.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var i=e[n];if("array"!=o(i))t.push(r(n)+"="+r(e[n]));else for(var a=0;a<i.length;++a)t.push(r(n+"["+a+"]")+"="+r(i[a]))}return t.join("&")}},{trim:54,type:47}],29:[function(e,t,n){var i=e("./entity"),o=e("bind"),a=e("./cookie"),r=e("debug")("analytics:user"),s=e("inherit"),l=e("cookie"),c=e("uuid");function d(e){this.defaults=d.defaults,this.debug=r,i.call(this,e)}d.defaults={persist:!1,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},s(d,i),d.prototype.id=function(e){var t=this._getId(),n=i.prototype.id.apply(this,arguments);return null==t||t!=e&&e&&this.anonymousId(null),n},d.prototype.anonymousId=function(e){var t=this.storage();return arguments.length?(t.set("ajs_anonymous_id",e),this):(e=t.get("ajs_anonymous_id"))?e:(e=l("_sio"))?(e=e.split("----")[0],t.set("ajs_anonymous_id",e),t.remove("_sio"),e):(e=c(),t.set("ajs_anonymous_id",e),t.get("ajs_anonymous_id"))},d.prototype.logout=function(){i.prototype.logout.call(this),this.anonymousId(null)},d.prototype.load=function(){this._loadOldCookie()||i.prototype.load.call(this)},d.prototype._loadOldCookie=function(){var e=a.get(this._options.cookie.oldKey);return!!e&&(this.id(e.id),this.traits(e.traits),a.remove(this._options.cookie.oldKey),!0)},t.exports=o.all(new d),t.exports.User=d},{"./entity":66,bind:11,"./cookie":14,debug:15,inherit:67,cookie:58,uuid:78}],78:[function(e,t,n){t.exports=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}},{}],7:[function(e,t,n){t.exports={name:"analytics-core",version:"2.10.0",main:"analytics.js",dependencies:{},devDependencies:{}}},{}],3:[function(e,t,n){t.exports={amplitude:e("analytics.js-integration-amplitude"),segmentio:e("analytics.js-integration-segmentio")}},{"analytics.js-integration-amplitude":82,"analytics.js-integration-segmentio":149}],166:[function(e,t,n){var i=e("bind"),o=e("clone"),a=e("debug"),r=e("defaults"),s=e("extend"),l=e("slug"),c=e("./protos"),d=e("./statics");t.exports=function(e){function t(n){if(n&&n.addIntegration)return n.addIntegration(t);this.debug=a("analytics:integration:"+l(e)),this.options=r(o(n)||{},this.defaults),this._queue=[],this.once("ready",i(this,this.flush)),t.emit("construct",this),this.ready=i(this,this.ready),this._wrapInitialize(),this._wrapPage(),this._wrapTrack()}return t.prototype.defaults={},t.prototype.globals=[],t.prototype.templates={},t.prototype.name=e,s(t,d),s(t.prototype,c),t}},{bind:169,clone:13,debug:170,defaults:16,extend:171,slug:172,"./protos":173,"./statics":174}],169:[function(e,t,n){var i=e("bind"),o=e("bind-all");t.exports=n=i,n.all=o,n.methods=function(e,t){t=[].slice.call(arguments,1);for(var n,o=0;n=t[o];o++)e[n]=i(e,e[n]);return e}},{bind:55,"bind-all":56}],170:[function(e,t,n){"undefined"==typeof window?t.exports=e("./lib/debug"):t.exports=e("./debug")},{"./lib/debug":175,"./debug":176}],175:[function(e,t,n){var i=e("tty");t.exports=function(e){function t(){}t.enabled=!1;var n=a.some(function(t){return t.test(e)});if(n)return t;if(!(n=o.some(function(t){return t.test(e)})))return t;var i=r[l++%r.length];function u(t){t=d(t);var n,o=new Date,a=o-(s[e]||o);s[e]=o,t="  [9"+i+"m"+e+" [3"+i+"m[90m"+t+"[3"+i+"m +"+(36e5<=(n=a)?(n/36e5).toFixed(1)+"h":6e4<=n?(n/6e4).toFixed(1)+"m":1e3<=n?(n/1e3|0)+"s":n+"ms")+"[0m",console.error.apply(this,arguments)}function f(t){t=d(t),t=(new Date).toUTCString()+" "+e+" "+t,console.error.apply(this,arguments)}return u.enabled=f.enabled=!0,c||process.env.DEBUG_COLORS?u:f};var o=[],a=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(e){"-"===(e=e.replace("*",".*?"))[0]?a.push(new RegExp("^"+e.substr(1)+"$")):o.push(new RegExp("^"+e+"$"))});var r=[6,2,3,4,5,1],s={},l=0,c=i.isatty(2);function d(e){return e instanceof Error?e.stack||e.message:e}},{}],176:[function(e,t,n){function i(e){return i.enabled(e)?function(t){var n;t=(n=t)instanceof Error?n.stack||n.message:n;var o=new Date,a=o-(i[e]||o);i[e]=o,t=e+" "+t+" +"+i.humanize(a),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}(t.exports=i).names=[],i.skips=[],i.enable=function(e){try{localStorage.debug=e}catch(e){}for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;o<n;o++)"-"===(e=t[o].replace("*",".*?"))[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$"))},i.disable=function(){i.enable("")},i.humanize=function(e){return 36e5<=e?(e/36e5).toFixed(1)+"h":6e4<=e?(e/6e4).toFixed(1)+"m":1e3<=e?(e/1e3|0)+"s":e+"ms"},i.enabled=function(e){for(var t=0,n=i.skips.length;t<n;t++)if(i.skips[t].test(e))return!1;for(t=0,n=i.names.length;t<n;t++)if(i.names[t].test(e))return!0;return!1};try{window.localStorage&&i.enable(localStorage.debug)}catch(e){}},{}],171:[function(e,t,n){t.exports=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),i=0;t=n[i];i++)if(t)for(var o in t)e[o]=t[o];return e}},{}],172:[function(e,t,n){t.exports=function(e,t){return t||(t={}),e.toLowerCase().replace(t.replace||/[^a-z0-9]/g," ").replace(/^ +| +$/g,"").replace(/ +/g,t.separator||"-")}},{}],173:[function(e,t,n){var i=e("emitter"),o=e("after"),a=e("each"),r=e("analytics-events"),s=e("fmt"),l=e("foldl"),c=e("load-iframe"),d=e("load-script"),u=e("to-no-case"),f=e("next-tick"),p=e("type");function h(){}var m=Object.prototype.hasOwnProperty,v=window.onerror,g=window.setInterval,y=window.setTimeout;i(n),n.initialize=function(){var e=this.ready;f(e)},n.loaded=function(){return!1},n.page=function(e){},n.track=function(e){},n.map=function(e,t){var n=u(t);return l(function(e,t,i,o){if("array"===p(o)){if(!t.key)return e;i=t.key,t=t.value}return u(i)===n&&e.push(t),e},[],e)},n.invoke=function(e){if(this[e]){var t,n=Array.prototype.slice.call(arguments,1);if(!this._ready)return this.queue(e,n);try{this.debug("%s with %o",e,n),t=this[e].apply(this,n)}catch(t){this.debug("error %o calling %s with %o",t,e,n)}return t}},n.queue=function(e,t){if("page"===e&&this._assumesPageview&&!this._initialized)return this.page.apply(this,t);this._queue.push({method:e,args:t})},n.flush=function(){this._ready=!0;var e=this;a(this._queue,function(t){e[t.method].apply(e,t.args)}),this._queue.length=0},n.reset=function(){for(var e=0;e<this.globals.length;e++)window[this.globals[e]]=void 0;window.setTimeout=y,window.setInterval=g,window.onerror=v,window.onload=null},n.load=function(e,t,n){"function"==typeof e&&(n=e,e=t=null),e&&"object"===_typeof(e)&&(n=t,t=e,e=null),"function"==typeof t&&(n=t,t=null),e=e||"library",t=t||{},t=this.locals(t);var i=this.templates[e];if(!i)throw new Error(s('template "%s" not defined.',e));var o,r=(o=t,l(function(e,t,n){return e[n]=t.replace(/\{\{\ *(\w+)\ *\}\}/g,function(e,t){return o[t]}),e},{},i.attrs));n=n||h;var u,f=this;switch(i.type){case"img":r.width=1,r.height=1,u=function(e,t){t=t||function(){};var n,i,o=new Image;return o.onerror=(n=t,"failed to load pixel",i=o,function(e){e=e||window.event;var t=new Error("failed to load pixel");t.event=e,t.source=i,n(t)}),o.onload=function(){t()},o.src=e.src,o.width=1,o.height=1,o}(r,n);break;case"script":u=d(r,function(e){if(!e)return n();f.debug('error loading "%s" error="%s"',f.name,e)}),delete r.src,a(r,function(e,t){u.setAttribute(e,t)});break;case"iframe":u=c(r,n)}return u},n.locals=function(e){e=e||{};var t=Math.floor((new Date).getTime()/36e5);return e.hasOwnProperty("cache")||(e.cache=t),a(this.options,function(t,n){e.hasOwnProperty(t)||(e[t]=n)}),e},n.ready=function(){this.emit("ready")},n._wrapInitialize=function(){var e=this.initialize;this.initialize=function(){this.debug("initialize"),this._initialized=!0;var t=e.apply(this,arguments);return this.emit("initialize"),t},this._assumesPageview&&(this.initialize=o(2,this.initialize))},n._wrapPage=function(){var e=this.page;this.page=function(){return this._assumesPageview&&!this._initialized?this.initialize.apply(this,arguments):e.apply(this,arguments)}},n._wrapTrack=function(){var e=this.track;this.track=function(t){var n,i,o=t.event();for(var a in r)if(m.call(r,a)){var s=r[a];if(!this[a])continue;if(!s.test(o))continue;i=this[a].apply(this,arguments),n=!0;break}return n||(i=e.apply(this,arguments)),i}}},{emitter:8,after:10,each:177,"analytics-events":178,fmt:179,foldl:180,"load-iframe":181,"load-script":182,"to-no-case":183,"next-tick":57,type:184}],177:[function(e,t,n){try{var i=e("type")}catch(t){i=e("component-type")}var o=e("to-function"),a=Object.prototype.hasOwnProperty;function r(e,t,n){for(var i=0;i<e.length;++i)t.call(n,e[i],i)}t.exports=function(e,t,n){switch(t=o(t),n=n||this,i(e)){case"array":return r(e,t,n);case"object":return"number"==typeof e.length?r(e,t,n):function(e,t,n){for(var i in e)a.call(e,i)&&t.call(n,i,e[i])}(e,t,n);case"string":return function(e,t,n){for(var i=0;i<e.length;++i)t.call(n,e.charAt(i),i)}(e,t,n)}}},{type:184,"component-type":184,"to-function":74}],184:[function(e,t,n){var i=Object.prototype.toString;t.exports=function(e){switch(i.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return null===e?"null":void 0===e?"undefined":e&&1===e.nodeType?"element":e===Object(e)?"object":_typeof(e)}},{}],178:[function(e,t,n){t.exports={removedProduct:/^[ _]?removed[ _]?product[ _]?$/i,viewedProduct:/^[ _]?viewed[ _]?product[ _]?$/i,viewedProductCategory:/^[ _]?viewed[ _]?product[ _]?category[ _]?$/i,addedProduct:/^[ _]?added[ _]?product[ _]?$/i,completedOrder:/^[ _]?completed[ _]?order[ _]?$/i,startedOrder:/^[ _]?started[ _]?order[ _]?$/i,updatedOrder:/^[ _]?updated[ _]?order[ _]?$/i,refundedOrder:/^[ _]?refunded?[ _]?order[ _]?$/i,viewedProductDetails:/^[ _]?viewed[ _]?product[ _]?details?[ _]?$/i,clickedProduct:/^[ _]?clicked[ _]?product[ _]?$/i,viewedPromotion:/^[ _]?viewed[ _]?promotion?[ _]?$/i,clickedPromotion:/^[ _]?clicked[ _]?promotion?[ _]?$/i,viewedCheckoutStep:/^[ _]?viewed[ _]?checkout[ _]?step[ _]?$/i,completedCheckoutStep:/^[ _]?completed[ _]?checkout[ _]?step[ _]?$/i}},{}],179:[function(e,t,n){var i=window.JSON?JSON.stringify:function(e){return String(e)};function o(e){var t=[].slice.call(arguments,1),n=0;return e.replace(/%([a-z])/gi,function(e,i){return o[i]?o[i](t[n++]):e+i})}(t.exports=o).o=i,o.s=String,o.d=parseInt},{}],180:[function(e,t,n){var i;try{i=e("@ndhoule/each")}catch(t){i=e("each")}t.exports=function(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function but received a "+_typeof(e));return i(function(n,i,o){t=e(t,n,i,o)},n),t}},{each:72}],181:[function(e,t,n){var i=e("script-onload"),o=e("next-tick"),a=e("type");t.exports=function(e,t){if(!e)throw new Error("Cant load nothing...");"string"==a(e)&&(e={src:e});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=n?"https:"+e.src:"http:"+e.src),n&&e.https?e.src=e.https:!n&&e.http&&(e.src=e.http);var r=document.createElement("iframe");return r.src=e.src,r.width=e.width||1,r.height=e.height||1,r.style.display="none","function"==a(t)&&i(r,t),o(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(r,e)}),r}},{"script-onload":185,"next-tick":57,type:47}],185:[function(e,t,n){t.exports=function(e,t){return e.addEventListener?(a=t,(o=e).addEventListener("load",function(e,t){a(null,t)},!1),void o.addEventListener("error",function(e){var t=new Error('script error "'+o.src+'"');t.event=e,a(t)},!1)):(i=t,(n=e).attachEvent("onreadystatechange",function(e){/complete|loaded/.test(n.readyState)&&i(null,e)}),void n.attachEvent("onerror",function(e){var t=new Error('failed to load the script "'+n.src+'"');t.event=e||window.event,i(t)}));var n,i,o,a}},{}],182:[function(e,t,n){var i=e("script-onload"),o=e("next-tick"),a=e("type");t.exports=function(e,t){if(!e)throw new Error("Cant load nothing...");"string"==a(e)&&(e={src:e});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=n?"https:"+e.src:"http:"+e.src),n&&e.https?e.src=e.https:!n&&e.http&&(e.src=e.http);var r=document.createElement("script");return r.type="text/javascript",r.async=!0,r.src=e.src,"function"==a(t)&&i(r,t),o(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(r,e)}),r}},{"script-onload":185,"next-tick":57,type:47}],183:[function(e,t,n){t.exports=function(e){return i.test(e)?e.toLowerCase():o.test(e)?(n=e,n.replace(a,function(e,t){return t?" "+t:""})).toLowerCase():(t=e,t.replace(r,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})).toLowerCase();var t,n};var i=/\s/,o=/[\W_]/,a=/[\W_]+(.|$)/g,r=/(.)([A-Z]+)/g},{}],174:[function(e,t,n){var i=e("emitter"),o=e("domify"),a=e("each"),r=e("includes");i(n),n.option=function(e,t){return this.prototype.defaults[e]=t,this},n.mapping=function(e){return this.option(e,[]),this.prototype[e]=function(t){return this.map(this.options[e],t)},this},n.global=function(e){return this.prototype.globals.push(e),this},n.assumesPageview=function(){return this.prototype._assumesPageview=!0,this},n.readyOnLoad=function(){return this.prototype._readyOnLoad=!0,this},n.readyOnInitialize=function(){return this.prototype._readyOnInitialize=!0,this},n.tag=function(e,t){return null==t&&(t=e,e="library"),this.prototype.templates[e]=function(e){e=e.replace(' src="',' data-src="');var t=o(e),n={};return a(t.attributes,function(t){var i="data-src"===t.name?"src":t.name;r(t.name+"=",e)&&(n[i]=t.value)}),{type:t.tagName.toLowerCase(),attrs:n}}(t),this}},{emitter:8,domify:186,each:177,includes:70}],186:[function(e,t,n){t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i){var o=t.createElement("html");return o.innerHTML=e,o.removeChild(o.lastChild)}var r=a[i]||a._default,s=r[0],l=r[1],c=r[2];for((o=t.createElement("div")).innerHTML=l+e+c;s--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);for(var d=t.createDocumentFragment();o.firstChild;)d.appendChild(o.removeChild(o.firstChild));return d};var i=document.createElement("div");i.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';var o=!i.getElementsByTagName("link").length;i=void 0;var a={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:o?[1,"X<div>","</div>"]:[0,"",""]};a.td=a.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],a.option=a.optgroup=[1,'<select multiple="multiple">',"</select>"],a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,"<table>","</table>"],a.polyline=a.ellipse=a.polygon=a.circle=a.text=a.line=a.path=a.rect=a.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],167:[function(e,t,n){var i=e("to-space-case");t.exports=function(e){return i(e).replace(/\s/g,"_")}},{"to-space-case":187}],187:[function(e,t,n){var i=e("to-no-case");t.exports=function(e){return i(e).replace(/[\W_]+(.|$)/g,function(e,t){return t?" "+t:""})}},{"to-no-case":188}],188:[function(e,t,n){t.exports=function(e){return i.test(e)?e.toLowerCase():(a.test(e)&&(e=e.replace(r,function(e,t){return t?" "+t:""})),o.test(e)&&(e=e.replace(s,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})),e.toLowerCase())};var i=/\s/,o=/[a-z][A-Z]/,a=/[\W_]/,r=/[\W_]+(.|$)/g,s=/(.)([A-Z]+)/g},{}],168:[function(e,t,n){function i(){return"https:"==location.protocol||"chrome-extension:"==location.protocol}t.exports=function(e){switch(arguments.length){case 0:return i();case 1:return t=e,i()?"https:"+t:"http:"+t}var t}},{}],82:[function(e,t,n){var i=e("bind"),o=e("analytics.js-integration"),a=e("top-domain"),r=e("when"),s=(e("is"),e("each"),"function"==typeof window.define&&window.define.amd),l="https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-4.1.1-min.js",c=t.exports=o("Amplitude").global("amplitude").option("apiKey","").option("trackAllPages",!1).option("trackNamedPages",!0).option("trackCategorizedPages",!0).option("trackUtmProperties",!0).option("trackReferrer",!1).option("batchEvents",!1).option("eventUploadThreshold",30).option("eventUploadPeriodMillis",3e4).option("useLogRevenueV2",!1).option("forceHttps",!1).option("trackGclid",!1).option("saveParamsReferrerOncePerSession",!0).option("deviceIdFromUrlParam",!1).option("mapQueryParams",{}).tag('<script src="'+l+'">');c.prototype.initialize=function(){!function(e,t){var n=e.amplitude||{_q:[]};function i(e,t){e.prototype[t]=function(){return this._q.push([t].concat(Array.prototype.slice.call(arguments,0))),this}}for(var o=function(){return this._q=[],this},a=["add","append","clearAll","prepend","set","setOnce","unset"],r=0;r<a.length;r++)i(o,a[r]);n.Identify=o;for(var s=function(){return this._q=[],this},l=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],c=0;c<l.length;c++)i(s,l[c]);n.Revenue=s;var d=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId"];!function(e){function t(t){e[t]=function(){e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}}for(var n=0;n<d.length;n++)t(d[n])}(n),e.amplitude=n}(window,document),this.setDomain(window.location.href),window.amplitude.init(this.options.apiKey,null,{includeUtm:this.options.trackUtmProperties,includeReferrer:this.options.trackReferrer,batchEvents:this.options.batchEvents,eventUploadThreshold:this.options.eventUploadThreshold,eventUploadPeriodMillis:this.options.eventUploadPeriodMillis,forceHttps:this.options.forceHttps,includeGclid:this.options.trackGclid,saveParamsReferrerOncePerSession:this.options.saveParamsReferrerOncePerSession,deviceIdFromUrlParam:this.options.deviceIdFromUrlParam});var e=i(this,this.loaded),t=this.ready;s?window.require([l],function(n){window.amplitude=n,r(e,function(){window.amplitude.runQueuedFunctions(),t()})}):this.load(function(){r(e,function(){window.amplitude.runQueuedFunctions(),t()})})},c.prototype.loaded=function(){return!(!window.amplitude||!window.amplitude.options)},c.prototype.page=function(e){var t=e.category(),n=e.fullName(),i=this.options;i.trackAllPages&&this.track(e.track()),t&&i.trackCategorizedPages&&this.track(e.track(t)),n&&i.trackNamedPages&&this.track(e.track(n))},c.prototype.identify=function(e){var t=e.userId(),n=e.traits();t&&window.amplitude.setUserId(t),n&&window.amplitude.setUserProperties(n)},c.prototype.track=function(e){var t=e.properties(),n=e.event(),i=e.revenue();window.amplitude.logEvent(n,t),i&&window.amplitude.logRevenue(i,t.quantity,t.productId)},c.prototype.setDomain=function(e){var t=a(e);window.amplitude.setDomain(t)},c.prototype.setDeviceId=function(e){e&&window.amplitude.setDeviceId(e)}},{each:4,bind:55,"analytics.js-integration":166,is:18,"top-domain":189,when:198}],189:[function(e,t,n){var i=e("url").parse;t.exports=function(e){var t=i(e).hostname.match(o);return t?t[0]:""};var o=/[a-z0-9][a-z0-9\-]*[a-z0-9]\.[a-z\.]{2,6}$/i},{url:64}],190:[function(e,t,n){var i=e("script-onload"),o=e("next-tick"),a=e("type");t.exports=function(e,t){if(!e)throw new Error("Cant load nothing...");"string"==a(e)&&(e={src:e});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=n?"https:"+e.src:"http:"+e.src),n&&e.https?e.src=e.https:!n&&e.http&&(e.src=e.http);var r=document.createElement("script");return r.type="text/javascript",r.async=!0,r.src=e.src,"function"==a(t)&&i(r,t),o(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(r,e)}),r}},{"script-onload":185,"next-tick":57,type:47}],191:[function(e,t,n){var i=encodeURIComponent,o=decodeURIComponent,a=e("trim"),r=e("type");n.parse=function(e){if("string"!=typeof e)return{};if(""==(e=a(e)))return{};"?"==e.charAt(0)&&(e=e.slice(1));for(var t={},n=e.split("&"),i=0;i<n.length;i++){var r,s=n[i].split("="),l=o(s[0]);(r=/(\w+)\[(\d+)\]/.exec(l))?(t[r[1]]=t[r[1]]||[],t[r[1]][r[2]]=o(s[1])):t[s[0]]=null==s[1]?"":o(s[1])}return t},n.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var o=e[n];if("array"!=r(o))t.push(i(n)+"="+i(e[n]));else for(var a=0;a<o.length;++a)t.push(i(n+"["+a+"]")+"="+i(o[a]))}return t.join("&")}},{trim:54,type:47}],192:[function(e,t,n){t.exports=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}},{}],193:[function(e,t,n){var i=e("each"),o=!1,a=[];t.exports=function(e){o?s(e):a.push(e)};var r=setInterval(function(){document.body&&(o=!0,i(a,s),clearInterval(r))},5);function s(e){e(document.body)}},{each:177}],195:[function(e,t,n){function i(e){var t=e.toString();return 1===t.length?"0"+t:t}t.exports=function(e){return e.getUTCFullYear()+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}},{}],196:[function(e,t,n){t.exports=function(e,t){return t=t||{},function(n){n=[].slice.call(arguments),window[e]||(window[e]=[]),!1===t.wrap?window[e].push.apply(window[e],n):window[e].push(n)}}},{}],197:[function(e,t,n){t.exports=function(e,t){var n,i=0;return function(){var o=(new Date).getTime();return t<=o-i&&(n=e.apply(this,arguments),i=o),n}}},{}],198:[function(e,t,n){var i=e("callback");t.exports=function(e,t,n){if(e())return i.async(t);var o=setInterval(function(){e()&&(i(t),clearInterval(o))},n||10)}},{callback:12}],199:[function(e,t,n){var i=e("type");try{var o=e("clone")}catch(t){o=e("clone-component")}t.exports=function(e,t){switch(i(t)){case"object":return function(e,t){for(var n in t)void 0!==e[n]&&(e[t[n]]=e[n],delete e[n]);return e}(o(e),t);case"function":return function(e,t){var n={};for(var i in e)n[t(i)]=e[i];return n}(o(e),t)}}},{type:47,clone:49}],200:[function(e,t,n){var i=e("is");try{var o=e("clone")}catch(t){o=e("clone-component")}t.exports=function e(t,n){for(var a in t=o(t)){var r=t[a];i.date(r)&&(t[a]=n(r)),i.object(r)&&(t[a]=e(r,n))}return t}},{is:18,clone:13}],202:[function(e,t,n){var i=e("each");t.exports=function(e,t,n){return i(e,function(i,o){t=n.call(null,t,i,o,e)}),t}},{each:177}],203:[function(e,t,n){var i=e("to-space-case");t.exports=function(e){return i(e).replace(/\s(\w)/g,function(e,t){return t.toUpperCase()})}},{"to-space-case":187}],204:[function(e,t,n){var i=e("to-function");t.exports=function(e,t){var n=[];t=i(t);for(var o=0;o<e.length;++o)t(e[o],o)&&n.push(e[o]);return n}},{"to-function":74}],205:[function(e,t,n){t.exports=function(e,t){var n={};for(var i in t)n[i]=t[i];for(var o=0;o<e.length;o++)delete n[e[o]];return n}},{}],206:[function(e,t,n){t.exports=function(e){for(var t,n=[].slice.call(arguments,1),i={},o=0;t=n[o];o++)t in e&&(i[t]=e[t]);return i}},{}],207:[function(e,t,n){var i=[].some;t.exports=function(e,t){if(i)return i.call(e,t);for(var n=0,o=e.length;n<o;++n)if(t(e[n],n))return!0;return!1}},{}],208:[function(e,t,n){t.exports=function(e,t,n){for(var i=0,o=e.length,a=3==arguments.length?n:e[i++];i<o;)a=t.call(null,a,e[i],++i,e);return a}},{}],149:[function(e,t,n){var i=e("ad-params"),o=e("clone"),a=e("cookie"),r=e("extend"),s=e("analytics.js-integration"),l=e("segmentio/json@1.0.0"),c=e("store"),d=e("protocol"),u=e("send-json"),f=e("top-domain"),p=e("utm-params"),h=e("uuid"),m={maxage:31536e6,secure:!1,path:"/"},v=n=t.exports=s("Segment.io").option("segmentUrl","http://blackhole.brilliang.org").option("apiKey","");function g(){}n.storage=function(){return"file:"===d()||"chrome-extension:"===d()?c:a},n.global=window,v.prototype.initialize=function(){var e=this;this.ready(),this.analytics.on("invoke",function(t){var n=t.action(),i="on"+t.action();e.debug("%s %o",n,t),e[i]&&e[i](t),e.ready()})},v.prototype.loaded=function(){return!0},v.prototype.onpage=function(e){},v.prototype.onidentify=function(e){},v.prototype.ongroup=function(e){},v.prototype.ontrack=function(e){var t=e.json();delete t.traits,this.send("/analytics/track/",t)},v.prototype.onalias=function(e){},v.prototype.normalize=function(e){this.debug("normalize %o",e);var t=this.analytics.user(),i=n.global.location.search,o=e.context=e.context||e.options||{};return delete e.options,e.writeKey=this.options.apiKey,o.userAgent=navigator.userAgent,o.library||(o.library={name:"analytics.js",version:this.analytics.VERSION}),i&&(o.campaign=p(i)),this.referrerId(i,o),e.userId=e.userId||t.id(),e.anonymousId=t.anonymousId(),e.messageId=h(),e.sentAt=new Date,this.debug("normalized %o",e),e},v.prototype.send=function(e,t,n){var i=this.options.segmentUrl+e;n=n||g;var o=this;t=this.normalize(t),u(i,t,{"Content-Type":"text/plain"},function(e,a){if(o.debug("sent %O, received %O",t,arguments),e)return n(e);a.url=i,n(null,a)})},v.prototype.cookie=function(e,t){var i=v.storage();if(1===arguments.length)return i(e);var a=n.global.location.href,r="."+f(a);"."===r&&(r=""),this.debug("store domain %s -> %s",a,r);var s=o(m);s.domain=r,this.debug("store %s, %s, %o",e,t,s),i(e,t,s),i(e)||(delete s.domain,this.debug("fallback store %s, %s, %o",e,t,s),i(e,t,s))},v.prototype.referrerId=function(e,t){var n,o=this.cookie("s:context.referrer");o&&(o=l.parse(o)),e&&(n=i(e)),(n=n||o)&&(t.referrer=r(t.referrer||{},n),this.cookie("s:context.referrer",l.stringify(n)))}},{"ad-params":209,clone:13,cookie:58,extend:68,"analytics.js-integration":166,"segmentio/json@1.0.0":59,store:210,protocol:211,"send-json":212,"top-domain":189,"utm-params":213,uuid:78}],209:[function(e,t,n){var i=e("querystring").parse;t.exports=function(e){var t=i(e);for(var n in t)for(var a in o)if(n===a)return{id:t[n],type:o[a]}};var o={btid:"dataxu",urid:"millennial-media"}},{querystring:27}],210:[function(e,t,n){var i,o=e("unserialize"),a=e("each");try{i=window.localStorage}catch(e){i=null}function r(e,t){return null==t?i.removeItem(e):i.setItem(e,JSON.stringify(t))}function s(e){return o(i.getItem(e))}(t.exports=function(e,t){var n=arguments.length;return 0==n?function(){for(var e,t=i.length,n={};0<=--t;)n[e=i.key(t)]=s(e);return n}():2<=n?r(e,t):1==n?null==e?i.clear():"string"==typeof e?s(e):"object"==_typeof(e)?a(e,r):void 0:void 0}).supported=!!i},{unserialize:214,each:177}],214:[function(e,t,n){t.exports=function(e){try{return JSON.parse(e)}catch(t){return e||void 0}}},{}],211:[function(e,t,n){var i,o=Object.defineProperty,a=window.location.protocol;function r(e){try{o(window.location,"protocol",{get:function(){return e}})}catch(t){i=e}}t.exports=function(e){return 0===arguments.length?i||window.location.protocol:r(e)},t.exports.http=function(){r("http:")},t.exports.https=function(){r("https:")},t.exports.reset=function(){r(a)}},{}],212:[function(e,t,n){var i=e("base64-encode"),o=e("has-cors"),a=e("jsonp"),r=e("json");function s(e,t,n,i){3==arguments.length&&(i=n,n={});var o=new XMLHttpRequest;for(var a in o.onerror=i,o.onreadystatechange=function(){if(4==o.readyState)return i(null,o)},o.open("POST",e,!0),n)o.setRequestHeader(a,n[a]);o.send(r.stringify(t))}function l(e,t,o,s){3==arguments.length&&(s=o);var l=n.prefix;t=i(r.stringify(t)),t=encodeURIComponent(t),a(e+="?"+l+"="+t,{param:n.callback},function(t,n){if(t)return s(t);s(null,{url:e,body:n})})}(n=t.exports=o?s:l).callback="callback",n.prefix="data",n.json=s,n.base64=l,n.type=o?"xhr":"jsonp"},{"base64-encode":215,"has-cors":216,jsonp:217,json:59}],215:[function(e,t,n){var i=e("utf8-encode"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.exports=function(e){var t,n,a,r,s,l,c,d="",u=0;for(e=i(e);u<e.length;)r=(t=e.charCodeAt(u++))>>2,s=(3&t)<<4|(n=e.charCodeAt(u++))>>4,l=(15&n)<<2|(a=e.charCodeAt(u++))>>6,c=63&a,isNaN(n)?l=c=64:isNaN(a)&&(c=64),d=d+o.charAt(r)+o.charAt(s)+o.charAt(l)+o.charAt(c);return d}},{"utf8-encode":218}],218:[function(e,t,n){t.exports=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):(127<i&&i<2048?t+=String.fromCharCode(i>>6|192):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128)),t+=String.fromCharCode(63&i|128))}return t}},{}],216:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],217:[function(e,t,n){var i=e("debug")("jsonp");t.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),t||(t={});var r,s,l=t.prefix||"__jp",c=t.param||"callback",d=null!=t.timeout?t.timeout:6e4,u=encodeURIComponent,f=document.getElementsByTagName("script")[0]||document.head,p=l+o++;function h(){r.parentNode.removeChild(r),window[p]=a}d&&(s=setTimeout(function(){h(),n&&n(new Error("Timeout"))},d)),window[p]=function(e){i("jsonp got",e),s&&clearTimeout(s),h(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+c+"="+u(p)).replace("?&","?"),i('jsonp req "%s"',e),(r=document.createElement("script")).src=e,f.parentNode.insertBefore(r,f)};var o=0;function a(){}},{debug:15}],213:[function(e,t,n){var i=e("querystring").parse;t.exports=function(e){"?"==e.charAt(0)&&(e=e.substring(1));e=e.replace(/\?/g,"&");var t,n=i(e),o={};for(var a in n)~a.indexOf("utm_")&&("campaign"==(t=a.substr(4))&&(t="name"),o[t]=n[a]);return o}},{querystring:27}],219:[function(e,t,n){t.exports=function(e){return Math.floor(e.getTime()/1e3)}},{}],5:[function(e,t,n){t.exports={name:"analytics",version:"2.11.0",main:"analytics.js",dependencies:{},devDependencies:{}}},{}]},{},{1:""}),"object"===_typeof(exports)?module.exports=IGa("1"):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return IGa("1")}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__(22))},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visualizationsPrefetchHandler=function(e){for(var t,i,o=/"type": ?"(.*?)"/g;null!==(t=o.exec(e));){switch((2,function(e){if(Array.isArray(e))return e}(i=t)||function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),2!==n.length);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}())[1]){case"CANVAS":Promise.all([n.e(2),n.e(64),n.e(69)]).then(n.t.bind(null,72,7));break;case"COIN_FLIP":Promise.all([n.e(5),n.e(70)]).then(n.t.bind(null,73,7));break;case"GRAPH_2D":Promise.all([n.e(0),n.e(3),n.e(1),n.e(2),n.e(5),n.e(4),n.e(6),n.e(72)]).then(n.t.bind(null,70,7));break;case"GRAPH_3D":Promise.all([n.e(0),n.e(3),n.e(1),n.e(2),n.e(5),n.e(4),n.e(65),n.e(6),n.e(71)]).then(n.t.bind(null,74,7));break;case"HUYGENS_CLOCK":Promise.all([n.e(2),n.e(73)]).then(n.t.bind(null,75,7));break;case"OPERATOR_SEARCH":Promise.all([n.e(0),n.e(3),n.e(76)]).then(n.t.bind(null,76,7));break;case"JAVASCRIPT":Promise.all([n.e(0),n.e(74)]).then(n.t.bind(null,71,7));break;case"QUANTUM_CIRCUIT":Promise.all([n.e(0),n.e(3),n.e(66),n.e(77)]).then(n.t.bind(null,77,7));break;case"LOGIC_CIRCUIT":Promise.all([n.e(0),n.e(75)]).then(n.t.bind(null,78,7))}}},t.getModuleForVisualizationType=p,t.renderVisualization=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.data(),i=n.visualizationkey,o=d[i];if(o)return o.resume(e),Promise.resolve();var r=window[i],s=r.visualization,l=s.slug,u=s.type;return t||(d[i]=new f(e,i,l,n)),c||(document.body.dataset.mediaBaseUrl=n.mediaurl,c=!0),e.on("click touchstart",function(){(0,a.track)("ui",{action:"clicked_visualization",visualization_name:l})}),p(u).then(function(t){return t.default(e,i,r)})},t.getExistingVisualization=function(e){return d[e]||null};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(3),r=n(1),s=n(7);function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=!1,d={},u=["potw_problemset","potw_problemset_default","quizzes_problemset","assessment_public_solvable_logged_in","quizzes_interstitial_pane"],f=function(){function e(t,n,i,o){var a=this;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.$container=t,this.$content=this.$container.find(".content"),this.key=n,this.slug=i,this.data=o,this.stash=this.stash.bind(this),this.initEventKeys(),this.bindEvents(),this.waitUntilVisible().then(function(){a.trackVisualizationViewed()})}var t,n;return t=e,(n=[{key:"initEventKeys",value:function(){var e="viz".concat(this.key),t=u.map(function(t){return"".concat(s.EVT_VKEY_BEFORE_UPDATE,".").concat(t,".").concat(e)}).join(" "),n="".concat(s.EVT_QUIZ_POSITION_LOADING,".").concat(e),i="".concat(s.EVT_QUIZ_POSITION_WILL_CHANGE,".").concat(e);this.events={quizPositionDidChange:"".concat(s.EVT_QUIZ_POSITION_DID_CHANGE,".").concat(e),stashableEventGroup:[t,n,i].join(" ")}}},{key:"resume",value:function(e){this.unstash(e),this.trackVisualizationViewed()}},{key:"bindEvents",value:function(){r.userIsAuthenticated&&r.$window.on(this.events.stashableEventGroup,this.stash)}},{key:"unbindEvents",value:function(){r.userIsAuthenticated&&r.$window.off(this.events.stashableEventGroup)}},{key:"stash",value:function(){var e=this,t=("",(0,o.default)("<div />").html(""));Object.keys(this.data).forEach(function(n){t.attr("data-".concat(n),e.data[n])}),this.$container.after(t),r.$body.append(this.$container),this.$container.addClass("stashed"),this.$container.find('script[type="math/tex"]').remove(),this.unbindEvents()}},{key:"unstash",value:function(e){e.replaceWith(this.$container),this.$container.removeClass("stashed"),this.bindEvents()}},{key:"waitUntilVisible",value:function(){var e=this;return new Promise(function(t){setTimeout(function(){e.$container.is(":visible")?t():r.$window.on(e.events.quizPositionDidChange,function(){e.$container.is(":visible")&&(t(),r.$window.off(e.events.quizPositionDidChange))})},1)})}},{key:"trackVisualizationViewed",value:function(){(0,a.track)("ui",{action:"viewed_visualization",visualization_name:this.slug})}}])&&l(t.prototype,n),e}();function p(e){switch(e){case"CANVAS":return Promise.all([n.e(2),n.e(64),n.e(69)]).then(n.t.bind(null,72,7));case"COIN_FLIP":return Promise.all([n.e(5),n.e(70)]).then(n.t.bind(null,73,7));case"GRAPH_2D":return Promise.all([n.e(0),n.e(3),n.e(1),n.e(2),n.e(5),n.e(4),n.e(6),n.e(72)]).then(n.t.bind(null,70,7));case"GRAPH_3D":return Promise.all([n.e(0),n.e(3),n.e(1),n.e(2),n.e(5),n.e(4),n.e(65),n.e(6),n.e(71)]).then(n.t.bind(null,74,7));case"HUYGENS_CLOCK":return Promise.all([n.e(2),n.e(73)]).then(n.t.bind(null,75,7));case"OPERATOR_SEARCH":return Promise.all([n.e(0),n.e(3),n.e(76)]).then(n.t.bind(null,76,7));case"QUANTUM_CIRCUIT":return Promise.all([n.e(0),n.e(3),n.e(66),n.e(77)]).then(n.t.bind(null,77,7));case"LOGIC_CIRCUIT":return Promise.all([n.e(0),n.e(75)]).then(n.t.bind(null,78,7));case"JAVASCRIPT":return Promise.all([n.e(0),n.e(75)]).then(n.t.bind(null,71,7));default:throw new Error("Unknown visualization type '".concat(e,"'"))}}},5:function(e,t,n){"use strict";var i=c(n(0)),o=c(n(2)),a=n(3),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(24)),s=n(1),l=n(12);function c(e){return e&&e.__esModule?e:{default:e}}var d,u={CustomSelectbox:function(e){var t=(0,i.default)("select",e),n=(0,i.default)(".dropdown-toggle",e),o=(0,i.default)(".dropdown-menu a",e),a="active";o.on("click",function(e){var r=(0,i.default)(this);e.preventDefault(),r.hasClass("disabled")||(n.find("span:first").html(r.html()),t.val(r.data("opt-value")),t.trigger("change"),o.filter(".active").removeClass(a),r.addClass(a))}),o.filter(".active").trigger("click")}};u.Anchors=new function(){var e=this;return e.scrollToTarget=function(e,t){t=t||function(){};var n=e.parents(".nf-feeditem-modal").first();if(n.length&&n[0].scrollHeight==n.outerHeight()&&(n=(0,i.default)()),e.length){var o,a=e.offset().top,r=0;if(n.length||(s.isMobile?o=(0,i.default)(".m-action-bar"):s.userIsAuthenticated&&(o=(0,s.jqGetElemById)("header"))),!e.hasClass("anchor")&&o&&o.each(function(e,t){r+=(0,i.default)(t).outerHeight()}),n.length){var l=a-n.offset().top;(0,s.setScrollPosition)(l+n.scrollTop()-r,{$container:n,animate:!0,callback:t})}else(0,s.setScrollPosition)(a-r,{animate:!0,callback:t})}else t()},e.controller=function(t){(0,s.jqOffOn)(t,"click.scrolltotarget",function(n){n.preventDefault(),e.scrollToTarget((0,i.default)(t.data("target")))})},e.init=function(){var t=window.location.hash,n=(0,s.jqGetElemById)(t.substr(1));t&&t.length&&!n.hasClass("anchor")&&((0,s.setScrollPosition)(0),setTimeout(function(){(0,s.setScrollPosition)(0),e.scrollToTarget(n)},10)),s.$document.on("click",'a[href^="#"]',function(t){t.preventDefault();var n=(0,i.default)(t.currentTarget).attr("href").substr(1);if(n&&n.length){var o=(0,s.jqGetElemById)(n);o.length&&(e.scrollToTarget(o),window.location.hash=n)}})},e},u.scrollFixedElements=function(){var e=[{$elem:(0,s.jqGetElemById)("header"),shiftProperty:"margin-left"},{$elem:(0,i.default)(".course-hero-col .bg"),shiftProperty:"left"}],t=0,n=!1;if(0!==(e=e.filter(function(e){return 0<e.$elem.length})).length){var o=function(){var n=s.$window.scrollLeft();n!==t&&(e.forEach(function(e){e.offset=e.offset||parseInt(e.$elem.css(e.shiftProperty),10);var i=e.offset-(n-t);e.$elem.css(e.shiftProperty,"".concat(i,"px")),e.offset=i}),t=n)},a=function(){var t=document.documentElement,i=t.scrollWidth,a=t.clientWidth;!n&&a<i&&(o(),s.$window.on("scroll",o),n=!0),n&&i===a&&(e.forEach(function(e){return e.$elem.css(e.shiftProperty,"")}),s.$window.off("scroll",o),n=!1)};a(),s.$window.on("resize",a)}},u.crop=function(e){o.default.defer(function(){if(!s.isMobile||0<=navigator.userAgent.toLowerCase().indexOf("android"))s.$body.toggleClass("cropped",!1!==e);else{var t=s.$body.children(".modal-bg");!1!==e?t.on("touchstart.crop",function(e){this.allowUp=0<this.scrollTop,this.allowDown=this.scrollTop<this.scrollHeight-this.clientHeight,this.lastY=e.originalEvent.pageY}).on("touchmove.crop",function(e){var t=e.originalEvent,n=t.pageY>this.lastY,i=!n;this.lastY=t.pageY,n&&this.allowUp||i&&this.allowDown?t.stopPropagation():t.preventDefault()}):t.off(".crop")}})},u.sticky=function(e){e.affix({offset:{top:e.offset().top+(e.data("offset-top")||0)}})},u.toggleButtonLoadingState=(d=null,function(e,t){if(t&&!d){var n=(0,i.default)("<span/>").text(".").addClass("dot").css("visibility","hidden"),o=n.clone(),a=e.find(".b2-flag").clone(),r=1;e.data("original-text",e.text()).text("Loading.").append(n,o).append(a),d=setInterval(function(){r=3==r?1:r+1,n.css("visibility",1<r?"visible":"hidden"),o.css("visibility",3==r?"visible":"hidden")},333)}else d&&(e.html(e.data("original-text")),clearInterval(d),d=null)}),u.showConfirmationModal=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.title,n=void 0===t?"Are you sure?":t,o=e.text,a=e.cancelBtnText,r=void 0===a?"Cancel":a,l=e.confirmBtnText,c=void 0===l?"OK":l,d=e.classes,u=void 0===d?"":d;return new Promise(function(e){var t=!1,a=o?"<p>".concat(o,"</p>"):"";(0,s.jqGetElemById)("confirm-modal").remove();var l='<div class="modal hide '.concat(n?"":"no-title"," ").concat(u,'" id="confirm-modal">\n            <div class="modal-header"><h3>').concat(n,'</h3></div>\n            <div class="modal-body">').concat(a,'</div>\n            <div class="modal-footer">\n                <a href="#" class="btn cancel" data-dismiss="modal">').concat(r,'</a>\n                <a href="#" class="btn btn-accent confirm">').concat(c,"</a>\n            </div>\n        </div>");l=l.replace(/>\s+</g,"><"),s.$body.append(l);var d=(0,s.jqGetElemById)("confirm-modal");d.find(".confirm").on("click",function(e){e.preventDefault(),t=!0,d.modal("hide")}),d.on("hide",function(){e(t)}),(0,i.default)("body #confirm-modal").modal()})},u.areYouSure=function(e){var t=!1;e.on("click",function(n){t||(n.preventDefault(),u.showConfirmationModal({title:e.data("confirm-box-title")}).then(function(n){n&&(t=!0,e.trigger("click"))}))})},u.modalController=function(e){var t=e.data();e.on("show",function(){t.axId&&setTimeout(function(){(0,a.track)("ui",{action:"modal",element_type:"modal",element_id:t.axId})},1),t.flag&&r.update(t.flag,!0)}),e.modal({show:!1});var n=!0;t.trigger&&((0,i.default)(t.trigger).on("click",function(t){t.preventDefault(),e.modal("show")}),n=!0===t.autoshow),n&&e.modal("show")},u.fitDropdownIntoViewport=function(e){var t,n=e.find(".dropdown-menu"),i=10,a="resize.ddresize scroll.ddresize",r="vertical-scrollbar",l=!1;function c(){var e=s.$window.height()+s.$document.scrollTop()-i,o=n.offset().top+n.outerHeight(),a=n.height()-(o-e);t<a?l&&(n.css("height","auto").removeClass(r),l=!1):(l||(n.addClass(r),l=!0),n.height(a))}function d(){t=n.height(),c()}e.on("opened",function(){d(),s.$window.on(a,o.default.throttle(c,20))}).on("close",function(){n.css("height","auto"),s.$window.off(a)}).on("update",d)},u.fadeOutOnComponentLoad=function(e){e.fadeOut(2e3)},u.autocomplete=function(e){var t=e.find(".autocomplete-field"),n=e.find(".autocomplete-target"),a=e.data();if(a.autocompleteUrl&&t.length&&n.length){var r,s=[],l=function(e){var t=e.title||e.name;return a.showIds&&(t+=" ["+e.id+"]"),t},c=function(e,t){return i.default.Event("autocomplete."+e,{autocomplete:t})};t.typeahead(),t.on("focus",function(){t.select()}),t.on("keypress",function(n){clearTimeout(r),r=setTimeout(function(){var n=t.val();if(3<=n.length){var o=e.data("autocomplete-url"),r={};r[a.paramName||"query"]=n,i.default.get(o,r).then(function(e){s=e,t.data("typeahead").source=e.map(l),e.length&&t.typeahead("lookup")})}},500)}),t.on("ta_select",function(e){var i,o=t.val();for(var a in s)if(i=s[a],l(i)===o)return n.val(i.id),n.trigger("change"),t.trigger(c("select",i)),void t.data("previous-value",o)}),t.on("blur",function(){setTimeout(function(){t.typeahead("hide"),""===t.val()?(n.val(""),n.trigger("change"),t.trigger(c("select",{id:null,title:null}))):t.val(t.data("previous-value"))},200)}),t.on("autocomplete.reset",function(){t.data("typeahead").source=[]}),t.data("previous-value",t.val()),o.default.defer(function(){t.trigger(c("ready",{id:n.val(),title:t.val()}))})}},u.hasPlaceholder=function(e){var t=e.data("placeholder");if(t){var n="placeholder",i=function(){""===e.val().trim()&&e.val(t).addClass(n)},o=function(){e.hasClass(n)&&e.val("").removeClass(n)};e.val()===t&&e.val(""),e.is(":focus")||e.is(":selected")||i(),e.on("focus select",o).on("blur",i),e.parents("form").on("submit",o)}},u.quadLimitWarning=function(e){var t=e.find("textarea"),n=null,a=!1,r=e.data("quad-warning"),s=/\\qq?uad/g,l=function(){var o=t.val().match(s);o&&5<=o.length?(a=!0,n?n.show():(n=(0,i.default)('<ul class="errorlist"><li>'+r+"</li></ul>"),e.append(n))):n&&a&&(a=!1,n.hide())};t.on("keyup input",l),o.default.defer(l)},u.showAndHideContent=function(e){e.find(".btn").on("click",function(t){t.preventDefault(),e.nextAll("blockquote.hidden").first().toggleClass("show")})},u.preventDoubleClick=function(e){e.find("a,button").on("click",function(e){var t=(0,i.default)(this);t.hasClass("disabled")?e.preventDefault():t.addClass("disabled")})},u.genericSignupModal=function(e){var t=(0,s.jqGetElemById)("signup-modal-generic");t.length&&(t.modal({show:!1}),e.on("click",function(n){var o=this;n.preventDefault(),t.modal("show");var r=t.find(".public-signup-left");r.length&&!r.data("already-opened")&&(r.data("already-opened",!0),r.attr("data-already-opened",!0),(0,a.track)("ui",{action:"viewed_prenux_slide",step_position:1,is_first_step:!0,is_last_step:!1}));var s=t.find(".public-signup-right");if(s.length){var l="show-signup",c="show-login";e.data("show-login")?s.removeClass("show-form "+l).addClass(c):s.removeClass("show-form "+c).addClass(l)}var d=e.data("next");d&&(t.find(".btn-email").data("next",d),t.find(".signup-social").each(function(e,t){var n=t.href.split("?")[0],a="next=".concat(encodeURIComponent(d));(0,i.default)(o).attr("href","".concat(n,"?").concat(a))}))}))},u.selectAll=function(e){var t=e.data("parent")||null;(t?e.parents(t):e).on("click",function(t){e.select()})},u.hundredDayButton=function(e){setTimeout(function(){e.removeClass("wiggle-less")},5e3)},u.interceptClicks=function(e){var t=(0,s.jqCreateElem)("button");t.css({position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,zIndex:100}),t.on("click",function(){window.location=e.data("target")}),e.children().append(t)},u.selectPlaceholder=function(e){if("SELECT"===e[0].tagName){var t=function(){e.toggleClass("not-selected",0===e[0].selectedIndex)};t(),e.on("change",t)}},u.keyboardNavigation=function(e){var t=e.key||"",n=e.guard||o.default.noop,a=e.left||o.default.noop,r=e.right||o.default.noop,l=["input","textarea"];(0,s.jqOffOn)(s.$body,"keydown.keynav".concat(t),function(e){var t;e.metaKey||(t=document.activeElement,0<=l.indexOf(t.tagName.toLowerCase())&&(!t.type||"button"!==t.type)&&(t.value&&t.value.length||(0,i.default)(t).parents(".CodeMirror").length))||!1===n()||(37===e.which?(e.preventDefault(),a()):39===e.which&&(e.preventDefault(),r()))})},u.isVisibleInContainer=function(e,t){if(!e.is(":visible"))return!1;var n=t[0]===window?0:t.offset().top,i=t.scrollTop(),o=i,a=o+t.height(),r=(t[0]===window?0:i)+e.offset().top-n,s=r+e.outerHeight();return r<=a&&o<=s},u.isInViewport=function(e){return u.isVisibleInContainer(e,s.$window)},u.deferImage=function(e){var t=e.data("src");t&&(0,l.onLoad)(function(){setTimeout(function(){e.on("load",function(){e.removeAttr("width"),e.removeAttr("height")}),e.prop("src",t)},1)})},u.showGenericModal=function(e,t){var n="";return n+='<div class="modal-header">',n+='<button type="button" class="close" data-dismiss="modal">&times;</button>',e&&(n+="<h3>".concat(e,"</h3>")),n+="</div>",n+='<div class="modal-body">',t&&(n+="<p>".concat(t,"</p>")),n+="</div>",n+='<div class="modal-footer">\n            <a href="#" class="btn btn-accent" data-dismiss="modal">Close</a>\n        </div>',(0,i.default)("body #auto-modal").remove(),(0,i.default)("body .modal-bg").remove(),(0,i.default)(".modal:visible").modal("hide"),(0,i.default)("body").append('<div class="modal hide" id="auto-modal">'.concat(n,"</div>")),(0,i.default)("body #auto-modal").modal()},u.getScrollHeight=function(e){return e.length?e[0].scrollHeight:null},(0,l.onDOMReady)(function(){s.isMobile||u.scrollFixedElements(),u.Anchors.init()}),u.clickableHover=function(e){e.on("mouseenter",function(){return e.addClass("hover")}),e.on("mouseleave",function(){return e.removeClass("hover")}),e.on("click",function(){return e.removeClass("hover")})},e.exports=u},504:function(e,t,n){"use strict";var i=n(1),o=n(12);if(n(113),n(8),n(25),n(39),n(156),n(125),n(126),n(194),n(9),n(168),n(100),n(117),n(189),n(186),n(44),n(114),n(188),n(57),n(29),n(116),n(58),n(159),n(127),n(169),n(185),n(19),n(66),n(187),n(193),n(101),n(115),n(190),n(183),n(64),i.isIos&&i.appVersion.isGreaterThanOrEqualTo("0.9.1")){var a=function(){window.location="loadcomplete://"};window.isLoaded?a():(0,o.onLoad)(a)}},505:function(e,t,n){var i={"./":157,"./account":228,"./account.js":228,"./animations":229,"./animations.js":229,"./codex/codemirror":55,"./codex/codemirror.js":55,"./codex/constants":56,"./codex/constants.js":56,"./codex/controllers":64,"./codex/controllers.js":64,"./codex/deemphasize":91,"./codex/deemphasize.js":91,"./codex/notes":90,"./codex/notes.js":90,"./codex/shared_context":92,"./codex/shared_context.js":92,"./comments":57,"./comments.js":57,"./content_modal":44,"./content_modal.js":44,"./dailyproblems":230,"./dailyproblems.js":230,"./discussions":116,"./discussions.js":116,"./disputes":159,"./disputes.js":159,"./educator_bios":231,"./educator_bios.js":231,"./error_modal":19,"./error_modal.js":19,"./front_chat":117,"./front_chat.js":117,"./generic_controllers":9,"./generic_controllers.js":9,"./glossary":118,"./glossary.js":118,"./groups":232,"./groups.js":232,"./header":168,"./header.js":168,"./image_gallery":119,"./image_gallery.js":119,"./index":157,"./index.js":157,"./infiniti_challenge":233,"./infiniti_challenge.js":233,"./instant_response":169,"./instant_response.js":169,"./login":183,"./login.js":183,"./mentions":29,"./mentions.js":29,"./mini_profiles":114,"./mini_profiles.js":114,"./moderators":269,"./moderators.js":269,"./newsfeed":185,"./newsfeed.js":185,"./notifications":186,"./notifications.js":186,"./nux":187,"./nux.js":187,"./paid":100,"./paid.js":100,"./practice":271,"./practice.js":271,"./preloaders":66,"./preloaders.js":66,"./pro":272,"./pro.js":272,"./profile":273,"./profile.js":273,"./qanda":274,"./qanda.js":274,"./quiz":275,"./quiz.js":275,"./save_to_group":188,"./save_to_group.js":188,"./search":189,"./search.js":189,"./signup":190,"./signup.js":190,"./solution_discussions":127,"./solution_discussions.js":127,"./solvables":58,"./solvables.js":58,"./sponsorship":276,"./sponsorship.js":276,"./stats/controllers":277,"./stats/controllers.js":277,"./stats/example_data":191,"./stats/example_data.js":191,"./stats/single_topic":192,"./stats/single_topic.js":192,"./testimonials":278,"./testimonials.js":278,"./user_levels":279,"./user_levels.js":279,"./videos":101,"./videos.js":101,"./visualizations":193,"./visualizations.js":193,"./visualizations_newarch":49,"./visualizations_newarch.js":49,"./wiki":280,"./wiki.js":280,"./zoomable":115,"./zoomable.js":115};function o(e){var t=a(e);return n(t)}function a(e){var t=i[e];if(t+1)return t;var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}o.keys=function(){return Object.keys(i)},o.resolve=a,(e.exports=o).id=505},506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mentionsInput=function(e,t,n){var a=arguments;"object"!==r(t)&&t||(n=t),e.each(function(){var e=i.default.data(this,"mentionsInput")||i.default.data(this,"mentionsInput",new y(n));return o.default.isFunction(e[t])?e[t].apply(this,Array.prototype.slice.call(a,1)):"object"!==r(t)&&t?void i.default.error("Method "+t+" does not exist"):e.init.call(this,this)})};var i=a(n(0)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(1);var s=8,l=9,c=13,d=37,u=38,f=39,p=40,h=36,m=35,v={triggerChar:"@",stopTriggerRegex:!1,onDataRequest:i.default.noop,mentionsStorage:{get:i.default.noop,set:i.default.noop},minChars:2,allowRepeat:!1,showAvatars:!0,elastic:!0,onCaret:!1,classes:{autoCompleteItemActive:"active"},highlightFunction:function(e){return e},templates:{wrapper:o.default.template('<div class="mentions-input-box"></div>'),autocompleteList:o.default.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:o.default.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:o.default.template('<img src="<%= avatar %>" />'),autocompleteListItemIcon:o.default.template('<div class="icon <%= icon %>"></div>'),mentionsOverlay:o.default.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:o.default.template("@[<%= value %>](<%= type %>:<%= id %>)"),mentionItemHighlight:o.default.template("<strong><span><%= value %></span></strong>")}},g={htmlEncode:function(e){return o.default.escape(e)},regexpEncode:function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},highlightTerm:function(e,t){return t||t.length?e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+g.regexpEncode(t)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):e},setCaratPosition:function(e,t){if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus()},rtrim:function(e){return e.replace(/\s+$/,"")}},y=function(e){var t,n,a,r,y,_,b,w,k=[],C={},x=[],E="";(e=i.default.extend(!0,{},v,e)).mentions&&(e.mentions=i.default.extend(!0,{},v,e.mentions)),e.wikiLinks&&(e.wikiLinks=i.default.extend(!0,{},v,e.wikiLinks));var I=e;function j(){var t=O();o.default.each(k,function(n){var i=(n.isUser&&e.mentions?e.mentions:n.isWiki&&e.wikiLinks?e.wikiLinks:e).templates.mentionItemSyntax(n),o=n.value?new RegExp(g.regexpEncode(n.value),"g"):n.value;t=t.replace(o,i)});var i=g.htmlEncode(t);o.default.each(k,function(t){var n,a=o.default.extend({},t,{value:g.htmlEncode(t.value)}),r=(n=t.isUser&&e.mentions?e.mentions:t.isWiki&&e.wikiLinks?e.wikiLinks:e).templates.mentionItemSyntax(a),s=n.templates.mentionItemHighlight(a);i=i.replace(new RegExp(g.regexpEncode(r),"g"),s)}),i=(i=i.replace(/\n/g,"<br />")).replace(/ {2}/g,"&nbsp; "),i=e.highlightFunction(i),n.data("messageText",t),a.val(n.data("messageText")),b.find("div").html(i)}function T(){x=[]}function q(e){var t,i=O();E=E||"",t=0===I.triggerChar.indexOf("@")?new RegExp("[^\\w]"+g.regexpEncode(I.triggerChar)+g.regexpEncode(E),"gi"):new RegExp(g.regexpEncode(I.triggerChar)+g.regexpEncode(E),"gi");for(var r=[];t.exec(" "+i);)r.push(t.lastIndex);var s=r[r.length-1]-1,l=I.triggerChar.length,c=s-E.length-l,d=n.prop("selectionStart")?n.prop("selectionStart"):s,u=i.substr(0,c),f=i.substr(d,i.length),p=(u+e.value).length+1;o.default.find(k,function(t){return t.id==e.id})||k.push(e),T(),E="",$();var h=e.value;e.isUser&&(h=I.triggerChar+h);var m=u+h+" "+f;n.val(m),n.trigger("autosave.save"),a.val(n.data("messageText")),j(),n.focus(),g.setCaratPosition(n[0],p)}function O(){return i.default.trim(n.val())}function S(e){var t=(0,i.default)(this);return q(C[t.attr("data-uid")]),!1}function P(e){T()}function A(e){$()}function D(t){var i;j(),i=O(),k=o.default.reject(k,function(e,t){return!e.value||-1==i.indexOf(e.value)}),k=o.default.compact(k),I.mentionsStorage.set(k);var a=n.val();x=a.split("");var r,s=a;if(n.prop("selectionStart")&&(s=a.slice(0,n.prop("selectionStart"))),e.mentions&&e.wikiLinks){var l=s.lastIndexOf(e.mentions.triggerChar),c=-1<l,d=s.lastIndexOf(e.wikiLinks.triggerChar),u=-1<d;c&&u&&d<l||c&&!u?(r=l,I=e.mentions):c&&u&&l<d||u&&!c?(r=d,I=e.wikiLinks):r=-1}else if(0===e.triggerChar.indexOf("@")){for(var f=new RegExp("[^\\w]"+e.triggerChar,"gi"),p=[];f.exec(" "+s);)p.push(f.lastIndex);r=p[p.length-1]-2}else r=s.lastIndexOf(e.triggerChar);if(-1<r){var h=I.triggerChar.length;E=a.slice(r+h);var m=E=g.rtrim(E);if(n.prop("selectionStart")&&(m=s.slice(r+h),m=g.rtrim(m)),I.stopTriggerRegex&&-1<m.search(I.stopTriggerRegex))return;o.default.defer(o.default.bind(B,this,m))}}function M(e){if(e.keyCode!==s){var t=String.fromCharCode(e.which||e.keyCode);0===t.charCodeAt(0)?x.push(n.val().split("").pop()):(window.typedValue=t,x.push(t))}}function N(e){if(e.keyCode===d||e.keyCode===f||e.keyCode===h||e.keyCode===m)return o.default.defer(T),void(-1<navigator.userAgent.indexOf("MSIE 9")&&o.default.defer(j));if(e.keyCode!==s){if(!y.is(":visible"))return!0;switch(e.keyCode){case u:case p:var t;return(t=e.keyCode===p?w&&w.length?w.next():y.find("li").first():(0,i.default)(w).prev()).length&&z(t),!1;case c:case l:if(w&&w.length)return w.trigger("mousedown"),!1}return!0}x=x.slice(0,-1+x.length)}function $(){w=null,y.empty().hide();var e=i.default.Event("mentions.hide");n.trigger(e),a.trigger(e)}function z(t){t.addClass(e.classes.autoCompleteItemActive),t.siblings().removeClass(e.classes.autoCompleteItemActive),w=t}function B(t){t&&t.length&&t.length>=I.minChars?I.onDataRequest.call(this,"search",t,function(r){!function(t,r){if(y.show(),!I.allowRepeat){var s=o.default.pluck(k,"value");r=o.default.reject(r,function(e){return o.default.include(s,e.name)})}if(r.length){y.empty();var l,c,d,u,f=(0,i.default)("<ul>").appendTo(y).hide();o.default.each(r,function(e,n){var a=o.default.uniqueId("mention_");C[a]=o.default.extend({},e,{value:e.value||e.name});var r=(0,i.default)(I.templates.autocompleteListItem(o.default.extend({},e,{id:g.htmlEncode(e.id),display:g.htmlEncode(e.name),type:g.htmlEncode(e.type),content:g.highlightTerm(g.htmlEncode(e.name),t)}))).attr("data-uid",a);0===n&&z(r),I.showAvatars&&(e.avatar?(0,i.default)(I.templates.autocompleteListItemAvatar({avatar:e.avatar})):(0,i.default)(I.templates.autocompleteListItemIcon({icon:e.icon}))).prependTo(r),r=r.appendTo(f)}),y.show(),e.onCaret&&(l=y,d=function(e){var t,n,o,a,r,s,l,c,d,u,f;if((d=e[0])&&(0,i.default)(d).is("textarea")&&null!=d.selectionEnd){for(l={position:"absolute",overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word",boxSizing:"content-box",top:0,left:-9999},u=0,f=(c=["boxSizing","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","textDecoration","textIndent","textTransform","width","word-spacing"]).length;u<f;u++)l[r=c[u]]=(0,i.default)(d).css(r);return o=document.createElement("div"),(0,i.default)(o).css(l),(0,i.default)(d).after(o),n=document.createTextNode(d.value.substring(0,d.selectionEnd)),t=document.createTextNode(d.value.substring(d.selectionEnd)),(a=document.createElement("span")).innerHTML="&nbsp;",o.appendChild(n),o.appendChild(a),o.appendChild(t),o.scrollTop=d.scrollTop,s=(0,i.default)(a).position(),(0,i.default)(o).remove(),s}}(c=n),u=parseInt(c.css("line-height"),10)||18,l.css("top",u+d.top)),f.show();var p=i.default.Event("mentions.show");n.trigger(p),a.trigger(p)}else $()}(t,r)}):$()}function L(){n.val(""),k=[],j()}return{init:function(o){var s,l,c,d,u;t=o,(0,i.default)(t).hasClass("inited")||(n=(0,i.default)(t),(a=n.clone()).val()==a.attr("placeholder")&&a.val(""),"true"!==n.attr("data-mentions-input")&&(n.addClass("inited"),a.addClass("inited"),n.attr("name",n.attr("name")+"__copy"),n.attr("id",n.attr("id")+"__copy"),a.addClass("clone"),a.val().trim().length&&(n.val((null!==(l=(s=a.val()).match(/mention\[[\d]+:(.*?)\]/g)||null)&&l.forEach(function(e){s=s.replace(e,e.replace(/mention\[[\d]+:/,"").replace(/\]/,""))}),s)),n.val(n.val()+" ")),r=n.parent(),_=(0,i.default)(e.templates.wrapper()),n.wrapAll(_),_=r.find("> div.mentions-input-box"),n.after(a),n.attr("data-mentions-input","true"),0<=navigator.userAgent.toLowerCase().indexOf("android")?n.on("input",function(){N.apply(this,arguments),M.apply(this,arguments),D.apply(this,arguments)}):(n.on("keydown",N),n.on("keypress",M)),n.on("click",P),n.on("blur",A),-1<navigator.userAgent.indexOf("MSIE 8")?n.on("propertychange",D):n.on("input",D),e.elastic&&n.elastic(),n.trigger(i.default.Event("mentions.ready")),a.trigger(i.default.Event("mentions.ready"))),(y=(0,i.default)(e.templates.autocompleteList())).appendTo(_),y.on("mousedown","li",S),(b=(0,i.default)(e.templates.mentionsOverlay())).prependTo(_),e.mentions&&e.mentions.mentionsStorage.get||e.mentionsStorage.get?(k=e.mentions?e.mentions.mentionsStorage.get():e.mentionsStorage.get(),n.data("messageText",a.val()),j()):n.val().trim().length?(c=a.val().trim(),d=e.mentions?e.mentions.mentionRegex:e.mentionRegex,null!==(u=c.match(d))&&(u.forEach(function(e){var t=e.split(/[\[|\]|:]/g);k.push({id:t[1],user_id:t[1],name:t[2],value:t[2],isUser:!0})}),j())):L(),e.prefillMention&&q(e.prefillMention))},val:function(e){o.default.isFunction(e)&&e.call(this,k.length?n.data("messageText"):O())},reset:function(){L()},getMentions:function(e){o.default.isFunction(e)&&e.call(this,k)}}}},511:function(e,t){},513:function(e,t){},53:function(e,t,n){"use strict";var i,o,a=(i=n(0))&&i.__esModule?i:{default:i},r=n(1),s=n(5);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a.default.support.transition=(o=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}())&&{end:o};var c='[data-dismiss="alert"]',d=function(e){(0,a.default)(e).on("click",c,this.close)};d.prototype.close=function(e){var t,n=(0,a.default)(this),i=n.attr("data-target");function o(){t.trigger("closed").remove()}i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),"#"!==i&&(t=(0,a.default)(i)),e&&e.preventDefault()(t&&t.length)||(t=n.hasClass("alert")?n:n.parent()),t.trigger(e=a.default.Event("close")),e.isDefaultPrevented()||(t.removeClass("in"),a.default.support.transition&&t.hasClass("fade")?t.on(a.default.support.transition.end,o):o())},a.default.fn.alert=function(e){return this.each(function(){var t=(0,a.default)(this),n=t.data("alert");n||t.data("alert",n=new d(this)),"string"==typeof e&&n[e].call(t)})},a.default.fn.alert.Constructor=d,(0,a.default)(function(){(0,a.default)("body").on("click.alert.data-api",c,d.prototype.close)});var u='[data-toggle="dropdown"]',f=function(e){var t=(0,a.default)(e).on("click.dropdown.data-api",this.toggle);(0,a.default)("html").on("click.dropdown.data-api",function(){t.parent().removeClass("open").trigger(a.default.Event("close"))})};function p(){(0,a.default)(u).parent().removeClass("open").trigger(a.default.Event("close"))}f.prototype={constructor:f,toggle:function(e){var t,n,i,o=(0,a.default)(this);if(!o.is(".disabled, :disabled"))return(n=o.attr("data-target"))||(n=(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),"#"!==n&&(t=(0,a.default)(n)),t&&t.length||(t=o.parent()),i=t.hasClass("open"),p(),i?(e&&e.stopPropagation(),t.trigger(a.default.Event("close"))):(t.trigger(a.default.Event("open")),t.toggleClass("open"),t.trigger(a.default.Event("opened"))),!1}},a.default.fn.dropdown=function(e){return this.each(function(){var t=(0,a.default)(this),n=t.data("dropdown");n||t.data("dropdown",n=new f(this)),"string"==typeof e&&n[e].call(t)})},a.default.fn.dropdown.Constructor=f,(0,a.default)(function(){(0,a.default)("html").on("click.dropdown.data-api",p),(0,a.default)("body").on("click.dropdown",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",u,f.prototype.toggle)});var h=function(e,t){this.options=t,this.$element=(0,a.default)(e).on("click.dismiss.modal",'[data-dismiss="modal"]',a.default.proxy(this.hide,this))};function m(e){this.$element.hide().trigger("hidden"),v.call(this)}function v(e){var t=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=a.default.support.transition&&n;this.$backdrop=(0,a.default)('<div class="modal-bg '+n+'" />').appendTo(document.body),6===window.ie_version&&(this.$backdrop.css({position:"absolute",background:"#666",top:0,left:0,width:"100%",height:1e3}),(0,a.default)(".carousel-control.left").css("left",5),(0,a.default)(".carousel-control.right").css("left",750)),"static"!=this.options.backdrop&&this.$backdrop.on("click",function(e){(0,a.default)(e.target).is(t.$backdrop)&&t.hide()}),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(a.default.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.default.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.default.support.transition.end,a.default.proxy(g,this)):g.call(this)):e&&e()}function g(){this.$backdrop.hide(),this.$backdrop.detach()}function y(){var e=this;this.isShown&&this.options.keyboard?(0,a.default)(document).on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||(0,a.default)(document).off("keyup.dismiss.modal")}h.prototype={constructor:h,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,t=a.default.Event("show");this.$element.trigger(t),6===window.ie_version&&(e.$element.css("position","absolute"),(0,r.setScrollPosition)(0)),this.isShown||t.isDefaultPrevented()||((0,a.default)("body").addClass("modal-open"),this.isShown=!0,y.call(this),v.call(this,function(){var t=a.default.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.appendTo(e.$backdrop),(0,s.crop)(),e.$element.show(),t&&e.$element[0].offsetWidth,e.$element.addClass("in"),t?e.$element.one(a.default.support.transition.end,function(){e.$element.trigger("shown")}):e.$element.trigger("shown")}))},hide:function(e){e&&e.preventDefault(),e=a.default.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,(0,a.default)("body").removeClass("modal-open"),(0,s.crop)(!1),y.call(this),this.$element.removeClass("in"),a.default.support.transition&&this.$element.hasClass("fade")?function(){var e=this,t=setTimeout(function(){e.$element.off(a.default.support.transition.end),m.call(e)},500);this.$element.one(a.default.support.transition.end,function(){clearTimeout(t),m.call(e)})}.call(this):m.call(this))}},a.default.fn.modal=function(e){return this.each(function(){var t=(0,a.default)(this),n=t.data("modal"),i=a.default.extend({},a.default.fn.modal.defaults,t.data(),"object"==l(e)&&e);n||t.data("modal",n=new h(this,i)),"string"==typeof e?n[e]():i.show&&n.show()})},a.default.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.default.fn.modal.Constructor=h,(0,a.default)(function(){(0,a.default)("body").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var t,n=(0,a.default)(this),i=(0,a.default)(n.attr("data-target")||(t=n.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":a.default.extend({},i.data(),n.data());e.preventDefault(),i.modal(o)})});var _=function(e,t){this.init("tooltip",e,t)};_.prototype={constructor:_,init:function(e,t,n){var i,o;this.type=e,this.$element=(0,a.default)(t),this.options=this.getOptions(n),this.enabled=!0,"manual"!=this.options.trigger&&(o="hover"==this.options.trigger&&/iphone|ipad/i.test(navigator.userAgent)?(i="touchstart","touchend"):(i="hover"==this.options.trigger?"mouseenter":"focus","hover"==this.options.trigger?"mouseleave":"blur"),this.$element.on(i,this.options.selector,a.default.proxy(this.enter,this)),this.$element.on(o,this.options.selector,a.default.proxy(this.leave,this))),this.options.selector?this._options=a.default.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return(e=a.default.extend({},a.default.fn[this.type].defaults,e,this.$element.data())).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var t=(0,a.default)(e.currentTarget)[this.type](this._options).data(this.type);if(!t.options.delay||!t.options.delay.show)return t.show();clearTimeout(this.timeout),t.hoverState="in",this.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)},leave:function(e){var t=(0,a.default)(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!t.options.delay||!t.options.delay.hide)return t.hide();t.hoverState="out",this.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)},show:function(){var e,t,n,i,o,r,s;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(r),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),i=e[0].offsetWidth,o=e[0].offsetHeight,t?r.split(" ")[1]:r){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-o,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-o/2,left:n.left-i};break;case"right":s={top:n.top+n.height/2-o/2,left:n.left+n.width}}e.css(s).addClass(r).addClass("in"),this.$element.trigger(a.default.Event("show"))}},isHTML:function(e){return"string"!=typeof e||"<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(e)},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.isHTML(t)?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){var e,t=this.tip();t.removeClass("in"),a.default.support.transition&&this.$tip.hasClass("fade")?(e=setTimeout(function(){t.off(a.default.support.transition.end).remove()},500),t.one(a.default.support.transition.end,function(){clearTimeout(e),t.remove()})):t.remove(),this.$element.trigger(a.default.Event("hide"))},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(e){return a.default.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},tip:function(){return this.$tip=this.$tip||(0,a.default)(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},a.default.fn.tooltip=function(e){return this.each(function(){var t=(0,a.default)(this),n=t.data("tooltip"),i="object"==l(e)&&e;n||t.data("tooltip",n=new _(this,i)),"string"==typeof e&&n[e]()})},a.default.fn.tooltip.Constructor=_,a.default.fn.tooltip.defaults={animation:!1,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0};var b,w=function(e,t){this.$element=(0,a.default)(e),this.options=a.default.extend({},a.default.fn.typeahead.defaults,t),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=(0,a.default)(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()},k=(b=/[àáâãäåæçèéêëìíîïñòóôõöœùúûüýÿ]/g,function(e){var t={"à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","œ":"oe","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","ÿ":"y"};return e.replace(b,function(e){return t[e]})});w.prototype={constructor:w,select:function(){var e=this.$menu.find(".active").attr("data-value");return e&&0<e.length?this.$element.val(this.updater(e)).change():this.$element.val(),this.$element.trigger("ta_select"),this.hide()},updater:function(e){return e},show:function(){var e=a.default.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight}),t={top:e.top+e.height,left:e.left};return this.options.matchWidth&&(t.width=this.$element.width()),this.$menu.css(t),this.$menu.show(),this.shown=!0,this.$element.trigger("menued"),this},hide:function(){return this.$menu.hide(),this.shown=!1,this.$element.trigger("unmenued"),this},lookup:function(e){var t,n=this;return this.query=this.$element.val(),this.query?(t=a.default.grep(this.source,function(e){return n.matcher(e)}),(t=this.sorter(t)).length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(e){return~k(e.toLowerCase()).indexOf(k(this.query.toLowerCase()))},sorter:function(e){for(var t,n=[],i=[],o=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):o.push(t):n.push(t);return n.concat(i,o)},highlighter:function(e){var t=k(e.toLowerCase()),n=k(this.query.toLowerCase()).replace(/\[|\]|\{|\}/g,function(e){return"\\"+e});t=t.replace(new RegExp("("+n+")","ig"),function(e,t){return"<strong>"+t+"</strong>"}),e=e.split("");for(var i=new RegExp("<strong>("+n+")</strong>","ig"),o=0,a=0,r=0,s=[];s=i.exec(t);){var l=i.lastIndex-s[0].length-o+a;o+=s[0].length,e.splice(r+l,0,"<strong>"),r+=1,e.splice(r+l+s[1].length,0,"</strong>"),r+=1,a+=1}return e.join("")},render:function(e){var t=this;return e=(0,a.default)(e).map(function(e,n){return(e=(0,a.default)(t.options.item).attr("data-value",n)).find("a").html(t.highlighter(n)),e[0]}),this.$menu.html(e),this},next:function(e){var t=this.$menu.find(".active").removeClass("active").next();t.length||(t=(0,a.default)(this.$menu.find("li")[0])),t.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active").prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("keypress",a.default.proxy(this.keypress,this)).on("keyup",a.default.proxy(this.keyup,this)),this.options.ignore_blur||this.$element.on("blur",a.default.proxy(this.blur,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.default.proxy(this.keypress,this)),this.$menu.on("click",a.default.proxy(this.click,this)).on("mouseenter","li",a.default.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},keypress:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:if("keydown"!=e.type)break;e.preventDefault(),this.prev();break;case 40:if("keydown"!=e.type)break;e.preventDefault(),this.next()}e.stopPropagation()}},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.$element.data("has_blurred",!0),this.select()},mouseenter:function(e){this.$menu.find(".active").removeClass("active"),(0,a.default)(e.currentTarget).addClass("active")}},a.default.fn.typeahead=function(e){return this.each(function(){var t=(0,a.default)(this),n=t.data("typeahead"),i="object"==l(e)&&e;n||t.data("typeahead",n=new w(this,i)),"string"==typeof e&&n[e]()})},a.default.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',ignore_blur:!0,matchWidth:!1},a.default.fn.typeahead.Constructor=w,(0,a.default)(function(){(0,a.default)("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var t=(0,a.default)(this);t.data("typeahead")||t.typeahead(t.data())})});var C=function(e,t){this.options=a.default.extend({},a.default.fn.affix.defaults,t),this.$window=(0,a.default)(window).on("scroll.affix.data-api",a.default.proxy(this.checkPosition,this)).on("click.affix.data-api",a.default.proxy(function(){setTimeout(a.default.proxy(this.checkPosition,this),1)},this)),this.$element=(0,a.default)(e),this.checkPosition()};C.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,t=(0,a.default)(document).height(),n=this.$window.scrollTop(),i=this.$element.offset(),o=this.options.offset,r=o.bottom,s=o.top;"object"!=l(o)&&(r=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof r&&(r=o.bottom()),e=!(null!=this.unpin&&n+this.unpin<=i.top)&&(null!=r&&i.top+this.$element.height()>=t-r?"bottom":null!=s&&n<=s&&"top"),this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?i.top-n:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(e?"-"+e:"")))}},a.default.fn.affix,a.default.fn.affix=function(e){return this.each(function(){var t=(0,a.default)(this),n=t.data("affix"),i="object"==l(e)&&e;n||t.data("affix",n=new C(this,i)),"string"==typeof e&&n[e]()})},a.default.fn.affix.Constructor=C,a.default.fn.affix.defaults={offset:0}},54:function(e,t,n){"use strict";n(0);var i={get:function(e){var t=e[0];if(t){if(t.selectionStart)return t.selectionStart;if(!document.selection)return 0;var n,i=Global.octalCursorChar,o=document.selection.createRange(),a=o.duplicate();return a.moveToElementText(t),o.text=i,n=a.text.indexOf(i),o.moveStart("character",-1),o.text="",n}},set:function(e,t,n){var i=e[0];if(n=n||t,i)if(i.createTextRange){var o=i.createTextRange();o.move("character",t),o.select()}else i.selectionStart?(i.focus(),i.setSelectionRange(t,n)):i.focus()},insert:function(e,t,n){var i=e[0];i&&(document.selection?(i.focus(),sel=document.selection.createRange(),sel.text=t):i.selectionStart||"0"==i.selectionStart?i.value=i.value.substring(0,n)+t+i.value.substring(n,i.value.length):i.value+=t)}};e.exports=i},545:function(e,t){},546:function(e,t){},55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){return new Promise(function(t){n.e(62).then(n.t.bind(null,287,7)).then(function(i){Promise.all([n.e(62).then(n.t.bind(null,292,7)),n.e(62).then(n.t.bind(null,293,7)),n.e(62).then(n.t.bind(null,294,7)),n.e(62).then(n.t.bind(null,295,7)),n.e(62).then(n.t.bind(null,296,7))]).then(function(){var n=e.$textarea.parents(".codex-textarea");e.$editor.html(""),n.find(".CodeMirror").remove(),e.$editor.append(n),n.removeClass("hide");var o=e.$editor.parents(".codex-container").data("allow-notes-editor"),a=i.default.fromTextArea(e.$textarea[0],{lineNumbers:!0,indentUnit:4,styleActiveLine:!0===o,mode:r[e.language],theme:"clouds",extraKeys:{Tab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertSoftTab")},"Shift-Tab":function(e){e.indentSelection("subtract")}}});a.brilliant={},t({cm:a,initialCode:e.initialCode,initialLanguage:e.initialLanguage})})})})},t.isUnchanged=function(e,t){var n=e.cm.getValue()===e.initialCode,i=parseInt(t,10)===e.initialLanguage;return n&&i},t.setReadOnly=function(e){e.cm.setOption("readOnly",!0)},t.onChange=function(e,t){e.cm.on("change",t)},t.getValue=function(e){return e.cm.getValue()},t.setValue=function(e,t){e.cm.brilliant.isEditing=!0,e.cm.setValue(t),e.cm.brilliant.isEditing=!1},t.getCursor=function(e){return e.cm.getCursor()},t.setCursor=function(e,t){e.cm.setCursor(t)},t.focus=function(e){e.cm.focus()},t.setLanguage=function(e,t){e.cm.setOption("mode",r[t])},t.initNoteEditor=function(e,t){return new o.CodexNoteEditor({cm:e.cm,$notesElement:t})},t.initNotes=function(e,t){var n={state:e,$container:t};return i.isAndroid&&i.appVersion&&i.appVersion.isGreaterThanOrEqualTo("4.1.0")?new o.CodexNotesDisplayHandlerAndroid(n):i.isMobile||i.isNative?new o.CodexNotesDisplayHandlerMobile(n):new o.CodexNotesDisplayHandlerBase(n)},t.initDeemphasizeEditor=function(e){var t=e.state,n=e.$deemphasizeField,i=e.$deemphasizeContainer;return new a.CodexDeemphasizerEditor({cm:t.cm,$deemphasizeField:n,$deemphasizeContainer:i})},t.initDeemphasize=function(e){var t=e.state,n=e.data,i=e.envId,o=e.initialCode;return new a.CodexDeemphasizer({cm:t.cm,data:n,envId:i,initialCode:o})};var i=n(1),o=n(90),a=n(91),r={0:"python",1:"shell",2:"clike",3:"rust",4:"clike"}},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODEX_LINE_HEIGHT=void 0,t.CODEX_LINE_HEIGHT=18},57:function(e,t,n){"use strict";var i=g(n(0)),o=g(n(2)),a=g(n(35)),r=g(n(8)),s=g(n(88)),l=n(25),c=n(1),d=v(n(18)),u=n(5),f=v(n(14)),p=n(19),h=n(9),m=n(29);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var y={};function _(e){var t=null,n=null;if(e.length&&e.hasClass("comment-form-placeholder")||(e=e.find(".comment-form-placeholder")).length){var a=(0,c.jqGetElemById)("comment-form-template");t=o.default.template(a.text());var r=f.getParamsObject();r.sort&&(n=r.sort);var s=e.data();n&&s.formUrl.indexOf("sort="+n)<0&&(s.formUrl=f.appendGetParam(s.formUrl,"sort",n)),s.formId="discussion_comment_form_id_",s.formIdParentId?s.formId+="parent_id_"+s.formIdParentId:s.commentId?s.formId+="comment_"+s.commentId:s.postId?s.formId+="post_"+s.postId:s.formId+="unknown",s.formIdParentId?s.autosaveKey="comment-for-"+s.formIdParentId:s.commentId?s.autosaveKey="comment-"+s.commentId:s.autosaveKey="top-comment-for-"+s.postId;var d=e.find(".errorlist").get(0);d&&(s.errors=d.outerHTML),s=o.default.extend({},{version:1,commentId:null,formIdParentId:null,parentId:null,topLevelDiscCommentForm:!1,paramKey:null,commentText:"",isEditingThis:!1,commentFormSuccess:!1,errors:"",commentUserIsStaff:!1,commentUserName:null},s);var u=(0,i.default)(t(s)),p=e.parent();e.replaceWith(u),y.init(),(0,h.initGenericControllers)(p),o.default.defer(function(){p.find("form").off("submit"),(0,l.initAutosubmit)(p)}),d&&u.find("textarea:visible").focus()}}function b(e){var t=(0,c.jqGetElemById)("voting_div_for_comment_".concat(e)),n=0<t.find(".vote-up.voted").length,i=0<t.find(".vote-down.voted").length;return n?"True":i?"False":"None"}y.hitPreviewSolution=!1,y.editEvents=function(e){var t=".cmmnt, .discsol-post",n="click.commentediting";e.find(".edit-link .action").on("click",function(){var e=(0,i.default)(this),t=e.find(".dropdown-menu"),n=t.outerWidth()<e.offset().left+e.outerWidth()+10;t.toggleClass("pull-right",n)}),(0,c.jqOffOn)(e.find(".edit-comment-trigger"),n,function(e){e.preventDefault();var n=(0,i.default)(e.currentTarget).parents(t);_(n),n.addClass("editing"),n.find(".comment-form").removeClass("previewing");var o=n.find("textarea:visible");k(o),o.trigger("focus"),(0,m.mentionsAndWikiLinks)(o),(0,a.default)(o);var r=n.find("fieldset");s.default.setVal(r)}),(0,c.jqOffOn)(e.find(".cancel-edit-trigger"),n,function(e){e.preventDefault(),(0,i.default)(e.currentTarget).parents(t).removeClass("editing focused replying")}),(0,c.jqOffOn)(e.find(".delete-trigger"),n,function(e){e.preventDefault(),(0,i.default)(e.currentTarget).parents(t).addClass("deleting")}),(0,c.jqOffOn)(e.find(".delete-cancel-trigger"),n,function(e){e.preventDefault(),(0,i.default)(e.currentTarget).parents(t).removeClass("deleting")}),e.find(".saved").delay(5e3).fadeOut(200,function(){(0,i.default)(this).remove()})},y.expander=function(e){e.find(".discsol-post .desc, .discsol-post .cmmnt .text").each(function(){var e=(0,i.default)(this);e.innerWidth()!==e[0].scrollWidth&&e.addClass("scrollable")})};var w=function(e,t){var n=e.data("vote-count")+t;e.toggleClass("voted",0<t),e.data("vote-count",n),e.find(".count").html(n),e.blur()},k=function(e){(0,c.jqOffOn)(e,"mentions.show",function(){e.parents(".cmmnt").addClass("mentions-active")}),(0,c.jqOffOn)(e,"mentions.hide",function(){e.parents(".cmmnt").removeClass("mentions-active")})};y.events=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c.$body,t=e.find(".comment-form").not("#new_post_form_id, #new_solution_form_id, #new_dispute_form_id, #new_wikifeedback_form_id");t.each(function(e,t){var n=(0,i.default)(t);n.find("textarea:visible").each(function(e,t){var o=(0,i.default)(t);k(o),(0,m.mentionsAndWikiLinks)(o);var r=function(){(0,a.default)(o),n.addClass("focused"),setTimeout(function(){o.trigger("autosize.resize")},100)};o.val()?r():o.one("input",function(){r()})})}),(0,m.mentionsAndWikiLinks)(t.filter(".previewing").find("textarea"));var n=t.find(".comment-form-buttons");(0,c.jqOffOn)(n.find(".preview"),"click.previewlink",function(e){e.preventDefault();var t=(0,i.default)(e.currentTarget),n=t.parents("form");t.parents(".comment-form-buttons").addClass("dim"),(0,r.default)("discussions_comments").form(n.get(0),{preview_comment:!0})}),(0,c.jqOffOn)(n.find(".edit"),"click.editlink",function(t){t.preventDefault(),(0,i.default)(t.currentTarget).parents(".comment-form").removeClass("previewing"),y.events(e)}),n.find("[type=submit]").on("click",function(){(0,i.default)(this).parents(".comment-form-buttons").addClass("dim")}),e.find(".cmmnt").each(function(){var e=(0,i.default)(this),t=e.next(".cmmnt-container"),n=t.find(".reply-form-wrapper"),o=e.find(".show-replies"),a=e.find(".hide-replies"),r=e.find(".reply-unhide-link");o.on("click",function(){e.addClass("expanded"),t.removeClass("hide"),n.hasClass("replying")||r.removeClass("hide"),!0===o.data("show-all-replies")&&e.parents(".cmmnt-container").addClass("show-all-replies")}),a.on("click",function(){e.removeClass("expanded"),t.addClass("hide"),r.addClass("hide")})}),e.find(".cmmnt:not(.solution)").each(function(e,t){var n=(0,i.default)(t);(0,c.jqOffOn)(n.find(".reply-unhide-link"),"click.unhidereply",function(e){e.preventDefault();var t=(0,i.default)(e.currentTarget),o=n.data("comment"),a=(0,i.default)("div.unhide_new_reply_".concat(o));if(_(a),a.toggleClass("replying"),a.hasClass("replying")){t.addClass("hide");var r=a.find("textarea");k(r),(0,m.mentionsAndWikiLinks)(r);var l=a.find("fieldset");s.default.setVal(l),r.trigger("focus"),a.find(".cancel-edit-trigger").one("click",function(){t.removeClass("hide")})}})});var o=e.find(".discsol-post").find(".reply-unhide-link");(0,c.jqOffOn)(o,"click.comments",function(e){var t=(0,i.default)(e.currentTarget).parents(".discsol-post").next(".discsol-comments");t.toggleClass("hide-form"),t.hasClass("hide-form")||(0,m.mentionsAndWikiLinks)(t.find(".top-level-comment-form textarea"))}),e.find(".cmmnt .text").each(function(){var e=(0,i.default)(this),t="preface-html",n=e.data(t);n&&((0,i.default)("p:first",e).prepend((0,i.default)(n)),e.removeAttr("data-"+t).removeData(t))}),(0,c.jqOffOn)(t.find("textarea"),"focus.commentform",function(e){var t=(0,i.default)(e.currentTarget).parents(".comment-form");t.addClass("focused"),(0,a.default)(t.find("textarea:visible"))}),function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:c.$body).find(".cmmnt");(0,c.jqOffOn)(e.find(".vote"),"click.commentvote",function(e){var t=(0,i.default)(e.currentTarget),n=t.parents(".voting"),o=n.find(".vote-up"),a=n.find(".vote-down"),r=n.data("action_url"),s=n.data("comment_id"),l=b(s),c=t.hasClass("vote-up")?"True":"False";l==c&&(c="None"),i.default.ajax({type:"POST",url:r,data:{comment_id:s,vote:c}}).fail(p.errorModalHandler).then(function(e){var t=b(s);t!=e.vote&&("None"==e.vote?w("True"==t?o:a,-1):"True"==e.vote?(w(o,1),"False"==t&&w(a,-1)):"False"==e.vote&&(w(a,1),"True"==t&&w(o,-1)))})})}(),this.editEvents(e.find(".disc-comments")),e.find(".top-level-comment-form,.cmmnt.editing,.reply-form-wrapper.replying").each(function(){_((0,i.default)(this))})},y.subscribe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c.$body;(0,c.jqOffOn)(e.find("a.discussions_subscribe"),"click.dscsubscr",function(e){e.preventDefault();var t=(0,i.default)(e.currentTarget),n=t.parents("form"),o=n.find("input[type=checkbox]"),a=!t.hasClass("subscribed"),r=n.data(),s=n.parents(".disc-post");if(t.parents(".wiggle").removeClass("wiggle"),0===s.length&&(s=(0,i.default)(".disc-comments-list")),o.prop("checked",a),n.trigger("submit"),!a){var l=s.find(".comment-subscr[data-subscribed=true]");0<l.length&&(0,u.showConfirmationModal)({title:r.confirmModalTitle,text:r.confirmModalText,cancelBtnText:r.confirmModalCancel,confirmBtnText:r.confirmModalOk}).then(function(e){e&&l.each(function(e,t){(0,i.default)(t).trigger("submit")})})}})},y.expandThreadsFor=function(e){e.parents(".cmmnt-container").prev(".cmmnt").find(".show-replies").trigger("click")},y.formattingGuideLink=function(e){var t,n;e.on("click",function(o){o.preventDefault(),t=t||e.data(),(n=n||(0,i.default)(t.target)).fadeToggle(100,function(){n.is(":visible")&&u.Anchors.scrollToTarget(n)})})},y.init=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c.$body;this.events(e),this.votes(e),this.subscribe(e),this.expander(e),d.scaleSVG(e.find(".latexprocessor-block, .latexprocessor-inline"))},y.votes=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:c.$body).find(".discsol-vote").not(".inited").not(".disabled");e.addClass("inited"),e.on("click",function(){var e=(0,i.default)(this),t=e.data(),n="True"===t.currentVote?"None":"True";e.hasClass("disabled")||(e.addClass("disabled"),i.default.ajax({type:"POST",url:t.actionUrl,data:{post_id:t.postId,vote:n}}).fail(p.errorModalHandler).then(function(n){if(e.removeClass("disabled"),n.success){"True"===n.vote?(e.addClass("voted"),t.count++):(e.removeClass("voted"),t.count--),e.data("current-vote",n.vote);var i=e.find(".vote-count");i.length?i.find(".count").html(t.count):e.find(".count").html(t.count)}}))})},y.add_form=function(){(0,c.jqGetElemById)("new_post_form_id").add("#new_solution_form_id").add("#new_dispute_form_id").add("#new_wikifeedback_form_id").add(".edit-solution-form").each(function(e,t){var n=(0,i.default)(t),o=n.find(".comment-form-buttons"),a=o.find(".preview"),s=o.find(".edit");(0,c.jqOffOn)(a,"click.dsc",function(e){var t;e.preventDefault(),o.addClass("dim"),n.hasClass("edit-solution-form")?(t={preview_comment:!0},y.hitPreviewSolution=!0):t={preview_post:!0},(0,r.default)("discussions").form((0,c.jqGetElemById)((0,i.default)(e.currentTarget).data("preview_form_id")),t)}),(0,c.jqOffOn)(s,"click.dsc",function(e){e.preventDefault(),n.removeClass("previewing"),(0,m.mentionsAndWikiLinks)((0,i.default)("textarea:visible"))})})},e.exports=y},58:function(e,t,n){"use strict";var i=O(n(0)),o=O(n(2)),a=O(n(35)),r=O(n(87)),s=O(n(8)),l=O(n(3)),c=n(25),d=n(7),u=q(n(39)),f=O(n(24)),p=n(1),h=q(n(18)),m=O(n(31)),v=O(n(112)),g=O(n(21)),y=O(n(89)),_=q(n(14)),b=O(n(5)),w=n(64),k=O(n(57)),C=O(n(44)),x=n(19),E=n(9),I=n(29),j=O(n(66)),T=O(n(115));function q(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}var S,P,A={},D={},M=!1,N=null,$=function(e){return D[e.data("solvable")]||{}},z=function(e){if(e.$solversList){var t=e.$solversList;A.recentSolvers(t)}e.$solversContainer&&u.load(e.$solversContainer.children(".cmp-deferred"))},B=(P=["solutions","disputes"],function(e,t){if(e=e||"default",t.previousState=t.previousState||null,t.currentState=t.currentState||null,"back"!==e){if(t.$solvable.removeClass(P.join(" ")),v.default.removeBackButton(),e&&0<=P.indexOf(e)&&t.$solvable.addClass(e),"solutions"===e||"disputes"===e){if(L(t,e),"disputes"===e){var n=(0,i.default)(".solv-disputes");p.isMobile&&n.removeClass("hide"),b.default.Anchors.scrollToTarget(n)}}else"default"!==e||"solutions"!==t.currentState||p.isMobile||b.default.Anchors.scrollToTarget(p.$body);G(t),U(t),h.updateMathjax(t.$solvable),t.previousState=t.currentState,t.currentState=e,p.$body.trigger(i.default.Event("solvable.statechange",t))}else B(t.previousState,t)});A.setStateForSolvable=function(e,t){B(t=t||null,$(e))};var L=function(e,t){e.$solvable=e.$solvable||(0,i.default)(".solv-main");var n=e.$solvable.find("solutions"===t?".solv-solutions":".solv-disputes"),r=e.$solvable.find("#solv-simple-solution-target"),s=n.find(".cmp-deferred");if(e.$solvable.find(".btn-solution.wiggle-less").removeClass("wiggle-less active-green").blur(),e.$solvable.find(".btn-solution.wiggle").removeClass("wiggle").blur(),p.isMobile&&0<r.length)b.default.Anchors.scrollToTarget(r);else{if("solutions"===t&&p.isMobile&&0===r.length){var l=(0,p.jqGetElemByCmpName)("solutiondiscussions_publicsolvableaddsolutionpost");l.length||(l=(0,p.jqGetElemByCmpName)("solutiondiscussions_publicsolvablesolutionlist")),l.length&&b.default.Anchors.scrollToTarget(l)}if(0<n.length){s.each(function(e,t){u.add((0,i.default)(t))});var c=e.$solvable.parents("#nf-feeditem-modal");0<c.length&&(d=c,f=s.length,o.default.defer(u.addCmpsInContainer,d,f),d.on("scroll.deferred",o.default.throttle(function(e){u.addCmpsInContainer((0,i.default)(e.target)||null,f)},50))),(0,a.default)(n.find("textarea:visible"))}var d,f;b.default.Anchors.scrollToTarget((0,i.default)("#solutions-scrollable-container,#disputes-scrollable-container,#solv-simple-solution,#b2-solution").filter(":visible"))}},G=function(e){var t=e.$solvable;h.scaleSVG(t,p.isMobile?.4:void 0)};function U(e){h.scaleSVG(e.$solvable.find(".btn-mcqs"))}var F=function(e){"solutions"===e.currentState?(e.$solvable.find(".solv-details .btn-solution").removeClass("active"),B("",e)):(e.$solvable.find(".solv-details .btn-solution").removeClass("btn-accent").addClass("active"),e.$solvable.find(".esr-problem").addClass("btn-accent active"),B("solutions",e))},H=function(e){var t=D[e.solvable];t.solutionsLoading||(t.solutionsJustLoaded=!0,t.solutionsLoading=!0,(0,s.default)(e.page_key).post(e.postLink,e))};function R(){var e=(0,i.default)(".mcq-edit-form"),t=(0,i.default)(".question-text"),n=(0,p.jqGetElemById)("solvable_title_editor_container");return e.is(":visible")||t.hasClass("previewing")||t.hasClass("editing")||n.hasClass("editing")}A.solvable=function(e){var t=e,n=t.data("solvable"),o=D[n]||{};o.$solvable=t,o.data=(0,p.jqGetElemById)("solvable-data").data(),o.solvableDidOnload=!0===o.solvable,o.currentState=null,o.previousState=null,D[n]=o,(0,p.jqGetElemById)("direct-link-input").on("click",function(e){e.stopPropagation(),(0,i.default)(e.currentTarget).select()}),G(o),o.solutionsJustLoaded?(D[n].solutionsJustLoaded=!1,o.solutionsJustLoaded=!1,B("solutions",o)):o.disputesJustLoaded?((0,i.default)(".dispute-disc-modal, .reveal-disputes-modal").modal("hide"),D[n].disputesJustLoaded=!1,o.disputesJustLoaded=!1,B("disputes",o)):p.isMobile&&p.userIsAuthenticated&&o.$solvable.find("#solv-simple-solution").length&&B("solutions",o),h.updateMathjax(t.find(".uses-latex, .latex")),!0!==o.solvableDidOnload&&(D[n].solvableDidOnload=!0,k.default.add_form(),k.default.votes());var a=t.data("ir-verification");if(a&&!a.preventUpdate){var r=t.find(".solv-details"),s=a.canStillAnswer===!r.hasClass("endstate"),c=a.answerIsCorrect===r.hasClass("correct"),d=a.attemptNumber===t.find("#attempt-number").data("attempt-number");s&&c&&d||l.default.track("instant response mismatch",{solvable:n,answer:encodeURIComponent(a.answer),url:window.location.href,"endstate mismatch":!s,"correct/incorrect state mismatch":!c,"attempt number mismatch":!d}),t.removeData("ir-verification")}},A.solvableRedesign=function(e){var t=e.data("solvable"),n=D[t]||{};n.$solvable=e,n.data=(0,p.jqGetElemById)("solvable-data").data(),n.solvableDidOnload=!0===n.solvable,D[t]=n,k.default.add_form(),k.default.votes(),e.find(".sharing-dd .dropdown-menu").on("click",function(e){e.stopPropagation()}),e.find(".bsharing-link").on("click",function(){(0,i.default)(this).parents(".dropup").removeClass("open")}),e.find(".direct-link").on("click",function(){(0,i.default)(this).find("input").select()}),("solutions"===n.currentState||n.$solvable.hasClass("solutions"))&&(n.currentState="solutions",n.$solvable.find(".solv-details .btn-solution").first().addClass("active")),(0,T.default)(e),A.cropActionsMenu(e);var o=(0,i.default)(".solv-signed-up");if(o.length){var a=o.offset().top+o.outerHeight(),r=n.$solvable.find(".solv-details").offset().top;(0,p.setScrollPosition)(r-a-2*p.mediumPadding)}},A.editableTitle=function(e){var t=e.find(".edit-title-link");if(null!==e&&e.length&&null!==t&&t.length){var n=e.find(".cancel-edit-link");t.on("click",function(){if(R()){var n=t.data(),i=n.errorTitle,o=n.errorContent;b.default.showGenericModal(i,o)}else e.addClass("editing")}),n.on("click",function(){e.removeClass("editing")})}},A.solversInit=function(e){(D[e.data("solvable")].$solversContainer=e).find(".cmp-deferred").length?z($(e)):e.appendTo((0,p.jqGetElemByCmpName)(e.data("cmp-target"))).removeClass("hide")},A.answerFormWrapper=function(e){var t=e.find("input#id_answer");if(t.length){var n=function(){var n=""===t.val().trim();e.find(".btn-submit").prop("disabled",n).toggleClass("disabled",n)};t.on("input",n),n()}o.default.defer(function(){var t=$(e);e.find("form").on("submit",function(){t.$solvable.find(".spinner").addClass("active")}),p.isMobile?-1!==navigator.userAgent.indexOf("Android 4.0")&&e.find("#id_answer").on("focus",function(){var e=(0,i.default)(this);setTimeout(function(){var t=e.offset().top-20;0<t&&(0,p.setScrollPosition)(t)},500)}):e.data("disable-auto-focus")||e.find("#id_answer").select(),U(t)})},A.loggedOutForm=function(e){var t=e.find(".logged-out-answer"),n=e.parents(".solv-details,.solv-details-loggedout").find(".logged-out-solution"),o=(0,p.jqGetElemById)("solv-public-signup"),a=o.find(".public-signup-right"),r=o.find("#signup-fb"),s=o.find("#login-fb"),c=o.find("#signup-google"),u=o.find("#login-google"),f=o.find("#signup-email, #problem-signup-link-alternative"),v=o.find("#problem-login-link, #problem-login-link-alternative"),g=o.find("#public-answer"),y=e.find(".btn-mcq"),w=e.find("[name=logged-out-mcq]"),k=e.hasClass("mcq-form"),C=e.hasClass("multi-select"),x=e.data(),E=(x.redirect,r.attr("href")),I=s.attr("href"),j=c.attr("href"),T=u.attr("href"),q=f.attr("href"),O=v.attr("href"),S=!0===x.delayedSignup,P=function(){var e="";if(C){var n=[];w.each(function(e){(0,i.default)(this).is(":checked")&&n.push(e+1)}),e=n.join("|")}else if(!k&&t.length)e=t.val();else if(w.length){var o=w.filter(":checked");e=o.length?o.val():""}return e.trim()},A=function(e,t){if(e){var n=-1===e.indexOf("%3F")?"?":"&";return e+encodeURIComponent(n+t)}},D=function(e,n,i){if(p.$body.hasClass("hundredday-page")){var d=(0,p.jqGetElemById)("solv-main");d.css({height:d.outerHeight()}),o.appendTo(p.$body),(0,p.jqOffOn)(o.find(".modal-bg"),"click.modalhack",function(){d.css("height","auto"),o.insertAfter(".solv-problem")})}!function(e,t){e.preventDefault();var n=P(),i={},o={},d=E,p=I,h=j,y=T,b=q,C=O;l.default.track("ui",{action:"click",element_type:"button",element_id:"logged_out_solvables_"+t});var S=isNaN(parseFloat(n));if(a.removeClass("text-answer alt show-form"),n.length){if(0<=n.indexOf("|"))g.text("Those choices");else if(k&&m.default.textContainsUnrenderedMath(n)){var D=w.filter(function(){return this.value===n}).parents(".btn-mcq").children("span").html();g.html(D)}else g.text(n.replace(/__replace_plus__/g,"+").replace(/__rep_perc__/g,"%").replace(/__rep_ques__/g,"?"));i.attempt=encodeURIComponent(n),o.attempt=encodeURIComponent(n),f.add(v).data("attempt",n),f.add(v).attr("data-attempt",n),S&&a.addClass("text-answer")}else a.addClass("alt"),n="no-input";if(d&&(d=d.replace("try-value-value",encodeURIComponent(n))),p&&(p=p.replace("try-value-value",encodeURIComponent(n))),h&&(h=h.replace("try-value-value",encodeURIComponent(n))),y&&(y=y.replace("try-value-value",encodeURIComponent(n))),b&&(b=b.replace("try-value-value",encodeURIComponent(n))),C&&(C=C.replace("try-value-value",encodeURIComponent(n))),x.isQuiz){var M="problem="+x.solvableSlug+"&attempt="+n;d=A(d,M),p=A(p,M),h=A(h,M),y=A(y,M),b=A(b,M);var N="";-1==C.indexOf("problem=")&&(N+="problem="+x.solvableSlug,-1==C.indexOf("attempt=")&&(N+="&")),-1==C.indexOf("attempt=")&&(N+="attempt="+encodeURIComponent(n)),C=A(C,N)}if(x.topicTag&&(i.topic_tag=x.topicTag,o.topic_tag=x.topicTag,d=A(d,"topic_tag="+x.topicTag),p=A(p,"topic_tag="+x.topicTag),h=A(h,"topic_tag="+x.topicTag),y=A(y,"topic_tag="+x.topicTag),f.add(v).data("topic_tag",x.topicTag),f.add(v).attr("data-topic_tag",x.topicTag)),b){var $=b.match(/next=(.*)/);$.length&&(f.data("next",$[1]),f.attr("data-next",$[1]),f.data("already_escaped",!0),f.attr("data-already_escaped",!0))}if(C){var z=C.match(/next=(.*)/);if(z.length){var B=decodeURIComponent(z[1]);v.data("next",B),v.attr("data-next",B)}}r.attr("href",_.appendGetParams(d,i)),s.attr("href",_.appendGetParams(p,i)),c.attr("href",_.appendGetParams(h,i)),u.attr("href",_.appendGetParams(y,i)),f.attr("href",_.appendGetParams(b,o)),v.attr("href",_.appendGetParams(C,o))}(e,n),(0,p.jqGetElemById)("nf-modal-close").hide(),o.addClass("open"),h.scaleSVG(g),t.blur();var y=o.find("#public-signup-tour");y.length&&!y.data("already-opened")&&(y.data("already-opened",!0),y.attr("data-already-opened",!0),l.default.track("ui",{action:"viewed_prenux_slide",step_position:1,is_first_step:!0,is_last_step:!1})),i&&o.on("click",function(){o.removeClass("open")})},M=!1,N=function(e,t){S?setTimeout(function(){D(e,t,!1)},1e4):D(e,t,!0)},$=function(t){if(S){var n=e.parents(".solv-main").find("#solv-simple-solution");n.show(),t&&b.default.Anchors.scrollToTarget(n)}};e.on("submit",function(e){e.preventDefault(),N(e,"submitted_form"),$(),P()&&S&&!M&&(M=!0,l.default.track("ui",{element_id:"viewed_logged_out_answer_sponsored"}))}),(0,p.jqOffOn)(n,"click",function(i){t.val(""),y.removeClass("active dim"),w.filter(":checked").prop("checked",!1),N(i,"clicked_solution_btn"),S&&(i.preventDefault(),$(!0),e.data("viewed-solution",!0),e.submit(),l.default.track("ui",{element_id:"viewed_logged_out_solution_sponsored"}),n.fadeOut(100))}),p.$body.on(d.EVT_QUIZ_POSITION_DID_CHANGE,function(){(0,i.default)(".logged-out-solution").removeClass("dim disabled").removeAttr("disabled")})},A.preventSocialButtonDoubleClick=function(e){e.find(".signup-social").on("click",function(e){var t=(0,i.default)(this);t.hasClass("disabled")?e.preventDefault():t.addClass("disabled")})},A.mcqForm=function(e){var t=e.find("label"),n=function(){var t=e.find("input:checked").length<=0;e.find(".btn-submit").prop("disabled",t).toggleClass("disabled",t)};t.on("click",function(){var e=(0,i.default)(this),o=e.find("input"),a=o.val()||null;null!==a&&(o.prop("checked",!0),t.removeClass("active dim"),e.addClass("active"),S=a.replace(/__replace_plus__/g,"+")),n()}),n()},A.multiSelectForm=function(e){var t=function(){var t=e.find("input:checked").length<=0;e.find(".btn-submit").prop("disabled",t).toggleClass("disabled",t)};e.find("label").on("click",function(e){e.preventDefault();var n=(0,i.default)(this);setTimeout(function(){var e=n.find("input"),i=e.val()||null,o=e.is(":checked");null!==i&&(o?(e.prop("checked",!1),n.removeClass("active")):(e.prop("checked",!0),n.addClass("active")),t())})}),t()},A.answerForm=function(e){var t=e.find("#id_answer");e.on("submit",function(n){n.preventDefault();var i=e.attr("id"),a="mcq-form"===i,r="text_answer_entry_form"===i,c=t.val(),d=t.data("placeholder");if(M&&0===N&&(a||r&&""!==c&&c!==d))(0,p.jqGetElemById)("solv-public-form").addClass("open");else{var u=(0,s.default)(e.find("#id_page_key").val()),f=e.parents(".solv-main"),h=e.parents(".solv-details").clone(),m=!1,v=0,g=function(e){v&&!m&&(m=!0,l.default.track("ui",{element_id:"solvable_answer_resend",resend_count:v,resend_successful:e,resend_total_time:500*v}))},y=function(){f.find(".solv-details").replaceWith(h),f.find(".b2-solution").hide(),f.removeClass("solutions"),h.find(".spinner").removeClass("active"),h.find(":disabled,.dim").removeClass("dim disabled").removeAttr("disabled"),(0,E.initGenericControllers)(h)},_=u.success;u.success=function(){_.apply(u,arguments),g(!0)},u.error=function(t,n){var i;0===t.status?(i=n,v<120?(v++,setTimeout(function(){u.post(i.url,i)},500)):(b.default.showGenericModal("Error",e.data("max-resend-error")),y(),g(!1))):"timeout"===t.statusText?((0,x.showTimeoutErrorModal)(),y()):0<t.status&&((0,x.errorModalHandler)(t),y())},o.default.defer(function(e){var t=f.data("ir-verification"),n={};try{t.preventUpdate?n.instant_response_check="cant_tell":n.instant_response_check=t.answerIsCorrect?"correct":"incorrect",n.instant_response_problem_completed=t.canStillAnswer?"no":"yes",n.instant_response_tries_left=t.triesLeft}catch(e){}u.form(e,n)},e.clone())}})},A.edit=function(e){var t=e.find("form"),n=0<e.find(".solv-edit-trigger").length?e.find(".solv-edit-trigger"):(0,i.default)(".solv-edit-trigger"),o=e.closest(".course-quiz-flex");0===o.length&&(o=e.closest(".solv-main"));var r=o.find(".solvable-mcq-options-btn"),s=o.find(".mcq-edit-form"),c=o.find(".edit-mcq-cancel"),d=e.find(".question-text-preview"),u=e.find(".cancel-edit"),f=e.find(".question-text-preview-field"),h=e.find(".show-solution"),m=t.find("textarea").not(".codex-textarea textarea"),v="editing";r.length||(r=(0,p.jqGetElemById)("answer-edit-trigger"));var g=function(o){if(o&&o.preventDefault(),(0,i.default)(this).is(":not(.is-reedit-trigger)")&&R()){var r=n.data(),s=r.errorTitle,l=r.errorContent;b.default.showGenericModal(s,l)}else(0,i.default)(this).addClass("active"),e.removeClass("previewing"),e.addClass(v),f.val("true"),(0,i.default)(window).scrollTop(t.offset().top-150),(0,a.default)(m),(0,I.wikiLinks)(m),m.focus(),e.data("previewing",!1)};u.on("click",function(t){t&&t.preventDefault(),e.removeClass(v),f.val("false"),e.data("previewing",!0)}),n.on("click",g),e.hasClass(v)&&g(),r.on("click",function(e){if(e.preventDefault(),R()){var t=r.data(),n=t.errorTitle,i=t.errorContent;b.default.showGenericModal(n,i)}else s.siblings().hide(),s.show()}),c.on("click",function(e){e.preventDefault(),s.siblings(":not(script)").show(),s.hide()}),d.on("click",function(e){e.preventDefault(),t.submit()}),t.on("submit",function(){var t=e.data();t.suspended&&t.previewing&&b.default.showGenericModal(t.suspendedTitle,t.suspendedText)}),e.find(".saved").addClass("out"),h.on("click",function(e){var t=(0,i.default)(e.target);e.preventDefault(),t.next().toggleClass("hide");var n={action:"staff_only_action",solvable:m[0].classList[0].replace("solvable_question-","")};"Show Solution"===t.html()?(t.html("Hide Solution"),n.element_id="clicked_show_solution"):(t.html("Show Solution"),n.element_id="clicked_hide_solution"),l.default.track("ui",n)})},A.solutionButton=function(e){var t=e.data(),n=$(e);(0,p.jqOffOn)(e,"click.showSolution",o.default.debounce(function(a){if(a.preventDefault(),!e.hasClass("disabled")){var r=(0,i.default)(".solv-solutions");if(p.isMobile&&r.hasClass("expanded")&&(0,p.setScrollPosition)(r.offset().top-(0,i.default)(".m-action-bar").height()),e.data("solutions-loaded"))F(n);else{var s=function(){var n=p.isMobile?e.find(".main"):e;e.addClass("dim").blur(),b.default.toggleButtonLoadingState(n,!0),H(t)},l=(0,p.jqGetElemById)("solv-confirm-box");l.length&&p.isMobile?(p.$body.append(l),l.show(),o.default.defer(function(){l.addClass("active")}),(0,p.jqOffOn)(l.find(".btn"),"click",function(e){l.removeClass("active"),setTimeout(function(){l.hide()},210),(0,i.default)(e.currentTarget).hasClass("btn-confirm")&&s()})):s()}}},300)),-1!==window.location.href.indexOf("/solution-comments/")&&"solutions"!==n.currentState&&(e.data("solutions-loaded")?F(n):n.$solvable.find(".solv-details.endstate").length&&H(e.data()))},A.disputeDiscTrigger=function(e){var t=e.data(),n=$(e),o=!1,a=(0,i.default)(".dispute-disc-modal");e.on("click",function(e){e.preventDefault(),t.disputesLoaded?(B("disputes",n),!1===o&&(o=!0,(0,i.default)("#solvable-resend-verification-form").submit())):(a.modal("show"),!1===o&&(o=!0,a.find("#solvable-resend-verification-form").submit()))})},A.staffDisputeDiscForm=function(e){e.on("submit",function(){D[e.data("solvable")].disputesJustLoaded=!0})},A.disputeModalForm=function(e){var t=e.find(".explanation");e.find('input[type="radio"]').on("change",function(){t.hasClass("visible")||(t.addClass("visible"),(0,a.default)(t.find("textarea")))})},A.disputeModalFormEndState=function(e){e.find(".view").on("click",function(){e.find(".view-reports").addClass("loading"),(0,p.jqGetElemById)("enter-dispute-discussions-form").trigger("submit")})},A.revealDisputesModal=function(e){e.on("click",function(){(0,i.default)(".reveal-disputes-modal").clone(!0).modal("show")})},A.revealDisputes=function(e){e.on("click",function(e){(0,i.default)(e.currentTarget).addClass("".concat(d.CLASS_NAME_DISABLED," ").concat(d.CLASS_NAME_LOADING)),(0,p.jqGetElemById)("enter-dispute-discussions-form").trigger("submit")})},A.enterDisputeDiscussionsForm=function(e){e.on("submit",function(){D[e.data("solvable-id")].disputesJustLoaded=!0})},A.deleteForm=function(e){var t=(0,p.jqGetElemById)("stats-delete-btn");t.on("click",function(){var n=e.find("form");e.modal(),t.addClass("hide"),n.on("submit",function(){e.modal("hide")})})},A.reviewedForm=function(e){var t=(0,p.jqGetElemById)("stats-reviewed-btn");t.on("click",function(){var n=e.find("form");e.modal(),t.addClass("hide"),n.on("submit",function(){e.modal("hide")})})};var V,W,K=!(A.mostPopularRecommendedProblem=function(e){var t=(0,i.default)(".recommended-problems .most-popular-recommended-problem");t.length&&t.clone(!0,!0).appendTo(e.empty())});A.NotifyAboutGoodSolution=new function(){var e=this,t=null,n=null,o=null,a=null;return e.exists=!1,e.controller=function(r){e.exists=!0,n=(t=r).find(".dropdown-toggle"),o=t.find(".dropdown-menu"),p.isMobile?(0,p.jqOffOn)((0,i.default)(".btn-solution"),"click.notifyAboutGoodSolution",function(e){e.preventDefault();var n=t.modal();n.find("button").on("click",function(){n.modal("hide")})}):(n.on("mouseenter",e.show).on("click",function(e){e.preventDefault()}),t.on("mouseleave",function(){a=setTimeout(e.hide,1e3)}).on("mouseenter",function(){clearTimeout(a)})),o.on("click",function(e){e.stopPropagation()}),t.find("form").on("submit",function(){K=!0,t.addClass("loading")}),K&&(K=!1,e.show())},e.show=function(e){t.hasClass("open")||(t.addClass("open"),o.addClass("open").fadeIn(e||500))},e.hide=function(e){if(t.hasClass("open")){var n=function(){t.removeClass("open"),o.removeClass("open")};o.is(":visible")?o.fadeOut({duration:e||500,complete:n}):(o.hide(),n())}},e.toggle=function(n){t.hasClass("open")?e.hide(n):e.show(n)},e.toggleIcon=function(e){t&&(e?t.show():t.hide())},e},A.cropActionsMenu=function(e){var t=e.find(".solv-actions-dropdown");t.find(".dropdown-toggle").on("click",function(){var n=e.outerHeight(!0)-e.find(".solv-footer").outerHeight(!0);p.isMobile&&(n-=e.find(".solv-details").outerHeight(!0)),t.find(".dropdown-menu").css("max-height",n)})},A.showChapterIntro=function(e){var t=e;e.hasClass("quiz-wrapper")||(t=e.parents(".quiz-wrapper"),e.find(".btn-link").on("click",function(){t.toggleClass("chapter-intro-view")}));var n=t.find(".chapter-intro-wrapper"),o=n.find(".btn-tabs .btn");o.on("click",function(){var e=(0,i.default)(this);e.hasClass("active")||(o.removeClass("active"),e.addClass("active"),n.removeClass("intro quizzes wikis").addClass(e.data("value")))})},A.practiceAnonWrapper=function(e){M=!0,N=e.data("signup_after_n_problems");var t=".prev-marker-btn",n=".next-marker-btn",o=e.find(".prac-anon-item"),a=e.find("".concat(t,", ").concat(n)),r=e.find(".prac-markers"),s=r.find(".prac-marker"),l="visible",c="current",u=1<r.length,f=o.length;function h(e){a.filter(t).toggleClass("disabled",0===e),a.filter(n).toggleClass("disabled",e===f-1)}function m(e){if(!(e<0||f<=e)){h(e),o.removeClass(l).eq(e).addClass(l),u?(s.removeClass(c),(0,i.default)(r[e]).find(".prac-marker").eq(e).addClass(c)):s.removeClass(c).eq(e).addClass(c),p.$body.trigger(d.EVT_QUIZ_POSITION_DID_CHANGE);var t=(0,i.default)(".prac-anon-item.visible .codex-container");t.length&&(0,w.controller)(t)}}if(a.on("click",function(e){e.preventDefault();var t=(0,i.default)(this),n=o.filter("."+l),a=o.index(n);t.hasClass("prev-marker-btn")?a--:t.hasClass("next-marker-btn")&&a++,m(a)}),s.on("click",function(){m((0,i.default)(this).index())}),u){o.length;var v=function(e){return function(){m(s.filter(".current").index()+e)}};b.default.keyboardNavigation({left:v(-1),right:v(1)})}h(s.filter(".current").index())},A.practiceAnon=function(e){if(e.hasClass("prac-anon-item")){var t=e.find(".solv-details").not(".course-quiz-solv-details"),n=e.outerHeight();t.css({overflow:"auto"});var i=b.default.getScrollHeight(t)+2;t.css({overflow:"hidden"}),n<i&&o.default.defer(function(){t.css({position:"static"})})}},A.nextSkillB2Modal=(V=null,function(e){e.on("click",function(e){e.preventDefault(),null===V?V=(0,p.jqGetElemById)("prac-next-skill-b2").modal():V.modal("show")})}),A.checkAnswerButton=function(e){var t=$(e).$solvable,n=function(t){t=!0===t,p.isIos&&p.appVersion.isGreaterThanOrEqualTo("0.9.7")&&(window.location=t?"disableanswerbutton://":"enableanswerbutton://");var n="btn-outline disabled",i="btn-accent";e.removeClass(t?i:n),e.addClass(t?n:i)};o.default.defer(function(){var e=t.find(".btn-mcq");t.find(".mcq-form").removeClass("disable-for-mobile"),e.one("click",n)}),e.on("click",function(){e.hasClass("disabled")||t.find("#mcq-form").submit()})},A.recentSolvers=function(e){var t=(D[e.data("solvable")].$solversList=e).parents(".solv-author").find(".likes-container"),n=e.find(".btn-expand").width();t.css("padding-left",n+14),e.removeClass("hidden"),(0,p.jqOffOn)(e.find("button"),"click",function(){e.toggleClass("expanded");var n=e.find("button:visible").width();t.css("padding-left",n+14)})},vkey.assessment_modal_public_solvable_component=function(e){var t=e.find(".solv-main").data("solvable");D[t]=D[t]||{},D[t].solvableDidOnload=!1,(0,E.initGenericControllers)(e),k.default.add_form(),k.default.votes(),k.default.events(),e.find(".modal-target").each(C.default.modal_events),(0,c.initAutosubmit)(e)},A.assessment_modal_public_solvable_component=vkey.assessment_modal_public_solvable_component,A.levelUpModal=function(e){var t=(0,p.jqGetElemById)("streak-modal"),n=function(){e.appendTo(p.$body),e.removeClass("hide"),o.default.defer(function(){e.addClass("in")}),e.find(".close").on("click",function(){e.removeClass("in"),setTimeout(function(){e.addClass("hide")},300)}),(0,p.jqGetElemById)("sidebar-leveled-up-msg").show(),l.default.track("ui",{element_id:e.data("ax-id"),element_type:"modal",action:"displayed"})};o.default.defer(function(){t.length?t.on("hide",function(){o.default.defer(n)}):n()})},A.staffBios=function(e){var t=null!=e.data("delay")?e.data("delay"):200,n=(0,p.jqGetElemById)("prac-staff-bios"),i=!1,a=function(a){if(p.isMobile)n.modal();else{a.stopPropagation();var r=e.data("flag");r&&(f.default.update(r,!0),e.removeData("flag"),e.removeAttr("data-flag")),i=!i,e.toggleClass("bios-visible",i),i?(n.show(),o.default.defer(function(){n.addClass("in")})):(n.removeClass("in"),setTimeout(function(){n.hide()},t))}};e.find(".bios-hover-trigger").on("mouseenter mouseleave",function(t){e.data("flag")||e.toggleClass("bios-hover")}).on("click",a),e.find(".btn-bios").on("click",a)},A.pracSolutionToggle=(W={},function(e){e.on("click",function(){F($(e)),e.blur();var t=e.data();if(t.axUrl&&t.targetObjectId&&!W[t.targetObjectId]){var n={element_id:t.axId,source_attempt_id:t.sourceAttemptId,target_object_id:t.targetObjectId,target_object_type:"solution",target_object_referrer:encodeURIComponent(t.targetObjectReferrer)};i.default.get(t.axUrl,n),W[t.targetObjectId]=!0}})}),A.endstate=function(e){var t=e.closest(".solv-main"),n=t.find(".solv-author"),i=t.find(".solv-problem");n.length&&o.default.defer(function(){var o=n.offset().top,a=i.outerHeight(!0),r=t.find(".solv-details").outerHeight(!0);if(a<r){var s=parseInt(i.css("margin-top"),10);a=r,s<0&&(a-=s),i.css("min-height",a)}var l="height";e.find(".potw-solutions-activity").length&&(l="outerHeight"),y.default.stick(e,{bottom:o,handler:function(e){if(e.hasClass("stuck-bottom")){var t=Math.max(a,r)-e[l]();e.css("top",t)}else e.css("top","")},namespace:"sticky-solv-details-endstate"})})},A.autoshowSolutions=function(e){var t=$(e);o.default.defer(function(){t.$solvable.find(".btn-solution[data-controller*=solutionButton]").click(),"replaceState"in window.history&&window.history.replaceState({},"",window.location.href.replace(/[\?|&]just_created=true/,""))})},A.wikiContribModal=function(e){(0,p.jqGetElemById)("wiki-contrib-btn").on("click",function(){e.modal()})},A.previewCustomEndstateText=function(e){e.on("click",function(){(0,p.jqGetElemById)("solv-custom-endstate-preview").toggle()})},A.wikiModalProblem=function(e){C.default.feeditem_modal(),e.find(".load-modal").each(function(){if(p.isNative){var e=(0,i.default)(this).find(".modal-link"),t=e.attr("href");t+=-1===t.indexOf("?")?"?":"&",t+="newwindow=true",e.attr("href",t).attr("target","")}else C.default.modal_events.apply(this,arguments),h.checkOverflow((0,i.default)(this))})},A.wikiExpandableProblem=function(e){var t=e.find(".problem-container");e.on("click",function(n){n.pageY<t.offset().top&&e.toggleClass("expanded")})},A.sendFeedback=function(e){var t,n=e.find("textarea"),o=e.find(".btn-accent"),a=e.find(".btn-feedback"),r=e.closest(".no-stars"),l=r.find("#quiz_stats_hider"),c=r.parent().find(".btn-accent.btn.next"),d=function(){0<l.length&&0<r.find(".feedback-smiley").length&&(l.removeClass("hide"),c.html("Next quiz"))};(0,p.jqOffOn)(n,"keyup",function(e){n.val()?o.removeClass("disabled"):o.addClass("disabled")}),(0,p.jqOffOn)(a,"click",function(e){(0,i.default)(e.currentTarget).toggleClass("active"),t=e.currentTarget.value});var u=(0,s.default)(e.find("#id_page_key").val()),f=u.success;u.success=function(e,n,i){"up"===t?setTimeout(function(){f.apply(u,[e,n,i]),d()},200):(f.apply(u,[e,n,i]),d())},(0,p.jqOffOn)(e,"submit",function(n){n.preventDefault(),u.form(e,{version:e.find("#id_version").val(),component_key:e.data().cmpKey,thumbs:t})}),0<c.length&&(0,p.jqOffOn)(c,"click",function(t){0<e.find("textarea").length&&(t.preventDefault(),n.val()||n.val(" "),u.form(e,{version:e.find("#id_version").val(),component_key:e.data().cmpKey}))})};var J=function(e,t){var n=vkey.handle(e,t),o=n.parents(".solv-main"),a=$(o),r=0<o.find(".endstate").length;if(p.$body.toggleClass("endstate",r),a.$solvable=n.parents(".solv-main"),a.solvableDidOnload=!1,D[o.data("solvable")]=a,A.solvable(o),A.solvableRedesign(o),p.isMobile&&A.NotifyAboutGoodSolution.exists&&A.NotifyAboutGoodSolution.toggleIcon(a.data.answerIsCorrect||0===a.data.attemptNumber),function(e,t){if((e=e||(0,i.default)("[data-controller].dim")).length){e.removeClass("dim disabled").removeAttr("disabled"),e.data("solutions-loaded",t);var n=p.isMobile?e.find(".main"):e;b.default.toggleButtonLoadingState(n,!1)}}((0,i.default)(".btn-solution.dim,.btn-solution.disabled"),0<(0,i.default)(".solv-simple-solution,.solv-solutions").length),z(a),h.updateMathjax(n),p.isMobile&&!p.$body.hasClass("prac-solvable")){var l=o.find(".btn-solution");(0,i.default)(".solv-details.endstate.correct").length&&l.data("solutions-loaded",!0),!1===l.data("originally-disabled")&&l.removeClass("disabled")}else p.isMobile&&A.solutionButton(o.find(".btn-solution").not(".btn-b2-flag"));if(p.instantTryItYourself&&r){var c=(0,p.jqGetElemById)("cmp_wiki_canonical_page_id");if(c.length){var d=c.find(".summary").data();(0,s.default)(d.pageKey).post(d.cmpUrl,{page_key:d.pageKey,component_key:d.cmpKey})}}var u,f,m=n.find(".mcq.endstate .mcq");if(m.length&&S&&!a.data.canStillAnswer){var v=m.data("registered-choice").toString();v&&S!==v&&g.default.captureMessage("Registered choice does not match the corresponding clicked one",{tags:{"____Clicked.Choice":S,"___Registered.Choice":v,"__Answer.Is.Correct":a.data.answerIsCorrect,"_Problem.Url":window.location.href}})}if(S=null,(p.$body.hasClass("portal-page")||p.$body.hasClass("portal-feed-page"))&&(a.data.answerIsCorrect?(u="correct",f="Correct"):"solutions"===a.currentState?(u="viewed-solution",f="Viewed solution"):a.data.canStillAnswer?0<a.data.attemptNumber&&(u="incomplete",f="Not finished"):(u="incorrect",f="Incorrect"),u||f)){var y=a.$solvable.data("solvable"),_=(0,i.default)('.problems-section .feed-section-row[data-solvable-id="'+y+'"] .icon');u&&_.removeClass("correct viewed-solution incorrect incomplete").addClass(u),f&&_.attr("title",f)}return n};vkey.assessment_public_solvable_logged_in=vkey.hundred_day_challenge_solvable_logged_in=J,vkey.quizzes_remove_solvable_from_quiz=vkey.quizzes_remove_pane_from_quiz=function(e,t){var n=(0,i.default)(e.new_html).find(".target_content_id").val(),o=(0,i.default)(".target_content_id.".concat(n)).closest(".cmp_".concat(t,"_id"));if(0===o.length)window.vkey.handle(e,t);else{var a="".concat(t,"_").concat(n);o.addClass("cmp_".concat(a,"_id")),window.vkey.handle(e,a)}},vkey.quizzes_problemset=function(){var e=J.apply(vkey,arguments);A.cropActionsMenu(e);var t=e.parents(".prac-preload-wrapper");if(t.length&&j.default.practice(t,{reloaded:!0}),p.isMobile){var n=e.find(".b2-solution");n.length&&n.is(":visible")&&0===(0,p.jqGetElemById)("solv-simple-solution").length&&b.default.Anchors.scrollToTarget(n)}else{var i=(0,p.jqGetElemById)("b2-solution"),o=e.find(".solv-details").hasClass("endstate");if(i.length&&o){var a="auto_scrolled_to_free_solution";!0!==r.default.get(a)&&(b.default.Anchors.scrollToTarget(i),r.default.set(a,!0))}}},vkey.potw_problemset=vkey.potw_problemset_default=vkey.quizzes_problemset;var Y=function(e,t,n){var i=window.vkey.handle(e,t);h.updateMathjax(i.find(".latex")),k.default.votes(),k.default.add_form(),k.default.subscribe(),i.find(".vote-trigger.with-tooltip").tooltip(),k.default.events(),h.scaleSVG(i.find(".latexprocessor-block, .latexprocessor-inline"));var o=$(i.parents(".solv-main"));L(o,n)};vkey.quizzes_challengesolvablesolutionlist=vkey.potw_solvablesolutionlist=vkey.solutiondiscussions_publicsolvablesolutionlist=function(e,t){Y(e,t,"solutions")},vkey.potw_solvabledisputelist=vkey.quizzes_solvabledisputelist=vkey.disputediscussions_publicsolvabledisputelist=function(e,t){Y(e,t,"disputes")};var Q=function(e,t){var n=window.vkey.handle(e,t);return h.updateMathjax(n.find(".latex")),k.default.add_form(),n};vkey.quizzes_challengesolvableaddsolutionpost=vkey.potw_addsolvabledisputepost=vkey.potw_solvableaddsolutionpost=vkey.quizzes_addsolvabledisputepost=vkey.groups_groupsolvableaddsolutionpost=vkey.solutiondiscussions_publicsolvableaddsolutionpost=vkey.disputediscussions_publicsolvableadddisputepost=Q,vkey.disputediscussions_publicsolvableadddisputepostmodal=vkey.potw_addsolvabledisputepostmodal=vkey.quizzes_addsolvabledisputepostmodal=function(){var e=Q.apply(vkey,arguments);(0,E.initGenericControllers)(e)},vkey.quizzes_solvabledisputesubscribe=vkey.quizzes_challengesolvablesolutionsubscribe=vkey.disputediscussions_publicsolvabledisputesubscribe=vkey.solutiondiscussions_publicsolvablesolutionsubscribe=function(e,t){vkey.handle(e,t),k.default.subscribe()},vkey.quizzes_interstitial_pane=function(e,t){var n=p.$body.data(d.QUIZ_CHAPTER_INTRO_STATE);if(n&&!0===n.active)p.$body.data(d.QUIZ_CHAPTER_INTRO_STATE,{active:!0,numContinuingPanes:n.numContinuingPanes-1});else{var i,o=vkey.handle(e,t),a=o.parents(".prac-preload-wrapper");a.length&&(!0===p.$body.data("reloading-disputes")?(i=!1,p.$body.data("reloading-disputes",!1)):!0===p.$body.data("reloading-pane-from-chapter-intro")?(i=!1,p.$body.data("reloading-pane-from-chapter-intro",!1)):i=!o.find(".solv-pane.is-editing-pane").length&&!(0,p.jqGetElemById)("sales-card").length,j.default.practice(a,{reloaded:!0,useTargetPosition:i}))}},e.exports=A},594:function(e,t,n){var i={"./ajax":8,"./ajax.js":8,"./ajax_upload":128,"./ajax_upload.js":128,"./analytics":3,"./analytics.js":3,"./app_version":37,"./app_version.js":37,"./autosave":88,"./autosave.js":88,"./autosubmit":25,"./autosubmit.js":25,"./branch":111,"./branch.js":111,"./btooltip":65,"./btooltip.js":65,"./constants":7,"./constants.js":7,"./content_type":153,"./content_type.js":153,"./cookies":154,"./cookies.js":154,"./creation_modal":281,"./creation_modal.js":281,"./csrf":38,"./csrf.js":38,"./cursor":54,"./cursor.js":54,"./deferred":39,"./deferred.js":39,"./email_validator":184,"./email_validator.js":184,"./flags":24,"./flags.js":24,"./global":1,"./global.js":1,"./latex":18,"./latex.js":18,"./mathjax_loader":31,"./mathjax_loader.js":31,"./mobile_native":282,"./mobile_native.js":282,"./modal_helpers":112,"./modal_helpers.js":112,"./onload":12,"./onload.js":12,"./pager":125,"./pager.js":125,"./popstate":126,"./popstate.js":126,"./raven":21,"./raven.js":21,"./sharing":194,"./sharing.js":194,"./sticky":89,"./sticky.js":89,"./text_formatter":155,"./text_formatter.js":155,"./ui":5,"./ui.js":5,"./urls":14,"./urls.js":14,"./vkey":156,"./vkey.js":156};function o(e){var t=a(e);return n(t)}function a(e){var t=i[e];if(t+1)return t;var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}o.keys=function(){return Object.keys(i)},o.resolve=a,(e.exports=o).id=594},64:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.controller=m,t.expandableCode=function(e){var t=e.data("codex-env-id")||null,n=e.find(".codex-expand-toggle"),i=function(i,o){i&&i.preventDefault(),void 0!==o?(t&&(v[t]=o),n.toggleClass("active",o),e.toggleClass("expanded",o)):(t&&(v[t]=!v[t]),n.toggleClass("active"),e.toggleClass("expanded"));var a="",r=e.parents(".course-quiz-wrapper");if(e.hasClass("expanded")&&!r.length){var s=(0,l.jqGetElemById)("wrapper").offset().left,c=parseInt((0,l.jqGetElemById)("wrapper").css("padding-left"),10),d=e.offset().left;a="".concat(s+c-d,"px")}e.css("margin-left",a)};n.show(),t&&(v[t]=v[t]||!1,!0===v[t]&&i(null,!0)),n.on("click",i)};var i=c(n(0)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(55)),a=n(92),r=c(n(8)),s=n(7),l=n(1);function c(e){return e&&e.__esModule?e:{default:e}}var d="codex_page",u="cmp_".concat(d,"_id"),f=200,p=810,h=30;function m(e){var t,n=e.data(),c=e.parents(".solv-container,#solv-main"),m=e.closest(".".concat(u)),v=e.find(".codex-form"),g=e.find(".codex-btn-run"),y=e.find(".codex-view-original"),_=e.find(".codex-textarea textarea"),b=e.find(".codex-editor > div"),w=e.find("[name=language]"),k=e.find(".codex-orig").text(),C=n.codexLanguage,x=function(){var e=o.isUnchanged(t,w.val()),n=y.data("user-code");!e&&n?(y.removeData("user-code").removeData("user-code"),y.removeClass(s.CLASS_NAME_ACTIVE)):y.prop("disabled",e&&!n)},E=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];c.each(function(t,n){var o=(0,i.default)(n);o.css({height:!0===e?"auto":o.outerHeight()})})},I=function(e){var t=".".concat(u),n="".concat(u,"_ignore"),o=".".concat(n);e?(0,i.default)(t).not(m).addClass(n).removeClass(u):(0,i.default)(o).addClass(u).removeClass(n)};o.init({$editor:b,$textarea:_,initialCode:k,initialLanguage:C,language:w.val()}).then(function(c){t=c,function(e,t,n){var i=parseInt(t.display.sizer.style.minHeight,10);if(l.isNative?t.setSize(null,"".concat(i+h,"px")):i<f?t.setSize(null,"".concat(f,"px")):p<i-h?t.setSize(null,"".concat(p,"px")):t.setSize(null,"".concat(i+h,"px")),0<e.length){var o,a,r=function(e){t.setSize(null,"".concat(Math.max(f,a+e.pageY-o),"px"))},s=function e(){l.$body.off("mousemove",r),l.$window.off("mouseup",e)};e.on("mousedown",function(e){o=e.pageY,a=n.height(),l.$body.on("mousemove",r),l.$window.on("mouseup",s)})}}(e.find(".resize"),t.cm,b);var u=n.shareContext?(0,a.getSharedContext)(n.codexEnvId):null;if(setTimeout(function(){return E(!0)}),n.autoRefresh)return o.setReadOnly(t),e.find(".CodeMirror-scroll").addClass("disabled"),void setTimeout(function(){E(),(0,r.default)(d).get(n.cmpUrl,{solvable_id:n.solvableId,note_id:n.noteId,pane_id:n.paneId,previous_solvable_ids:n.previousSolvableIds,codex_env_id:n.codexEnvId})},1e3);I(!1),u&&u.applyContext(e,t);var m=/[\u2018\u2019]/g,j=/[\u201C\u201D]/g;o.onChange(t,function(){var e=o.getValue(t);if(m.test(e)||j.test(e)){e=e.replace(m,"'").replace(j,'"');var n=o.getCursor(t);setTimeout(function(){o.setValue(t,e),o.setCursor(t,n)})}u&&u.setValue(e),_.val(o.getValue(t)),x()}),g.on("click",function(){u&&u.clearOutput(),I(!0),E(),(0,r.default)(d).form(v[0],{url:n.formAction,page_key:d,cluster:n.formField__cluster,param_key:n.formField__param_key||"",version:n.formField__version})}),y.on("click",function(e){if(e.preventDefault(),!y.is(":disabled")){if(y.toggleClass(s.CLASS_NAME_ACTIVE),y.hasClass(s.CLASS_NAME_ACTIVE))y.data("user-code",o.getValue(t)),y.data("user-language",w.val()),o.setValue(t,k),w.val(C);else{var n=y.data();o.setValue(t,n.userCode),w.val(n.userLanguage)}x()}}),w.on("change",function(){o.setLanguage(t,w.val()),o.focus(t),x()}),e.find("header label").show(),n.allowNotesEditor?o.initNoteEditor(t,(0,l.jqGetElemById)("id_notes")):n.hasNotes&&o.initNotes(c,e),n.allowDeemphasizeEditor?o.initDeemphasizeEditor({state:t,$deemphasizeField:(0,l.jqGetElemById)("id_deemphasize"),$deemphasizeContainer:(0,l.jqGetElemById)("codex-deemphasize-container")}):n.deemphasizeData&&o.initDeemphasize({state:t,data:n.deemphasizeData,envId:n.codexEnvId,initialCode:k}),x();var T=e.find(".codex-email");T.length&&T.find("button").on("click",function(e){e.stopPropagation(),e.preventDefault();var t=T.data();!function(e,t,n,o){var a=(0,i.default)("#confirm-modal");0<a.length&&a.remove();var r=!1,s=(0,i.default)('\n        <div class="modal hide codex-confirm" id="confirm-modal">\n            <div class="modal-body"><p>'.concat(t,'</p></div>\n            <div class="modal-footer">\n                <a href="#" class="btn cancel" data-dismiss="modal">').concat(n.cancel_text,'</a>\n                <a href="#" class="btn btn-accent confirm">').concat(n.ok_text,"</a>\n            </div>\n        </div>\n    "));s.find(".confirm").on("click",function(e){e.preventDefault(),r=!0,s.modal("hide"),s.trigger(i.default.Event("codex.hide"))}),s.on("hide",function(){return o(r)}),e.find("div:first").after().append(s),s.modal()}(T.parents("header"),t.confirmText,{ok_text:t.confirmOkText,cancel_text:t.confirmCancelText},function(e){if(e){T.removeClass("error");var n={target_url:t.targetUrl,target_title:t.targetTitle};setTimeout(function(){i.default.post("".concat(t.baseUrl,"/codex/_native/email_me/"),n).fail(function(){return T.addClass("error")}).then(function(e){e.success?T.addClass("success"):T.addClass("error")})},100)}})})})}var v={};window.VERSIONS||window.vkey||(window.VERSIONS=window.VERSIONS||{},window.vkey=window.vkey||{handle:function(e,t){var n=(0,i.default)("#cmp_".concat(t,"_id"));0===n.length&&(n=(0,i.default)(".cmp_".concat(t,"_id"))),n.html(e.new_html),m(n.find(".codex-container"))}})},65:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOrientation=function(e,t){var n=[],o=e.offset(),a=i.$window,r=a.width()/2,s=o.top-a.scrollTop();return s-=t?t.height()+50:300,n.push(o.left>r?"right":"left"),n.push(0<s?"top":"bottom"),n.join(" ")},t.repositionTooltip=function(e){var t=e.$target,n=e.$tooltip,i=e.topOffset,o=e.leftOffset,a={},r="position"===e.offsetMethod?t.position():t.offset(),s=n.attr("class").split(" ");return-1!==s.indexOf("top")?a.top=r.top-(n.outerHeight()+i):a.top=r.top+t.height()+i,-1!==s.indexOf("left")?a.left=r.left+t.width()/2+o:a.left=r.left-n.outerWidth()-o+t.width()/2,{zIndex:t.parents(".modal,.nf-feeditem-modal").length?700:300,top:a.top,left:a.left}};var i=n(1)},66:function(e,t,n){"use strict";var i=h(n(0)),o=h(n(2)),a=n(25),r=n(3),s=n(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(18)),c=h(n(31)),d=n(5),u=n(7),f=n(9),p=n(49);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v="notloaded",g="error",y={};function _(){return(0,s.jqGetElemById)("course-quiz-endstate").is(":visible")}var b={solvableList:[],currentPosition:null,$markers:null,inited:!1,solvablesLoaded:0,submitted:!1,noHistory:!1,enableKeyboardNav:!1,targetPosition:null},w={},k={reloaded:!1,instantResponse:!1},C={};function x(e){C[e]||((new Image).src=e,C[e]=!0)}var E=[];function I(e){E.push(e)}I(function(e){var t=/src="(.*?)"/,n=e.match(/img.*src="(.*?)"/g);n&&n.forEach(function(e){var n=e.match(t);n&&x(n[1])})}),I(p.visualizationsPrefetchHandler),y.practice=function(e,t){var n=Object.assign({},k,t),p=e.data("id");!0===n.reset?w[p]={solvableList:b.solvableList.slice(0),currentPosition:b.currentPosition,$markers:b.$markers,inited:b.inited,solvablesLoaded:b.solvablesLoaded,submitted:b.submitted,noHistory:b.noHistory,targetPosition:b.targetPosition}:w[p]=w[p]||Object.assign({},b,{solvableList:b.solvableList.slice(0)}),w[p].currentPosition=null===w[p].currentPosition?e.data("current")-1:w[p].currentPosition;var h=e.data();w[p].noHistory=h.noHistory,w[p].enableKeyboardNav=!0===h.enableKeyboardNav;var m=function(t,n){var l,d,h=!0===n,_=(0,s.jqGetElemById)("interstitial-pane-continue-form");if(_.length){var b="is-continuing";!0!==_.data(b)&&(_.data(b,!0),w[p].targetPosition=t,_.submit());var k=s.$body.data(u.QUIZ_CHAPTER_INTRO_STATE);if(!k||!0!==k.active)return;s.$body.data(u.QUIZ_CHAPTER_INTRO_STATE,{active:!0,numContinuingPanes:k.numContinuingPanes+1})}if(w[p].targetPosition=null,t!==w[p].currentPosition&&w[p].solvableList[t]){var C=w[p].solvableList[t].content;switch(C){case v:d=t,s.$body.trigger(u.EVT_QUIZ_POSITION_LOADING),e.addClass("loading"),e.one("preloaded.p".concat(d),function(){m(d),w[p].solvableList[d].content!==g&&e.removeClass("loading")});break;case g:l=t,w[p].noHistory?window.location.reload():window.location=w[p].solvableList[l].url;break;default:!function(t,n,l){s.$body.trigger(u.EVT_QUIZ_POSITION_WILL_CHANGE);var d=e.find("#solv-main").add((0,s.jqGetElemById)("admin-sidebar")),h=(0,i.default)(n),m=h.find("#interstitial-pane-continue-form");m.length&&1===w[p].$markers.filter(":not(.correct,.incorrect)").length&&(m.find('input[name="form_name"]').val("continue_and_finish"),m.find("button").html("Finish quiz"));var v=(0,s.jqGetElemById)("endstate-trigger-btn");v.length&&v.removeAttr("data-show-immediately"),w[p].solvableList[w[p].currentPosition].content=d,w[p].currentPosition=t,d.remove(),e.append(h);var g=0<e.find(".endstate").length;s.$body.toggleClass("endstate",g),c.default.loadForElement(e),(0,f.initGenericControllers)(e,{force:!0}),(0,a.initAutosubmit)(e),(0,r.setAnalyticsEvents)(e),x(),(0,s.setScrollPosition)(0),l||y(w[p].currentPosition);var _=w[p].solvableList[w[p].currentPosition];_.viewed||(w[p].solvableList[w[p].currentPosition].viewed=!0,o.default.defer(function(e,t){var n=window.location,o=n.pathname;(0,r.track)("sign_of_life",{from_request:!0,is_android:s.isAndroid,ajax:!1,path:o,method:"GET",full_path:o+n.search});var a=null;switch(e.data.contentType){case"solvable":a={position:t+1};break;case"interstitial_pane":a={action:e.data.paneAction,ipconn_id:e.data.paneConnection,quiz_id:e.data.paneQuiz};break;default:throw Error("Unknown quiz item content type")}a&&i.default.ajax({method:"POST",url:e.data.statusUrl,data:JSON.stringify(a),headers:{"Content-type":"application/json"}})},_,w[p].currentPosition)),s.$body.trigger(u.EVT_QUIZ_POSITION_DID_CHANGE)}(t,C,h)}}},y=window.history.pushState&&!w[p].noHistory?function(e){o.default.defer(function(){var t={position:e};window.history.pushState(t,"",w[p].solvableList[e].url)})}:u.FUNC_NOOP;function C(e){var t=(0,i.default)(this),n=t.data("position");if(void 0===n)if(t.hasClass("btn-prev")){var o=w[p].$markers.filter(":not(.correct, .incorrect, .completed)");n=t.hasClass("solv-done-btn")&&o.length?o.first().data("position"):w[p].currentPosition-1}else n=w[p].currentPosition+1;e.preventDefault&&e.preventDefault(),t.hasClass("disabled")||m(n)}var x=function(){var t=function(){return(0,s.jqGetElemById)("prac-markers-".concat(p))};if(null===w[p].$markers||n.reloaded){if(w[p].$markers=t().find(".prac-marker"),w[p].currentPosition=w[p].currentPosition<0?w[p].$markers.filter(".current").data("position"):w[p].currentPosition,s.isMobile&&!n.instantResponse){var i=w[p].solvablesLoaded<w[p].solvableList.length-1;o.default.defer(function(){e.find(".btn-prev:not(.solv-done-btn)").toggleClass("disabled",0===w[p].currentPosition),e.find(".btn-next:not(.solv-done-btn)").toggleClass("disabled",w[p].currentPosition===w[p].solvableList.length-1)}),w[p].$markers.toggleClass("disabled",i),e.find(".actions-container").toggleClass("disabled",i)}}else w[p].$markers.removeClass("current"),w[p].$markers.eq(w[p].currentPosition).addClass("current"),t().empty().append(w[p].$markers);(0,s.jqOffOn)(w[p].$markers,"click.quiznav",C);var a=e.find(".btn-next, .btn-prev").not(".btn-continue");(0,s.jqOffOn)(a,"click.quiznav",C),e.find("#text_answer_entry_form,#mcq-form,#start-over-btn").on("submit",function(){w[p].submitted=!0,w[p].solvablesLoaded!==w[p].solvableList.length&&(e.find(".btn-next,.btn-prev").add(w[p].$markers).addClass("disabled"),e.find(".actions-container").addClass("disabled"))}),I(),l.updateMathjax(e)},I=function(){var t="num-free-solutions-remaining",n="revealed-solution-position",o=e.data(t),a=e.data(n)||[],l=(0,s.jqGetElemById)("alt-solution-btn").children();if(0<o&&(0,s.jqGetElemById)("solv-simple-solution").length)e.data(t,o-1),a.push(w[p].currentPosition),e.data(n,a);else if(0===o&&-1===a.indexOf(w[p].currentPosition)&&l.length){var c=e.find(".btn-solution-full");c.length&&c.each(function(e,t){var n=(0,i.default)(t),o=l.clone(),a=n.parents(".solv-main").find(".solv-details"),s=o.data("ax-id");n.replaceWith(o),s=a.hasClass("incorrect")?s.replace("preloaded","incorrect"):a.hasClass("correct")?s.replace("preloaded","correct"):s.replace("preloaded","nonterminal"),o.data("solvable",a.data("solvable")),o.data("ax-id",s),(0,f.executeFunctionByName)(o.data("controller"),o),(0,r.setAnalyticsEvents)(o.parent())})}};x(),w[p].inited||(w[p].inited=!0,w[p].$markers.each(function(t,n){var a=(0,i.default)(n),r=w[p].currentPosition===t,s=a.data();w[p].solvableList.push({url:a.attr("href"),data:s,viewed:r,content:r?e.find("#solv-main"):v}),r&&!s.isDummy||o.default.defer(function(){var t,n;n=(t=a).data("position"),i.default.get(t.attr("href"),{web_preloading:!0,is_preloading:!0,force_full_page:!0}).then(function(t){w[p].solvableList[n].content=t,e.trigger(i.default.Event("preloaded.p".concat(n))),w[p].solvablesLoaded++,E.forEach(function(e){return e(t)})}).fail(function(){w[p].solvableList[n].content=g,e.trigger(i.default.Event("preloaded.p".concat(n)))})})}),w[p].noHistory||s.$window.on("popstate",function(){if(w[p].submitted||_())window.history.forward();else{var e;try{e=parseInt(window.location.href.match(/p=(\d)/)[1],10)-1}catch(t){e=window.history.state&&"position"in window.history.state?window.history.state.position:0}m(e,!0)}}),w[p].enableKeyboardNav&&(0,d.keyboardNavigation)({eventKey:"preloader",guard:function(){return!(s.$body.hasClass("modal-open")||0<w[p].$markers.filter(".disabled").length||_())},left:function(){m(w[p].currentPosition-1)},right:function(){m(w[p].currentPosition+1)}})),n.instantResponse||(w[p].submitted=!1),n.reloaded=!1,n.instantResponse=!1,n.useTargetPosition&&(null===w[p].targetPosition?(w[p].targetPosition=w[p].currentPosition+1,w[p].targetPosition<w[p].solvableList.length&&m(w[p].targetPosition)):m(w[p].targetPosition),w[p].targetPosition=null)},y.convertDummyPreloader=function(e,t){var n=v;try{n=m(w[t].solvableList,1)[0].content}catch(e){n=g}if(n!==v&&n!==g){var o=(0,i.default)(n);e.empty().append(o),(0,s.jqGetElemById)("admin-sidebar").remove(),e.data("enable-keyboard-nav",!0),w={},y.practice(e),(0,a.initAutosubmit)(o),(0,f.initGenericControllers)(o),(0,r.setAnalyticsEvents)(o),c.default.loadForElement(o)}else window.location.reload()},y.backgroundImages=function(e){var t=function(e,t){var n=window.getComputedStyle(e,t).backgroundImage;if("none"!==n){var i=n.match(/url\(['"]?(.*?)['"]?\)/);i&&x(m(i,2)[1])}};e.find("*").add(e).each(function(e,n){t(n),t(n,":before"),t(n,":after")})},e.exports=y},7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QUIZ_CHAPTER_INTRO_STATE=t.FUNC_NOOP=t.TRANSITION_SPEED_SLOW=t.TRANSITION_SPEED_MEDIUM=t.TRANSITION_SPEED_FAST=t.EVT_VKEY_AFTER_UPDATE=t.EVT_VKEY_BEFORE_UPDATE=t.EVT_VKEY_BASE=t.EVT_QUIZ_POSITION_LOADING=t.EVT_QUIZ_POSITION_DID_CHANGE=t.EVT_QUIZ_POSITION_WILL_CHANGE=t.INTERACTION_TYPES=t.CLASS_NAME_LOADING=t.CLASS_NAME_HIDE=t.CLASS_NAME_DISABLED=t.CLASS_NAME_CHECKED=t.CLASS_NAME_ANIM_IN=t.CLASS_NAME_ACTIVE=void 0,t.CLASS_NAME_ACTIVE="active",t.CLASS_NAME_ANIM_IN="in",t.CLASS_NAME_CHECKED="checked",t.CLASS_NAME_DISABLED="disabled",t.CLASS_NAME_HIDE="hide",t.CLASS_NAME_LOADING="loading",t.INTERACTION_TYPES={STATUS_DOT:"status_dot",CONTINUE_BUTTON:"continue_button",PREV_NEXT_BUTTON:"prev_next_button",ARROW_KEY:"arrow_key",URL_CHANGE:"url_change"},t.EVT_QUIZ_POSITION_WILL_CHANGE="quizPositionWillChange",t.EVT_QUIZ_POSITION_DID_CHANGE="quizPositionDidChange",t.EVT_QUIZ_POSITION_LOADING="quizPositionLoading",t.EVT_VKEY_BASE="vkey";var i="".concat("vkey",".beforeupdate");t.EVT_VKEY_BEFORE_UPDATE=i;var o="".concat("vkey",".afterupdate");t.EVT_VKEY_AFTER_UPDATE=o,t.TRANSITION_SPEED_FAST=100,t.TRANSITION_SPEED_MEDIUM=200,t.TRANSITION_SPEED_SLOW=500,t.FUNC_NOOP=function(){},t.QUIZ_CHAPTER_INTRO_STATE="QUIZ_CHAPTER_INTRO_STATE"},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new u(e)},t.Ajax=void 0;var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(3),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(38)),s=n(5),l=n(19);function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"POST";return i.page_key=i.page_key||e.key,i.version=i.version||window.VERSIONS[i.page_key]||1,i.deferred=i.deferred||!1,i.timeout=i.timeout||9e4,r.isSameOrigin(t)?(o.default.ajax({url:t,data:i,type:l,timeout:i.timeout,cache:!1,success:function(t){"string"==typeof t.redirect&&(i.redirectHandler?Promise.resolve().then(function(){if(n.m[9])return n.t(9,7);var e=new Error("Module '9' is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e}).then(function(e){return(0,e.executeFunctionByName)(i.redirectHandler,t.redirect,i)}):window.location=t.redirect),o.default.each(t.actions||{},function(t,n){var a=window.VERSIONS[n.component_key]||window.VERSIONS[t]||1;if(a===n.version)n.result&&n.result.reload?e.get(n.result.reload,{param_key:t,version:a}):e.success(t,n,i.deferred);else{window.VERSIONS[n.component_key]=n.version;var r=n.js_failure_mode;switch(1<Math.abs(a-n.version)&&(r="hard"),(0,o.default)(".hide-on-error").hide(),r){case"soft_with_update":(0,s.showGenericModal)("Warning","Some of the information in that request\n                                was out of date due to changes to our server code. We're updating\n                                the page."),e.success(t,n);break;case"soft_without_update":(0,s.showGenericModal)("Warning","Some of the information in that request\n                                was out of date due to changes to our server code. You must refresh\n                                the page and try again.");break;case"no_warn_no_update":break;case"hard":window.location.reload();break;default:throw new Error("Unknown failure mode ".concat(r))}}}),o.default.each(t.ajax_tracked_events||{},function(e,t){(0,a.track)(t.event_name,t.event_properties)}),o.default.each(t.messages||{},function(e,t){"error"===t.message_type?(0,s.showGenericModal)("Error",t.message_text):(0,s.showGenericModal)("Warning",t.message_text)})},error:function(t){e.error(t,i)}}),this):e.error({error:"csrf",responseText:"CSRF error",status:0})}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=t||!1}var t,i;return t=e,(i=[{key:"post",value:function(e,t){return d(this,e,t,"POST")}},{key:"get",value:function(e,t){return d(this,e,t,"GET")}},{key:"form",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={},i=(0,o.default)(e);if(0===i.length)return this;n.url="string"==typeof t.url?t.url:i.attr("action"),n.url=n.url||"",n.url=0===n.url.length?window.location.href:n.url,["input:not([type=radio], [type=checkbox])","input[type=checkbox]:checked","input[type=radio]:checked","input[type=checkbox]:selected","select, textarea"].reduce(function(e,t){return e.add(i.find(t))},(0,o.default)()).each(function(e,t){var i=t.name||"";0<i.length&&(n[i]&&n[i]!==t.value?n[i]instanceof Array?n[i].push(t.value):n[i]=[n[i],t.value]:n[i]=t.value)});var a=Object.assign({},n,t,i.data());return i.find("button, input[type=submit], .btn").prop("disabled","disabled").addClass("dim"),d(this,a.url,a,"POST")}},{key:"error",value:function(e,t){(0,o.default)(".hide-on-error").hide(),e.status=e.status||0,t.page_key=this.key,delete t.version,delete t.csrfmiddlewaretoken,delete t.deferred,"timeout"===e.statusText?((0,l.showTimeoutErrorModal)(),t.timeoutHandler&&Promise.resolve().then(function(){if(n.m[9])return n.t(9,7);var e=new Error("Module '9' is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e}).then(function(e){(0,e.executeFunctionByName)(t.timeoutHandler,t),delete t.timeoutHandler}),(0,a.track)("timeout_errors",t)):0<e.status&&((0,l.errorModalHandler)(e),t.status=e.status,(0,a.track)("ajax_errors",t))}},{key:"success",value:function(e,t,n){(window.vkey[t.component_key]||window.vkey.handle)(t,e,n||!1)}}])&&c(t.prototype,i),e}();t.Ajax=u},87:function(e,t,n){"use strict";var i;try{i="localStorage"in window&&null!==window.localStorage;var o="wafer-test",a="wafer-test-value";window.localStorage.setItem(o,a),window.localStorage.getItem(o)!==a&&(i=!1),window.localStorage.removeItem(o)}catch(e){i=!1}if(!i)var r={setItem:function(e,t,n){var i=!0===n?-1:30,o=new Date;o.setDate(o.getDate()+i),document.cookie=e+"="+escape(t)+"; expires="+o.toUTCString()},getItem:function(e){return-1!==document.cookie.indexOf(e+"=")&&unescape(document.cookie.split(e+"=")[1].split(";")[0].replace("=",""))},removeItem:function(e){this.setItem(e,"",!0)}};var s={_s:i?window.localStorage:r,get:function(e){var t=this._s.getItem(e);try{return JSON.parse(t)}catch(e){return t}},set:function(e,t){try{JSON.parse(t)}catch(e){t=JSON.stringify(t)}try{return this._s.setItem(e,t)}catch(e){return!1}},remove:function(e){return this._s.removeItem(e)}};e.exports=s},88:function(e,t,n){"use strict";var i=n(0),o=n(2),a=n(1),r={checkExpiration:function(e,t,n){var i=Date.now(),o=!!e.timestamp&&e.timestamp<=i-n;(localStorage[t+"_timestamp"]&&parseInt(localStorage[t+"_timestamp"])<=i-n||o)&&r.deleteItem(t)},setVal:function(e,t){e.length&&o.defer(function(){var n=e.find('textarea:not(.clone), input[type="text"]'),o=e.data(),a=o.autosaveField,r=!0===o.autosavePassive;if(!t){var s=o.autosaveKey,l=o.autosaveUser;s=l?l+"_"+s:s,t=localStorage[s]?JSON.parse(localStorage[s]):{}}if(!r){var c=t[a];c&&""===n.val().trim()&&(n.val(c),n.trigger(i.Event("input")))}})},save:function(e,t){try{localStorage[e]=t}catch(e){}},deleteItem:function(e){localStorage.removeItem(e),localStorage.removeItem(e+"_timestamp")},controller:function(e){if(!a.supports_local_storage)return!1;var t,n=e.parents("form"),o=e.find('textarea, input[type="text"]'),s=n.find(".autosave-submit"),l=e.data(),c=l.autosaveKey,d=l.autosaveHours,u=l.autosaveField,f=l.autosaveUser,p=l.autosaveHash,h={};c=f?f+"_"+c:c,localStorage[c]&&(h=JSON.parse(localStorage[c]));var m=60*d*60*1e3;r.checkExpiration(h,c,m),r.setVal(e,h);var v=function(){var e=i(this).val();if(h[u]!=e){h[u]=e,h.timestamp=Date.now(),p&&!h.hash&&(h.hash=p);var n=JSON.stringify(h);r.save(c,n),window.onbeforeunload=e!==t?function(){return"You have unsaved edits."}:null}};o.one("focus",function(){t=o.val(),localStorage[c]&&(h=JSON.parse(localStorage[c]))}),o.on("input",v),o.on("autosave.save",v);var g=function(){r.deleteItem(c),window.onbeforeunload=null};s.on("click",g),n.on("autosave.clear",g)},discardEdit:function(e){r.deleteItem(e),window.onbeforeunload=null},getEditHash:function(e){if(localStorage[e])return JSON.parse(localStorage[e]).hash}};e.exports=r},89:function(e,t,n){"use strict";var i=r(n(0)),o=r(n(2)),a=n(1);function r(e){return e&&e.__esModule?e:{default:e}}var s={checkScrollPosition:function(e,t){var n=a.$window.scrollTop(),i=t&&t.top?t.top:10,o=t&&t.bottom?t.bottom:null,r=t&&t.stuckClass?t.stuckClass:"stuck",s=t&&t.stuckBottomClass?t.stuckBottomClass:"stuck-bottom",l=t&&t.handler?t.handler:null,c=i<n,d=!!(o&&o<n),u=e.hasClass(r);!c||d||u?!c&&u?e.removeClass(r):d?(e.removeClass(r),e.addClass(s)):d||e.removeClass(s):(e.addClass(r),e.removeClass(s)),l&&l(e,t)},stick:function(e,t){e.addClass("sticky"),t=t||{};var n,r,l=((t=o.default.extend(t,e.data())).$target&&t.$target.length?t.$target:e).offset().top,c=e.outerHeight(!0),d=(0,i.default)("#header").outerHeight(!0),u=t.bottom?t.bottom:null,f=t.forceBottom?t.forceBottom:null,p=t.handler?t.handler:null;t.namespace?n=t.namespace:e.attr("id")?n="sticky-"+e.attr("id"):window.btoa&&(n="sticky-"+window.btoa(e.text())),r=f||(u?u-c-d:null);var h=function(){s.checkScrollPosition(e,{top:l-d,bottom:r,handler:p})};(0,a.jqOffOn)(a.$window,"scroll.".concat(n," resize.").concat(n),o.default.throttle(h,16)),h()}};e.exports=s},9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeFunctionByName=c,t.initGenericControllers=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.$body,t=1<arguments.length?arguments[1]:void 0,n=Object.assign({callback:o.FUNC_NOOP,force:!1},t),r=e.find("[data-controller]").add(e.filter("[data-controller]"));n.force||(r=r.not("[data-controller-inited]"));var s=[];r.each(function(e,t){var n=(0,i.default)(t),o=n.data("controller");n.attr("data-controller-inited",!0),o&&o.split(",").forEach(function(e){var t=e.trim();t.length&&s.push(c(t,n))})}),Promise.all(s).then(n.callback)};var i=s(n(0)),o=n(7),a=n(1),r=s(n(21));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];var a,s,c,d,u=(s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}((a=e).split(":"),2),c=s[0],void 0===(d=s[1])&&r.default.captureMessage("Controller name is undefined for: ".concat(a)),{context:c,name:d});return new Promise(function(t,o){var a,s,c=(a={},function(t){a[u.context]||(a[u.context]=u.context,r.default.captureMessage("[module error] ".concat(e," (").concat(window.location.pathname,")")),o(t))});try{var d=u.context.split(/\//g)[0];switch(d){case"app":s=n(505)("./".concat(u.context.replace("app/","")));break;case"util":s=n(594)("./".concat(u.context.replace("util/","")));break;default:o(new Error("Subdirectory ".concat(d," is not setup for generic controllers.")))}}catch(t){c(t)}s&&(function(e,t,n){for(var i=function(e){r.default.captureMessage("Invalid controller: ".concat(t.context?"".concat(t.context,":"):""," ").concat(t.name,": ").concat(e))},o=t.name.split("."),a=o.pop(),s=e,c=0;c<o.length;c++)if("object"!==l(s=s[o[c]]))return i("".concat(o[c]," is not an object"));"function"==typeof s[a]?s[a].apply(e,n):i("".concat(a," is not a function"))}(s,u,i),t())})}},90:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodexNotesDisplayHandlerAndroid=t.CodexNotesDisplayHandlerMobile=t.CodexNotesDisplayHandlerBase=t.CodexNoteEditor=void 0;var i=c(n(0)),o=c(n(2)),a=n(1),r=n(3),s=n(7),l=n(56);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}var g=l.CODEX_LINE_HEIGHT;function y(e){return"btn codex-note-btn codex-note-".concat(e)}var _=function(){function e(t){var n=t.cm,i=t.$notesElement;h(this,e),this.cm=n,this.$notesElement=i,this.existingNoteButtons=[],this.readData(),this.renderNoteButtons(),this.bindEvents(),this.handleSecondaryInputs()}return v(e,[{key:"readData",value:function(){var e;try{e=JSON.parse(this.$notesElement.val())}catch(t){e={}}this.notes=e.notes||[],this.showIntro=e.show_intro||!1}},{key:"saveData",value:function(){var e={notes:this.notes};this.showIntro&&(e.show_intro=!0),this.$notesElement.val(JSON.stringify(e,null,2))}},{key:"saveNote",value:function(e,t){for(var n=[],i=[parseInt(t.startLine,10),parseInt(t.endLine,10)].sort(),o=i[0];n.push(o-1),++o<=i[1];);var a={expect_user_to_edit:t.expect_user_to_edit,content:t.content,lines:n};t.show_on_solvable_id&&(a.show_on_solvable_id=parseInt(t.show_on_solvable_id,10));var r=parseInt(t.noteNumber,10);e!==r?(this.notes.splice(e-1,1),this.notes.splice(r-1,0,a)):this.notes.splice(t.noteNumber-1,1,a),this.saveData(),this.renderNoteButtons()}},{key:"deleteNote",value:function(e){this.notes.splice(e-1,1),this.saveData(),this.renderNoteButtons()}},{key:"renderNoteButtons",value:function(){var e=this,t=(0,i.default)(document.createElement("button"));t.addClass(y("edit")),t.css({width:18}),this.existingNoteButtons.forEach(function(e){return e.remove()}),this.existingNoteButtons=[],this.notesPerLine={},this.notes.forEach(function(n,i){var o=t.clone();o.text("".concat(i+1)),o.on("click",function(t){t.preventDefault(),e.showNoteEditModal(n,i+1)}),e.cm.addWidget({line:n.lines[0],ch:0},o[0],!1),o.css(e.getButtonStylesForLineSet(n.lines,22)),e.existingNoteButtons.push(o),n.lines.forEach(function(t){e.notesPerLine[t]=e.notesPerLine[t]||0,e.notesPerLine[t]++})})}},{key:"bindEvents",value:function(){var e=this,t=(0,i.default)(document.createElement("button"));t.addClass("".concat(y("add")," btn-accent")),t.text("+"),this.cm.on("cursorActivity",function(){for(var n=e.cm.doc.listSelections()[0],i=[n.anchor.line,n.head.line].sort(),o=[],r=i[0];o.push(r),++r<=i[1];);(0,a.jqOffOn)(t,"click",function(t){t.preventDefault(),e.showNoteEditModal({lines:o})}),t.css(e.getButtonStylesForLineSet(o)),e.cm.addWidget({line:o[0],ch:0},t[0],!0)})}},{key:"handleSecondaryInputs",value:function(){var e=this,t=(0,a.jqGetElemById)("codex-notes-show-intro");t.on("change",function(){e.showIntro=t.prop("checked"),e.saveData()}),t.prop("checked",this.showIntro)}},{key:"showNoteEditModal",value:function(e,t){var n=this;this.template=this.template||o.default.template((0,a.jqGetElemById)("codex-note-edit-modal").text());var r=this.notes.length+1,s=t||r,l={show_on_solvable_id:"",expect_user_to_edit:!1,content:"",isEditing:e.content&&0<e.content.length,startLine:e.lines[0]+1,endLine:e.lines[e.lines.length-1]+1,maxLineNumber:this.cm.getValue().split("\n").length,editorId:Math.floor(1e3*Math.random()),noteNumber:s,maxNoteNumber:r},c=Object.assign({},l,e);c.content=c.content.replace(/\\n/g,"\n");var d=(0,i.default)(document.createElement("div"));d.html(this.template(c));var u=d.children(".modal");u.find(".btn-delete").on("click",function(e){e.preventDefault(),n.deleteNote(s),u.modal("hide")});var f=u.find("form");f.on("submit",function(e){e.preventDefault();var t={};f.find("input,textarea").each(function(e,n){var i=n.name,o=n.value;"checkbox"===n.type&&(o=n.checked),t[i]=o}),n.saveNote(s,t),u.modal("hide")}),u.appendTo(document.body),u.modal(),f.find(":input:first").focus()}},{key:"getButtonStylesForLineSet",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=e.reduce(function(e,n){var i=t.notesPerLine[n];return e<i?i:e},0);return{right:18*i+4*i+n,width:18,height:e.length*g}}}]),e}();t.CodexNoteEditor=_;var b="codex-notes-active",w=".codex-notes-next",k="codex_viewed_note_item",C=function(){function e(t){var n=t.state,i=t.$container;h(this,e),this.cm=n.cm,this.initialValues={code:n.initialCode,language:n.initialLanguage},this.$container=i,this.$notesWrapper=i.find(".codex-notes"),this.$notesWrapper.length&&(this.$notes=this.$notesWrapper.find(".note,.note-placeholder"),this.$language=i.find("[name=language]"),this.$disableElements=i.find(".disable-during-notes"),this.$showNotesButton=this.$container.find(".codex-show-notes"),this.currentNote=-1,this.numNotes=this.$notes.length,this.existingHighlights=[],this.isShowingNotes=!1,this.isAnimated=!0,this.readNoteData(),this.bindEvents(),this.userHidNotes||(this.userNeedsIntro?this.showIntro():(this.$notesIntro=null,this.showNotes())))}return v(e,[{key:"trackNoteAction",value:function(e){var t={action:e};e===k&&(t=Object.assign({},t,{step_position:this.currentNote+1,is_first_step:0===this.currentNote,is_last_step:this.currentNote===this.numNotes-1,triggered_by:s.INTERACTION_TYPES.PREV_NEXT_BUTTON})),(0,r.track)("ui",t)}},{key:"readNoteData",value:function(){var e=this,t=this.$container.data();this.userNeedsIntro=t.showNotesIntro,this.codexUpdateUrl=t.codexUpdateUrl,this.userHidNotes=t.notesUserHid,this.largestViewedNoteNumber=t.notesLargestViewed,this.notes=[],this.$notes.each(function(t,n){var o=(0,i.default)(n),a=o.data();e.notes.push(Object.assign({$note:o},a)),a.currentNote&&!e.userHidNotes&&(e.currentNote=t-1)})}},{key:"bindEvents",value:function(){var e=this;this.$notesWrapper.find(w).on("click",function(t){t.preventDefault(),e.nextNote()}),this.$showNotesButton.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.$showNotesButton.blur(),e.isShowingNotes?(e.currentNote--,e.hideNotes()):e.showNotes()})}},{key:"showNotes",value:function(){this.userValues={code:this.cm.getValue(),language:this.$language.val()},(0,i.default)(document.body).addClass(b),this.$container.removeClass("expanded"),this.cm.setValue(this.initialValues.code),this.$language.val(this.initialValues.language),this.$disableElements.prop("disabled",!0),this.$showNotesButton.addClass(s.CLASS_NAME_ACTIVE),this.cm.setOption("readOnly",!0),this.$notesWrapper.removeClass(s.CLASS_NAME_HIDE),this.isShowingNotes=!0,this.trackNoteAction("codex_viewed_notes"),this.nextNote()}},{key:"showIntro",value:function(){var e=this;(0,i.default)(document.body).addClass(b),this.$container.removeClass("expanded");var t=this.$container.find(".codex-notes-intro");t.removeClass(s.CLASS_NAME_HIDE).addClass(s.CLASS_NAME_ANIM_IN),t.find(w).on("click",function(n){n.preventDefault(),n.stopPropagation(),t.on("transitionend",function(){t.remove(),e.showNotes()}),t.removeClass(s.CLASS_NAME_ANIM_IN)}),this.userNeedsIntro=!1,this.isShowingNotes=!0,this.trackNoteAction("codex_viewed_intro")}},{key:"baseHideNotes",value:function(){var e=this;this.clearHighlights(),this.cm.setOption("readOnly",!1),this.$disableElements.prop("disabled",!1),this.$showNotesButton.removeClass(s.CLASS_NAME_ACTIVE),this.cm.setValue(this.userValues.code),this.$language.val(this.userValues.language),this.userValues={},this.updateCodexRecord({user_hid_notes:!0}),this.userHidNotes=!0,this.isShowingNotes=!1,this.trackNoteAction("codex_hid_notes");var t=function(){e.$notesWrapper.addClass(s.CLASS_NAME_HIDE),(0,i.default)(document.body).removeClass(b)};this.isAnimated?(this.$notesWrapper.one("transitionend",t),this.$notesWrapper.removeClass(s.CLASS_NAME_ANIM_IN)):t()}},{key:"hideNotes",value:function(){this.baseHideNotes()}},{key:"baseNextNote",value:function(){var e=this;if(this.currentNote++,this.currentNote===this.numNotes)this.currentNote=-1,this.hideNotes();else{var t=function(){var t=e.$notes.eq(e.currentNote);e.$notes.removeClass(s.CLASS_NAME_ACTIVE),t.addClass(s.CLASS_NAME_ACTIVE),e.highlightLines(t.data("lines")),e.positionNote(t),e.$notesWrapper.addClass(s.CLASS_NAME_ANIM_IN);var n=e.currentNote+1;e.updateCodexRecord({largest_viewed_note_number:n}),e.largestViewedNoteNumber=Math.max(e.largestViewedNoteNumber,n)};this.isAnimated&&this.$notesWrapper.hasClass(s.CLASS_NAME_ANIM_IN)?(this.$notesWrapper.one("transitionend",t),this.$notesWrapper.removeClass(s.CLASS_NAME_ANIM_IN)):t(),this.trackNoteAction(k)}}},{key:"nextNote",value:function(){this.baseNextNote()}},{key:"updateCodexRecord",value:function(e){this.codexUpdateUrl&&this.validateCodexRecordAttrs(e)&&i.default.ajax({url:this.codexUpdateUrl,type:"POST",data:JSON.stringify(e),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}})}},{key:"validateCodexRecordAttrs",value:function(e){return!(e.largest_viewed_note_number&&e.largest_viewed_note_number<=this.largestViewedNoteNumber||!0===e.user_hid_notes&&!0===this.userHidNotes)}},{key:"clearHighlights",value:function(){this.existingHighlights.forEach(function(e){return e.remove()}),this.existingHighlights=[]}},{key:"highlightLines",value:function(e){var t=this,n=(0,i.default)(document.createElement("span"));n.addClass("codex-line-highlight"),n.css({height:l.CODEX_LINE_HEIGHT}),this.clearHighlights(),e.forEach(function(i,o){var a=n.clone();0===o&&a.addClass("top"),o===e.length-1&&a.addClass("bottom"),t.cm.addWidget({line:i,ch:0},a[0],!0),a.css({top:parseInt(a.css("top"),10)-l.CODEX_LINE_HEIGHT}),t.existingHighlights.push(a)})}},{key:"positionNote",value:function(e){if(!a.isMobile){var t=parseInt(this.existingHighlights[0].css("top"),10)+l.CODEX_LINE_HEIGHT*this.existingHighlights.length/2,n=e.outerHeight(),i=this.$container.find("header").outerHeight(),o=this.$container.find(".codex-form").outerHeight()-n-4,r=t-n/2+i-this.$container.find(".CodeMirror-scroll").scrollTop();r=Math.min(Math.max(4,r),o),this.$notesWrapper.css({top:r})}}}]),e}();t.CodexNotesDisplayHandlerBase=C;var x=function(e){function t(){return h(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,C),v(t,[{key:"nextNote",value:function(){var e=this;this.baseNextNote(),this.isShowingNotes&&setTimeout(function(){var t=(0,i.default)(e.$notes[e.currentNote]),n=e.$container.offset().top-t.outerHeight(),o=a.$window.scrollTop(),r=n<o,s=e.$container.offset().top-o,l=e.$container.find(".codex-form").outerHeight(),c=a.$window.height();(r||0<s+l-c)&&(0,a.setScrollPosition)(n)},1)}}]),t}();t.CodexNotesDisplayHandlerMobile=x;var E={},I=function(e){function t(e){var n,i=e.state,o=e.$container;return h(this,t),(n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{state:i,$container:o}))).isAnimated=!1,n.envId=o.data("codex-env-id"),E[n.envId]=f(n),window.Android||(window.Android={}),window.Android.codexTappedNext||(window.Android.codexTappedNext=function(e){var t=E[e];t&&t.nextNote()}),n}return p(t,C),v(t,[{key:"hideNotes",value:function(){this.baseHideNotes();try{window.Android.codexHideNotes(this.envId)}catch(e){throw new Error("Bridge function unavailable: codexHideNotes")}}},{key:"nextNote",value:function(){this.baseNextNote();try{window.Android.codexShowNote(this.envId,this.currentNote)}catch(e){throw new Error("Bridge function unavailable: codexShowNote")}}}]),t}();t.CodexNotesDisplayHandlerAndroid=I},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodexDeemphasizer=t.CodexDeemphasizerEditor=void 0;var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(158),r=n(56);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function d(e){return e.map(function(e){return Object.assign({},e)})}function u(e){var t=e.deemphasizeInfo,n=e.initial,i=e.current,o=d(t),r=0,s=0,l=(0,a.diffLines)(n,i);return l.forEach(function(e,t){var n=e.value.split("\n").length-1;if(e.removed&&(n*=-1),e.added)n+=s;else if(e.removed&&l[t+1]&&l[t+1].added)return void(s=n);(e.added||e.removed)&&o.forEach(function(e){e.start>=r&&(e.start+=n),e.end>=r&&(e.end+=n)}),r+=n-s,s=0}),o}function f(e){var t=e.cm,n=e.existingSections,i=e.deemphasizeInfo,a=e.className,s=n.slice(0,n.length);if(s.forEach(function(e){return e.remove()}),s=[],i.length){var l=(0,o.default)("<div/>");l.addClass(a),l.css({height:r.CODEX_LINE_HEIGHT}),i.forEach(function(e,n){for(var i=e.start;i<=e.end;){var o=l.clone();o.attr("data-index",n),o.css({marginTop:-r.CODEX_LINE_HEIGHT}),t.addWidget({line:i,ch:0},o[0],!1),e.prevent_click&&o.addClass("prevent-click"),s.push(o),i++}})}return s}var p=function(){function e(t){var n=t.cm,i=t.$deemphasizeField,o=t.$deemphasizeContainer;s(this,e),this.cm=n,this.$deemphasizeField=i,this.$deemphasizeContainer=o,this.initialCode=this.cm.getValue(),this.existingSections=[],this.readData(),this.renderFields(),this.renderCodexAnnotations(),this.bindCodeMirrorEvents()}return c(e,[{key:"readData",value:function(){try{this.data=JSON.parse(this.$deemphasizeField.val())}catch(e){this.data={}}this.deemphasizeInfo=this.data.deemphasizeInfo||[]}},{key:"saveData",value:function(){var e=this,t=this.deemphasizeInfo.filter(function(t){return e.validateInfoItem(t).success}).map(function(e){return Object.assign({prevent_click:!0===e.prevent_click},e)}),n={};t.length&&(n.deemphasizeInfo=t),this.$deemphasizeField.val(JSON.stringify(n,null,2))}},{key:"renderFields",value:function(){var e=this;if(this.$deemphasizeContainer.empty(),this.deemphasizeInfo.length){var t=(0,o.default)("<table/>"),n=(0,o.default)("<tbody/>");t.append("\n        <thead>\n            <tr>\n                <th>Line start</th>\n                <th>Line end</th>\n                <th>Prevent click?</th>\n                <th>Valid?</th>\n                <th>&nbsp;</th>\n            </tr>\n        </thead>\n    "),t.append(n),this.deemphasizeInfo.forEach(function(t,i){n.append(function(e){var t=e.index,n=e.data,i=e.numLines;return'\n        <tr data-index="'.concat(t,'">\n            <td class="number">\n                <input type="number"\n                    min="1"\n                    max="').concat(i,'"\n                    value="').concat(n.start,'"\n                    data-name="start">\n            </td>\n            <td class="number">\n                <input type="number"\n                    min="1"\n                    max="').concat(i,'"\n                    value="').concat(n.end,'"\n                    data-name="end">\n            </td>\n            <td class="checkbox">\n                <input type="checkbox"\n                    ').concat(n.prevent_click?"checked":"",'\n                    data-name="prevent_click">\n            </td>\n            <td class="error">\n                ').concat(0<n.start&&0<n.end?"&#128077;":"&hellip;",'\n            </td>\n            <td class="remove">\n                <span class="remove-row css-sprite-global" data-index="').concat(t,'"></span>\n            </td>\n        </tr>\n    ')}({index:i,data:{start:""===t.start?"":t.start+1,end:""===t.end?"":t.end+1,prevent_click:t.prevent_click},numLines:e.getNumLines()}))}),this.$deemphasizeContainer.append(t)}this.$deemphasizeContainer.append('<span class="btn add-row">Add de-emphasized section</span>'),this.bindFieldsEvents()}},{key:"renderCodexAnnotations",value:function(){this.existingSections=f({cm:this.cm,existingSections:this.existingSections,deemphasizeInfo:this.deemphasizeInfo,className:"codex-deemphasize-highlight-admin"})}},{key:"bindFieldsEvents",value:function(){var e=this;this.$deemphasizeContainer.find(".add-row").on("click",function(){e.deemphasizeInfo.push({start:"",end:"",prevent_click:!1}),e.renderFields()}),this.$deemphasizeContainer.find(".remove-row").on("click",function(t){e.deemphasizeInfo.splice((0,o.default)(t.target).data("index"),1),e.renderFields(),e.renderCodexAnnotations(),e.saveData()}),this.$deemphasizeContainer.find("input").on("input",function(t){var n=(0,o.default)(t.target).parents("tr"),i=n.find("input"),a=n.data("index"),r={};i.each(function(e,t){var n,i=(0,o.default)(t),a=i.prop("type");switch(a){case"number":n=parseInt(i.val(),10)-1,Number.isNaN(n)&&(n=null);break;case"checkbox":n=i.prop("checked");break;default:throw new Error("Unexpected input type: ".concat(a))}r[i.data("name")]=n});var s=e.validateInfoItem(r),l=n.find(".error");s.success?(l.html("&#128077;"),e.deemphasizeInfo[a]=r,e.renderCodexAnnotations(),e.saveData()):l.html("".concat("&#128577;"," ").concat(s.error))})}},{key:"bindCodeMirrorEvents",value:function(){var e=this;this.cm.on("change",function(){var t=e.cm.getValue();e.deemphasizeInfo=u({deemphasizeInfo:e.deemphasizeInfo,initial:e.initialCode,current:t}),e.initialCode=t,e.renderFields(),e.renderCodexAnnotations(),e.saveData()})}},{key:"getNumLines",value:function(){return this.cm.getValue().split("\n").length}},{key:"validateInfoItem",value:function(e){var t=this.getNumLines(),n=!1,i=null;return"number"!=typeof e.start?i="Start is not a number":"number"!=typeof e.end?i="End is not a number":e.start<0||e.end<0?i="Start and end must be greater than 0":e.start>=t||e.end>=t?i="Start and end must be less than ".concat(t):e.start>e.end?i="Start is greater than end":n=!0,{success:n,error:i}}}]),e}();t.CodexDeemphasizerEditor=p;var h={},m=function(){function e(t){var n=t.cm,i=t.data,o=t.envId,a=t.initialCode;s(this,e),this.cm=n,this.envId=o;var r=h[o]||{};this.deemphasizeInfo=r.current||i.deemphasizeInfo||[],this.initialDeemphasizeInfo=r.initial||d(this.deemphasizeInfo),this.initialCode=a,this.existingSections=[],this.deemphasizeClassName="codex-deemphasize-highlight",this.updateData(),this.render(),this.bindCodeMirrorEvents(),this.bindDeemphasizeEvents()}return c(e,[{key:"render",value:function(){this.existingSections=f({cm:this.cm,existingSections:this.existingSections,deemphasizeInfo:this.deemphasizeInfo,className:this.deemphasizeClassName})}},{key:"bindCodeMirrorEvents",value:function(){var e=this;this.cm.on("change",function(){e.updateData(),e.render(),e.bindDeemphasizeEvents()}),this.cm.on("beforeChange",function(t,n){if(!e.cm.brilliant.isEditing)for(var i=0;i<e.deemphasizeInfo.length;i++){var o=e.deemphasizeInfo[i];if(n.from.line>=o.start&&n.from.line<=o.end){n.cancel();break}}})}},{key:"bindDeemphasizeEvents",value:function(){var e=this;if(this.existingSections.length){var t=this.existingSections[0],n=t.add(t.siblings(".".concat(this.deemphasizeClassName)));n.on("mouseenter",function(e){var t=(0,o.default)(e.target);n.removeClass("hover"),n.filter("[data-index=".concat(t.data("index"),"]")).addClass("hover")}),n.on("mouseleave",function(){return n.removeClass("hover")}),n.filter(":not(.prevent-click)").on("click",function(t){e.removeInfoItem((0,o.default)(t.target).data("index")),e.render(),e.bindDeemphasizeEvents()})}}},{key:"removeInfoItem",value:function(e){this.deemphasizeInfo.splice(e,1),this.initialDeemphasizeInfo.splice(e,1),h[this.envId]={initial:d(this.initialDeemphasizeInfo),current:d(this.deemphasizeInfo)}}},{key:"updateData",value:function(){this.deemphasizeInfo=u({deemphasizeInfo:d(this.initialDeemphasizeInfo),initial:this.initialCode,current:this.cm.getValue()})}}]),e}();t.CodexDeemphasizer=m},92:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedContext=function(e){return a[e]||(a[e]=new r),a[e]};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(55));function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a={},r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=null,this.$output=null}var t,n;return t=e,(n=[{key:"applyContext",value:function(e,t){if(this.value&&(i.setValue(t,this.value),e.find(".codex-textarea textarea").val(this.value)),this.$output){var n=e.find(".codex-output");n.length?n.replaceWith(this.$output):e.append(this.$output)}else{var o=e.find(".codex-output");o.length&&(this.$output=o.clone())}}},{key:"setValue",value:function(e){this.value=e}},{key:"clearOutput",value:function(){this.$output=null}}])&&o(t.prototype,n),e}()}});
//# sourceMappingURL=brilliant_entry.js.map